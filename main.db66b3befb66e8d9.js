"use strict";(self.webpackChunkpucelant=self.webpackChunkpucelant||[]).push([[179],{2011:(nt,De,N)=>{N.d(De,{hO:()=>He,xv:()=>ue,Dh:()=>de,GT:()=>ge,cc:()=>Te,on:()=>B,pX:()=>J});var f=N(5e3),K=N(127),R=N(5813);nt=N.hmd(nt);const oe=["ngOnDestroy"],J=(we,Ke,Ge,Ie={})=>new Proxy(we,{get:(_e,ve)=>Ge.runOutsideAngular(()=>{var je;if(we[ve])return(null===(je=null==Ie?void 0:Ie.spy)||void 0===je?void 0:je.get)&&Ie.spy.get(ve,we[ve]),we[ve];if(oe.indexOf(ve)>-1)return()=>{};const Be=Ke.toPromise().then(ee=>{const q=ee&&ee[ve];return"function"==typeof q?q.bind(ee):q&&q.then?q.then(te=>Ge.run(()=>te)):Ge.run(()=>q)});return new Proxy(()=>{},{get:(ee,q)=>Be[q],apply:(ee,q,te)=>Be.then(me=>{var ne;const Me=me&&me(...te);return(null===(ne=null==Ie?void 0:Ie.spy)||void 0===ne?void 0:ne.apply)&&Ie.spy.apply(ve,te,Me),Me})})})}),ge=(we,Ke)=>{Ke.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Ie=>{Object.defineProperty(we.prototype,Ie,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Ie))})})};class ie{constructor(Ke){return Ke}}const de=new f.OlP("angularfire2.app.options"),ue=new f.OlP("angularfire2.app.name");function B(we,Ke,Ge){const _e="object"==typeof Ge&&Ge||{};_e.name=_e.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const je=K.Z.apps.filter(Be=>Be&&Be.name===_e.name)[0]||Ke.runOutsideAngular(()=>K.Z.initializeApp(we,_e));try{JSON.stringify(we)!==JSON.stringify(je.options)&&j("error",`${je.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Be){}return new ie(je)}const j=(we,...Ke)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[we](...Ke)},Q={provide:ie,useFactory:B,deps:[de,f.R0b,[new f.FiY,ue]]};let He=(()=>{class we{constructor(Ge){K.Z.registerVersion("angularfire",R.q4.full,"core"),K.Z.registerVersion("angularfire",R.q4.full,"app-compat"),K.Z.registerVersion("angular",f.q4F.full,Ge.toString())}static initializeApp(Ge,Ie){return{ngModule:we,providers:[{provide:de,useValue:Ge},{provide:ue,useValue:Ie}]}}}return we.\u0275fac=function(Ge){return new(Ge||we)(f.LFG(f.Lbi))},we.\u0275mod=f.oAB({type:we}),we.\u0275inj=f.cJS({providers:[Q]}),we})();function Te(we,Ke,Ge,Ie,_e){const[,ve,je]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===we)||[];if(ve)return function xe(we,Ke){try{return we.toString()===Ke.toString()}catch(Ge){return we===Ke}}(_e,je)||(he("error",`${Ke} was already initialized on the ${Ge} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:_e,was:je})),ve;{const Be=Ie();return globalThis.\u0275AngularfireInstanceCache.push([we,Be,_e]),Be}}const Ne=!!nt.hot,he=(we,...Ke)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[we](...Ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(nt,De,N)=>{N.d(De,{q4:()=>gu,iC:()=>Il,HU:()=>Cl,vb:()=>Gh,JM:()=>ya});var f=N(5e3),K=N(5867),R=N(5861),oe=N(9681),J=N(2090),ge=N(4859),ie=N(1877);const de="@firebase/installations",j="w:0.5.7",Q="FIS_v2",we=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(I){return I instanceof J.ZR&&I.code.includes("request-failed")}function Ge({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Ie(I){return{token:I.token,requestStatus:2,expiresIn:te(I.expiresIn),creationTime:Date.now()}}function _e(I,b){return ve.apply(this,arguments)}function ve(){return(ve=(0,R.Z)(function*(I,b){const F=(yield b.json()).error;return we.create("request-failed",{requestName:I,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function je({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Be(I,{refreshToken:b}){const M=je(I);return M.append("Authorization",function me(I){return`${Q} ${I}`}(b)),M}function ee(I){return q.apply(this,arguments)}function q(){return(q=(0,R.Z)(function*(I){const b=yield I();return b.status>=500&&b.status<600?I():b})).apply(this,arguments)}function te(I){return Number(I.replace("s","000"))}function ne(I,b){return Me.apply(this,arguments)}function Me(){return(Me=(0,R.Z)(function*({appConfig:I,heartbeatServiceProvider:b},{fid:M}){const F=Ge(I),z=je(I),X=b.getImmediate({optional:!0});if(X){const yt=yield X.getHeartbeatsHeader();yt&&z.append("x-firebase-client",yt)}const qe={method:"POST",headers:z,body:JSON.stringify({fid:M,authVersion:Q,appId:I.appId,sdkVersion:j})},Qe=yield ee(()=>fetch(F,qe));if(Qe.ok){const yt=yield Qe.json();return{fid:yt.fid||M,registrationStatus:2,refreshToken:yt.refreshToken,authToken:Ie(yt.authToken)}}throw yield _e("Create Installation",Qe)})).apply(this,arguments)}function se(I){return new Promise(b=>{setTimeout(b,I)})}const Kt=/^[cdef][\w-]{21}$/;function rt(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const M=function dt(I){return function vt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Kt.test(M)?M:""}catch(I){return""}}function sn(I){return`${I.appName}!${I.appId}`}const on=new Map;function yi(I,b){const M=sn(I);Yt(M,b),function Lt(I,b){const M=function ei(){return!Yn&&"BroadcastChannel"in self&&(Yn=new BroadcastChannel("[Firebase] FID Change"),Yn.onmessage=I=>{Yt(I.data.key,I.data.fid)}),Yn}();M&&M.postMessage({key:I,fid:b}),function Es(){0===on.size&&Yn&&(Yn.close(),Yn=null)}()}(M,b)}function Yt(I,b){const M=on.get(I);if(M)for(const F of M)F(b)}let Yn=null;const Tr="firebase-installations-store";let Gi=null;function qi(){return Gi||(Gi=(0,J.X3)("firebase-installations-database",1,(I,b)=>{0===b&&I.createObjectStore(Tr)})),Gi}function st(I,b){return kr.apply(this,arguments)}function kr(){return(kr=(0,R.Z)(function*(I,b){const M=sn(I),z=(yield qi()).transaction(Tr,"readwrite"),X=z.objectStore(Tr),Se=yield X.get(M);return yield X.put(b,M),yield z.complete,(!Se||Se.fid!==b.fid)&&yi(I,b.fid),b})).apply(this,arguments)}function $n(I){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,R.Z)(function*(I){const b=sn(I),F=(yield qi()).transaction(Tr,"readwrite");yield F.objectStore(Tr).delete(b),yield F.complete})).apply(this,arguments)}function ti(I,b){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,R.Z)(function*(I,b){const M=sn(I),z=(yield qi()).transaction(Tr,"readwrite"),X=z.objectStore(Tr),Se=yield X.get(M),qe=b(Se);return void 0===qe?yield X.delete(M):yield X.put(qe,M),yield z.complete,qe&&(!Se||Se.fid!==qe.fid)&&yi(I,qe.fid),qe})).apply(this,arguments)}function hn(I){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,R.Z)(function*(I){let b;const M=yield ti(I.appConfig,F=>{const z=Cs(F),X=ta(I,z);return b=X.registrationPromise,X.installationEntry});return""===M.fid?{installationEntry:yield b}:{installationEntry:M,registrationPromise:b}})).apply(this,arguments)}function Cs(I){return kt(I||{fid:rt(),registrationStatus:0})}function ta(I,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(we.create("app-offline"))};const M={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},F=function Vt(I,b){return et.apply(this,arguments)}(I,M);return{installationEntry:M,registrationPromise:F}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:mt(I)}:{installationEntry:b}}function et(){return(et=(0,R.Z)(function*(I,b){try{const M=yield ne(I,b);return st(I.appConfig,M)}catch(M){throw Ke(M)&&409===M.customData.serverCode?yield $n(I.appConfig):yield st(I.appConfig,{fid:b.fid,registrationStatus:0}),M}})).apply(this,arguments)}function mt(I){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,R.Z)(function*(I){let b=yield Si(I.appConfig);for(;1===b.registrationStatus;)yield se(100),b=yield Si(I.appConfig);if(0===b.registrationStatus){const{installationEntry:M,registrationPromise:F}=yield hn(I);return F||M}return b})).apply(this,arguments)}function Si(I){return ti(I,b=>{if(!b)throw we.create("installation-not-found");return kt(b)})}function kt(I){return function Qs(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function lr(I,b){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,R.Z)(function*({appConfig:I,heartbeatServiceProvider:b},M){const F=at(I,M),z=Be(I,M),X=b.getImmediate({optional:!0});if(X){const yt=yield X.getHeartbeatsHeader();yt&&z.append("x-firebase-client",yt)}const qe={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:j,appId:I.appId}})},Qe=yield ee(()=>fetch(F,qe));if(Qe.ok)return Ie(yield Qe.json());throw yield _e("Generate Auth Token",Qe)})).apply(this,arguments)}function at(I,{fid:b}){return`${Ge(I)}/${b}/authTokens:generate`}function cr(I){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,R.Z)(function*(I,b=!1){let M;const F=yield ti(I.appConfig,X=>{if(!Mt(X))throw we.create("not-registered");const Se=X.authToken;if(!b&&U(Se))return X;if(1===Se.requestStatus)return M=ze(I,b),X;{if(!navigator.onLine)throw we.create("app-offline");const qe=$(X);return M=ut(I,qe),qe}});return M?yield M:F.authToken})).apply(this,arguments)}function ze(I,b){return be.apply(this,arguments)}function be(){return(be=(0,R.Z)(function*(I,b){let M=yield Ze(I.appConfig);for(;1===M.authToken.requestStatus;)yield se(100),M=yield Ze(I.appConfig);const F=M.authToken;return 0===F.requestStatus?cr(I,b):F})).apply(this,arguments)}function Ze(I){return ti(I,b=>{if(!Mt(b))throw we.create("not-registered");return function le(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function ut(I,b){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,R.Z)(function*(I,b){try{const M=yield lr(I,b),F=Object.assign(Object.assign({},b),{authToken:M});return yield st(I.appConfig,F),M}catch(M){if(!Ke(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const F=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield st(I.appConfig,F)}else yield $n(I.appConfig);throw M}})).apply(this,arguments)}function Mt(I){return void 0!==I&&2===I.registrationStatus}function U(I){return 2===I.requestStatus&&!function L(I){const b=Date.now();return b<I.creationTime||I.creationTime+I.expiresIn<b+36e5}(I)}function $(I){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:b})}function Fe(){return(Fe=(0,R.Z)(function*(I){const b=I,{installationEntry:M,registrationPromise:F}=yield hn(b);return F?F.catch(console.error):cr(b).catch(console.error),M.fid})).apply(this,arguments)}function qt(){return(qt=(0,R.Z)(function*(I,b=!1){const M=I;return yield dr(M),(yield cr(M,b)).token})).apply(this,arguments)}function dr(I){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,R.Z)(function*(I){const{registrationPromise:b}=yield hn(I);b&&(yield b)})).apply(this,arguments)}function kn(I){return we.create("missing-app-config-values",{valueName:I})}const ra="installations",Oe=I=>{const b=I.getProvider("app").getImmediate(),M=function zi(I){if(!I||!I.options)throw kn("App Configuration");if(!I.name)throw kn("App Name");const b=["projectId","apiKey","appId"];for(const M of b)if(!I.options[M])throw kn(M);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(b);return{app:b,appConfig:M,heartbeatServiceProvider:(0,oe._getProvider)(b,"heartbeat"),_delete:()=>Promise.resolve()}},St=I=>{const b=I.getProvider("app").getImmediate(),M=(0,oe._getProvider)(b,ra).getImmediate();return{getId:()=>function Y(I){return Fe.apply(this,arguments)}(M),getToken:z=>function ht(I){return qt.apply(this,arguments)}(M,z)}};(function un(){(0,oe._registerComponent)(new ge.wA(ra,Oe,"PUBLIC")),(0,oe._registerComponent)(new ge.wA("installations-internal",St,"PRIVATE"))})(),(0,oe.registerVersion)(de,"0.5.7"),(0,oe.registerVersion)(de,"0.5.7","esm2017");const Xn="@firebase/remote-config",An=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Nh{constructor(b,M,F,z){this.client=b,this.storage=M,this.storageCache=F,this.logger=z}isCachedDataFresh(b,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-M,z=F<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${z}.`),z}fetch(b){var M=this;return(0,R.Z)(function*(){const[F,z]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(z&&M.isCachedDataFresh(b.cacheMaxAgeMillis,F))return z;b.eTag=z&&z.eTag;const X=yield M.client.fetch(b),Se=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&Se.push(M.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(Se),X})()}}function Nc(I=navigator){return I.languages&&I.languages[0]||I.language}class Wa{constructor(b,M,F,z,X,Se){this.firebaseInstallations=b,this.sdkVersion=M,this.namespace=F,this.projectId=z,this.apiKey=X,this.appId=Se}fetch(b){var M=this;return(0,R.Z)(function*(){const[F,z]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},Qe={sdk_version:M.sdkVersion,app_instance_id:F,app_instance_id_token:z,app_id:M.appId,language_code:Nc()},yt={method:"POST",headers:qe,body:JSON.stringify(Qe)},Nt=fetch(Se,yt),_t=new Promise((yr,$s)=>{b.signal.addEventListener(()=>{const os=new Error("The operation was aborted.");os.name="AbortError",$s(os)})});let qn;try{yield Promise.race([Nt,_t]),qn=yield Nt}catch(yr){let $s="fetch-client-network";throw"AbortError"===yr.name&&($s="fetch-timeout"),An.create($s,{originalErrorMessage:yr.message})}let _n=qn.status;const Pi=qn.headers.get("ETag")||void 0;let yo,mr;if(200===qn.status){let yr;try{yr=yield qn.json()}catch($s){throw An.create("fetch-client-parse",{originalErrorMessage:$s.message})}yo=yr.entries,mr=yr.state}if("INSTANCE_STATE_UNSPECIFIED"===mr?_n=500:"NO_CHANGE"===mr?_n=304:("NO_TEMPLATE"===mr||"EMPTY_CONFIG"===mr)&&(yo={}),304!==_n&&200!==_n)throw An.create("fetch-status",{httpStatus:_n});return{status:_n,eTag:Pi,config:yo}})()}}class jp{constructor(b,M){this.client=b,this.storage=M}fetch(b){var M=this;return(0,R.Z)(function*(){const F=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(b,F)})()}attemptFetch(b,{throttleEndTimeMillis:M,backoffCount:F}){var z=this;return(0,R.Z)(function*(){yield function On(I,b){return new Promise((M,F)=>{const z=Math.max(b-Date.now(),0),X=setTimeout(M,z);I.addEventListener(()=>{clearTimeout(X),F(An.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,M);try{const X=yield z.client.fetch(b);return yield z.storage.deleteThrottleMetadata(),X}catch(X){if(!function kc(I){if(!(I instanceof J.ZR&&I.customData))return!1;const b=Number(I.customData.httpStatus);return 429===b||500===b||503===b||504===b}(X))throw X;const Se={throttleEndTimeMillis:Date.now()+(0,J.$s)(F),backoffCount:F+1};return yield z.storage.setThrottleMetadata(Se),z.attemptFetch(b,Se)}})()}}class Fc{constructor(b,M,F,z,X){this.app=b,this._client=M,this._storageCache=F,this._storage=z,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Yu(I,b){const M=I.target.error||void 0;return An.create(b,{originalErrorMessage:M&&M.message})}const Ss="app_namespace_store";class qp{constructor(b,M,F,z=function Gp(){return new Promise((I,b)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=F=>{b(Yu(F,"storage-open"))},M.onsuccess=F=>{I(F.target.result)},M.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Ss,{keyPath:"compositeKey"})}}catch(M){b(An.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=b,this.appName=M,this.namespace=F,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var M=this;return(0,R.Z)(function*(){const F=yield M.openDbPromise;return new Promise((z,X)=>{const qe=F.transaction([Ss],"readonly").objectStore(Ss),Qe=M.createCompositeKey(b);try{const yt=qe.get(Qe);yt.onerror=Nt=>{X(Yu(Nt,"storage-get"))},yt.onsuccess=Nt=>{const _t=Nt.target.result;z(_t?_t.value:void 0)}}catch(yt){X(An.create("storage-get",{originalErrorMessage:yt&&yt.message}))}})})()}set(b,M){var F=this;return(0,R.Z)(function*(){const z=yield F.openDbPromise;return new Promise((X,Se)=>{const Qe=z.transaction([Ss],"readwrite").objectStore(Ss),yt=F.createCompositeKey(b);try{const Nt=Qe.put({compositeKey:yt,value:M});Nt.onerror=_t=>{Se(Yu(_t,"storage-set"))},Nt.onsuccess=()=>{X()}}catch(Nt){Se(An.create("storage-set",{originalErrorMessage:Nt&&Nt.message}))}})})()}delete(b){var M=this;return(0,R.Z)(function*(){const F=yield M.openDbPromise;return new Promise((z,X)=>{const qe=F.transaction([Ss],"readwrite").objectStore(Ss),Qe=M.createCompositeKey(b);try{const yt=qe.delete(Qe);yt.onerror=Nt=>{X(Yu(Nt,"storage-delete"))},yt.onsuccess=()=>{z()}}catch(yt){X(An.create("storage-delete",{originalErrorMessage:yt&&yt.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class Vc{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,R.Z)(function*(){const M=b.storage.getLastFetchStatus(),F=b.storage.getLastSuccessfulFetchTimestampMillis(),z=b.storage.getActiveConfig(),X=yield M;X&&(b.lastFetchStatus=X);const Se=yield F;Se&&(b.lastSuccessfulFetchTimestampMillis=Se);const qe=yield z;qe&&(b.activeConfig=qe)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function Xs(){return kh.apply(this,arguments)}function kh(){return(kh=(0,R.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(I){return!1}})).apply(this,arguments)}!function xo(){(0,oe._registerComponent)(new ge.wA("remote-config",function I(b,{instanceIdentifier:M}){const F=b.getProvider("app").getImmediate(),z=b.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw An.create("registration-window");if(!(0,J.hl)())throw An.create("indexed-db-unavailable");const{projectId:X,apiKey:Se,appId:qe}=F.options;if(!X)throw An.create("registration-project-id");if(!Se)throw An.create("registration-api-key");if(!qe)throw An.create("registration-app-id");const Qe=new qp(qe,F.name,M=M||"firebase"),yt=new Vc(Qe),Nt=new ie.Yd(Xn);Nt.logLevel=ie.in.ERROR;const _t=new Wa(z,oe.SDK_VERSION,M,X,Se,qe),qn=new jp(_t,Qe),_n=new Nh(qn,Qe,yt,Nt),Pi=new Fc(F,_n,yt,Qe,Nt);return function Fr(I){const b=(0,J.m9)(I);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(Pi),Pi},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Xn,"0.3.6"),(0,oe.registerVersion)(Xn,"0.3.6","esm2017")}();const Qu="/firebase-messaging-sw.js",Ms="/firebase-cloud-messaging-push-scope",Vr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eo="google.c.a.c_id",sa="google.c.a.c_l",Uc="google.c.a.ts",zp="google.c.a.e";var xs=(()=>{return(I=xs||(xs={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",xs;var I})();function ii(I){const b=new Uint8Array(I);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ka(I){const M=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(M),z=new Uint8Array(F.length);for(let X=0;X<F.length;++X)z[X]=F.charCodeAt(X);return z}const Ya="fcm_token_details_db",tr="fcm_token_object_Store";function Fh(I){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,R.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(Ya))return null;let b=null;return(yield(0,J.X3)(Ya,5,function(){var F=(0,R.Z)(function*(z,X,Se,qe){var Qe;if(X<2||!z.objectStoreNames.contains(tr))return;const yt=qe.objectStore(tr),Nt=yield yt.index("fcmSenderId").get(I);if(yield yt.clear(),Nt)if(2===X){const _t=Nt;if(!_t.auth||!_t.p256dh||!_t.endpoint)return;b={token:_t.fcmToken,createTime:null!==(Qe=_t.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:_t.auth,p256dh:_t.p256dh,endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:"string"==typeof _t.vapidKey?_t.vapidKey:ii(_t.vapidKey)}}}else if(3===X){const _t=Nt;b={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:ii(_t.auth),p256dh:ii(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:ii(_t.vapidKey)}}}else if(4===X){const _t=Nt;b={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:ii(_t.auth),p256dh:ii(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:ii(_t.vapidKey)}}}});return function(z,X,Se,qe){return F.apply(this,arguments)}}())).close(),yield(0,J.Lj)(Ya),yield(0,J.Lj)("fcm_vapid_details_db"),yield(0,J.Lj)("undefined"),Bc(b)?b:null}),Qa.apply(this,arguments)}function Bc(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:b}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}const Yi="firebase-messaging-store";let oa=null;function Ju(){return oa||(oa=(0,J.X3)("firebase-messaging-database",1,(I,b)=>{0===b&&I.createObjectStore(Yi)})),oa}function cn(I){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,R.Z)(function*(I){const b=no(I),F=yield(yield Ju()).transaction(Yi).objectStore(Yi).get(b);if(F)return F;{const z=yield Fh(I.appConfig.senderId);if(z)return yield Os(I,z),z}})).apply(this,arguments)}function Os(I,b){return nn.apply(this,arguments)}function nn(){return(nn=(0,R.Z)(function*(I,b){const M=no(I),z=(yield Ju()).transaction(Yi,"readwrite");return yield z.objectStore(Yi).put(b,M),yield z.complete,b})).apply(this,arguments)}function jc(I){return to.apply(this,arguments)}function to(){return(to=(0,R.Z)(function*(I){const b=no(I),F=(yield Ju()).transaction(Yi,"readwrite");yield F.objectStore(Yi).delete(b),yield F.complete})).apply(this,arguments)}function no({appConfig:I}){return I.appId}const Sn=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function aa(I,b){return vi.apply(this,arguments)}function vi(){return(vi=(0,R.Z)(function*(I,b){const M=yield Rs(I),F=lt(b),z={method:"POST",headers:M,body:JSON.stringify(F)};let X;try{X=yield(yield fetch(Br(I.appConfig),z)).json()}catch(Se){throw Sn.create("token-subscribe-failed",{errorInfo:Se})}if(X.error)throw Sn.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw Sn.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function fr(I,b){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,R.Z)(function*(I,b){const M=yield Rs(I),F=lt(b.subscriptionOptions),z={method:"PATCH",headers:M,body:JSON.stringify(F)};let X;try{X=yield(yield fetch(`${Br(I.appConfig)}/${b.token}`,z)).json()}catch(Se){throw Sn.create("token-update-failed",{errorInfo:Se})}if(X.error)throw Sn.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw Sn.create("token-update-no-token");return X.token})).apply(this,arguments)}function Qi(I,b){return eu.apply(this,arguments)}function eu(){return(eu=(0,R.Z)(function*(I,b){const F={method:"DELETE",headers:yield Rs(I)};try{const X=yield(yield fetch(`${Br(I.appConfig)}/${b}`,F)).json();if(X.error)throw Sn.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(z){throw Sn.create("token-unsubscribe-failed",{errorInfo:z})}})).apply(this,arguments)}function Br({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Rs(I){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,R.Z)(function*({appConfig:I,installations:b}){const M=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function lt({p256dh:I,auth:b,endpoint:M,vapidKey:F}){const z={web:{endpoint:M,auth:b,p256dh:I}};return F!==Vr&&(z.web.applicationPubKey=F),z}const tu=6048e5;function ua(I){return nu.apply(this,arguments)}function nu(){return(nu=(0,R.Z)(function*(I){const b=yield tl(I.swRegistration,I.vapidKey),M={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:b.endpoint,auth:ii(b.getKey("auth")),p256dh:ii(b.getKey("p256dh"))},F=yield cn(I.firebaseDependencies);if(F){if(No(F.subscriptionOptions,M))return Date.now()>=F.createTime+tu?Xu(I,{token:F.token,createTime:Date.now(),subscriptionOptions:M}):F.token;try{yield Qi(I.firebaseDependencies,F.token)}catch(z){console.warn(z)}return Ce(I.firebaseDependencies,M)}return Ce(I.firebaseDependencies,M)})).apply(this,arguments)}function ru(I){return iu.apply(this,arguments)}function iu(){return(iu=(0,R.Z)(function*(I){const b=yield cn(I.firebaseDependencies);b&&(yield Qi(I.firebaseDependencies,b.token),yield jc(I.firebaseDependencies));const M=yield I.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Xu(I,b){return el.apply(this,arguments)}function el(){return(el=(0,R.Z)(function*(I,b){try{const M=yield fr(I.firebaseDependencies,b),F=Object.assign(Object.assign({},b),{token:M,createTime:Date.now()});return yield Os(I.firebaseDependencies,F),M}catch(M){throw yield ru(I),M}})).apply(this,arguments)}function Ce(I,b){return xt.apply(this,arguments)}function xt(){return(xt=(0,R.Z)(function*(I,b){const F={token:yield aa(I,b),createTime:Date.now(),subscriptionOptions:b};return yield Os(I,F),F.token})).apply(this,arguments)}function tl(I,b){return pn.apply(this,arguments)}function pn(){return(pn=(0,R.Z)(function*(I,b){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ka(b)})})).apply(this,arguments)}function No(I,b){return b.vapidKey===I.vapidKey&&b.endpoint===I.endpoint&&b.auth===I.auth&&b.p256dh===I.p256dh}function ko(I){const b={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function jr(I,b){if(!b.notification)return;I.notification={};const M=b.notification.title;M&&(I.notification.title=M);const F=b.notification.body;F&&(I.notification.body=F);const z=b.notification.image;z&&(I.notification.image=z)}(b,I),function nl(I,b){!b.data||(I.data=b.data)}(b,I),function rl(I,b){if(!b.fcmOptions)return;I.fcmOptions={};const M=b.fcmOptions.link;M&&(I.fcmOptions.link=M);const F=b.fcmOptions.analytics_label;F&&(I.fcmOptions.analyticsLabel=F)}(b,I),b}function $c(I){return"object"==typeof I&&!!I&&eo in I}function il(I,b){const M=[];for(let F=0;F<I.length;F++)M.push(I.charAt(F)),F<b.length&&M.push(b.charAt(F));return M.join("")}function ks(I){return Sn.create("missing-app-config-values",{valueName:I})}il("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),il("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class nr{constructor(b,M,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function su(I){if(!I||!I.options)throw ks("App Configuration Object");if(!I.name)throw ks("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:M}=I;for(const F of b)if(!M[F])throw ks(F);return{appName:I.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:z,installations:M,analyticsProvider:F}}_delete(){return Promise.resolve()}}function si(I){return ou.apply(this,arguments)}function ou(){return(ou=(0,R.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Qu,{scope:Ms}),I.swRegistration.update().catch(()=>{})}catch(b){throw Sn.create("failed-service-worker-registration",{browserErrorMessage:b.message})}})).apply(this,arguments)}function Fs(I,b){return wi.apply(this,arguments)}function wi(){return(wi=(0,R.Z)(function*(I,b){if(!b&&!I.swRegistration&&(yield si(I)),b||!I.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw Sn.create("invalid-sw-registration");I.swRegistration=b}})).apply(this,arguments)}function sl(I,b){return au.apply(this,arguments)}function au(){return(au=(0,R.Z)(function*(I,b){b?I.vapidKey=b:I.vapidKey||(I.vapidKey=Vr)})).apply(this,arguments)}function ol(){return(ol=(0,R.Z)(function*(I,b){if(!navigator)throw Sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Sn.create("permission-blocked");return yield sl(I,null==b?void 0:b.vapidKey),yield Fs(I,null==b?void 0:b.serviceWorkerRegistration),ua(I)})).apply(this,arguments)}function la(I,b,M){return ca.apply(this,arguments)}function ca(){return(ca=(0,R.Z)(function*(I,b,M){const F=al(b);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:M[eo],message_name:M[sa],message_time:M[Uc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function al(I){switch(I){case xs.NOTIFICATION_CLICKED:return"notification_open";case xs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Hc(){return(Hc=(0,R.Z)(function*(I,b){const M=b.data;if(!M.isFirebaseMessaging)return;I.onMessageHandler&&M.messageType===xs.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ko(M)):I.onMessageHandler.next(ko(M)));const F=M.data;$c(F)&&"1"===F[zp]&&(yield la(I,M.messageType,F))})).apply(this,arguments)}const ll="@firebase/messaging",Gc=I=>{const b=new nr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function ul(I,b){return Hc.apply(this,arguments)}(b,M)),b},io=I=>{const b=I.getProvider("messaging").getImmediate();return{getToken:F=>function uu(I,b){return ol.apply(this,arguments)}(b,F)}};function zc(){return so.apply(this,arguments)}function so(){return(so=(0,R.Z)(function*(){try{yield(0,J.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qc(){(0,oe._registerComponent)(new ge.wA("messaging",Gc,"PUBLIC")),(0,oe._registerComponent)(new ge.wA("messaging-internal",io,"PRIVATE")),(0,oe.registerVersion)(ll,"0.9.11"),(0,oe.registerVersion)(ll,"0.9.11","esm2017")}();const dl="analytics",vy="firebase_id",da="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lu="https://www.googletagmanager.com/gtag/js",Pn=new ie.Yd("@firebase/analytics");function Zc(I){return Promise.all(I.map(b=>b.catch(M=>M)))}function Wp(I,b){const M=document.createElement("script");M.src=`${lu}?l=${I}&id=${b}`,M.async=!0,document.head.appendChild(M)}function Fo(I,b,M,F,z,X){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,R.Z)(function*(I,b,M,F,z,X){const Se=F[z];try{if(Se)yield b[Se];else{const Qe=(yield Zc(M)).find(yt=>yt.measurementId===z);Qe&&(yield b[Qe.appId])}}catch(qe){Pn.error(qe)}I("config",z,X)})).apply(this,arguments)}function fl(I,b,M,F,z){return oo.apply(this,arguments)}function oo(){return(oo=(0,R.Z)(function*(I,b,M,F,z){try{let X=[];if(z&&z.send_to){let Se=z.send_to;Array.isArray(Se)||(Se=[Se]);const qe=yield Zc(M);for(const Qe of Se){const yt=qe.find(_t=>_t.measurementId===Qe),Nt=yt&&b[yt.appId];if(!Nt){X=[];break}X.push(Nt)}}0===X.length&&(X=Object.values(b)),yield Promise.all(X),I("event",F,z||{})}catch(X){Pn.error(X)}})).apply(this,arguments)}function Zp(){const I=window.document.getElementsByTagName("script");for(const b of Object.values(I))if(b.src&&b.src.includes(lu))return b;return null}const gn=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ha=new class gl{constructor(b={},M=1e3){this.throttleMetadata=b,this.intervalMillis=M}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,M){this.throttleMetadata[b]=M}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function ao(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Qc(I){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,R.Z)(function*(I){var b;const{appId:M,apiKey:F}=I,z={method:"GET",headers:ao(F)},X=da.replace("{app-id}",M),Se=yield fetch(X,z);if(200!==Se.status&&304!==Se.status){let qe="";try{const Qe=yield Se.json();(null===(b=Qe.error)||void 0===b?void 0:b.message)&&(qe=Qe.error.message)}catch(Qe){}throw gn.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:qe})}return Se.json()})).apply(this,arguments)}function Lo(I){return mn.apply(this,arguments)}function mn(){return(mn=(0,R.Z)(function*(I,b=ha,M){const{appId:F,apiKey:z,measurementId:X}=I.options;if(!F)throw gn.create("no-app-id");if(!z){if(X)return{measurementId:X,appId:F};throw gn.create("no-api-key")}const Se=b.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new cu;return setTimeout((0,R.Z)(function*(){qe.abort()}),void 0!==M?M:6e4),Dt({appId:F,apiKey:z,measurementId:X},Se,qe,b)})).apply(this,arguments)}function Dt(I,b,M){return Us.apply(this,arguments)}function Us(){return(Us=(0,R.Z)(function*(I,{throttleEndTimeMillis:b,backoffCount:M},F,z=ha){const{appId:X,measurementId:Se}=I;try{yield Kp(F,b)}catch(qe){if(Se)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${qe.message}]`),{appId:X,measurementId:Se};throw qe}try{const qe=yield Qc(I);return z.deleteThrottleMetadata(X),qe}catch(qe){if(!ml(qe)){if(z.deleteThrottleMetadata(X),Se)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${qe.message}]`),{appId:X,measurementId:Se};throw qe}const Qe=503===Number(qe.customData.httpStatus)?(0,J.$s)(M,z.intervalMillis,30):(0,J.$s)(M,z.intervalMillis),yt={throttleEndTimeMillis:Date.now()+Qe,backoffCount:M+1};return z.setThrottleMetadata(X,yt),Pn.debug(`Calling attemptFetch again in ${Qe} millis`),Dt(I,yt,F,z)}})).apply(this,arguments)}function Kp(I,b){return new Promise((M,F)=>{const z=Math.max(b-Date.now(),0),X=setTimeout(M,z);I.addEventListener(()=>{clearTimeout(X),F(gn.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}function ml(I){if(!(I instanceof J.ZR&&I.customData))return!1;const b=Number(I.customData.httpStatus);return 429===b||500===b||503===b||504===b}class cu{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}function Vh(){return uo.apply(this,arguments)}function uo(){return(uo=(0,R.Z)(function*(){if(!(0,J.hl)())return Pn.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(I){return Pn.warn(gn.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function Fn(){return(Fn=(0,R.Z)(function*(I,b,M,F,z,X,Se){var qe;const Qe=Lo(I);Qe.then(_n=>{M[_n.measurementId]=_n.appId,I.options.measurementId&&_n.measurementId!==I.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${_n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_n=>Pn.error(_n)),b.push(Qe);const yt=Vh().then(_n=>{if(_n)return F.getId()}),[Nt,_t]=yield Promise.all([Qe,yt]);Zp()||Wp(X,Nt.measurementId),z("js",new Date);const qn=null!==(qe=null==Se?void 0:Se.config)&&void 0!==qe?qe:{};return qn.origin="firebase",qn.update=!0,null!=_t&&(qn[vy]=_t),z("config",Nt.measurementId,qn),Nt.measurementId})).apply(this,arguments)}class Vo{constructor(b){this.app=b}_delete(){return delete $r[this.app.options.appId],Promise.resolve()}}let $r={},lo=[];const yl={};let ai,Bs,co="dataLayer",Ln=!1;function ts(I,b,M){!function _l(){const I=[];if((0,J.ru)()&&I.push("This is a browser extension environment."),(0,J.zI)()||I.push("Cookies are not available."),I.length>0){const b=I.map((F,z)=>`(${z+1}) ${F}`).join(" "),M=gn.create("invalid-analytics-context",{errorInfo:b});Pn.warn(M.message)}}();const F=I.options.appId;if(!F)throw gn.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw gn.create("no-api-key");Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$r[F])throw gn.create("already-exists",{id:F});if(!Ln){!function Xi(I){let b=[];Array.isArray(window[I])?b=window[I]:window[I]=b}(co);const{wrappedGtag:X,gtagCore:Se}=function Lh(I,b,M,F,z){let X=function(...Se){window[F].push(arguments)};return window[z]&&"function"==typeof window[z]&&(X=window[z]),window[z]=function Yc(I,b,M,F){function X(){return(X=(0,R.Z)(function*(Se,qe,Qe){try{"event"===Se?yield fl(I,b,M,qe,Qe):"config"===Se?yield Fo(I,b,M,F,qe,Qe):I("set",qe)}catch(yt){Pn.error(yt)}})).apply(this,arguments)}return function z(Se,qe,Qe){return X.apply(this,arguments)}}(X,I,b,M),{gtagCore:X,wrappedGtag:window[z]}}($r,lo,yl,co,"gtag");Bs=X,ai=Se,Ln=!0}return $r[F]=function oi(I,b,M,F,z,X,Se){return Fn.apply(this,arguments)}(I,lo,yl,b,ai,co,M),new Vo(I)}function fa(){return(fa=(0,R.Z)(function*(I,b,M,F,z){if(z&&z.global)I("event",M,F);else{const X=yield b;I("event",M,Object.assign(Object.assign({},F),{send_to:X}))}})).apply(this,arguments)}function go(){return hu.apply(this,arguments)}function hu(){return(hu=(0,R.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(I){return!1}})).apply(this,arguments)}const El="@firebase/analytics";!function Bh(){(0,oe._registerComponent)(new ge.wA(dl,(b,{options:M})=>ts(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,oe._registerComponent)(new ge.wA("analytics-internal",function I(b){try{const M=b.getProvider(dl).getImmediate();return{logEvent:(F,z,X)=>function td(I,b,M,F){I=(0,J.m9)(I),function Jc(I,b,M,F,z){return fa.apply(this,arguments)}(Bs,$r[I.app.options.appId],b,M,F).catch(z=>Pn.error(z))}(M,F,z,X)}}catch(M){throw gn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,oe.registerVersion)(El,"0.7.7"),(0,oe.registerVersion)(El,"0.7.7","esm2017")}();var rd=N(4408),jh=N(7565);const fu=new class yn extends jh.v{}(class xi extends rd.o{constructor(b,M){super(b,M),this.scheduler=b,this.work=M}schedule(b,M=0){return M>0?super.schedule(b,M):(this.delay=M,this.state=b,this.scheduler.flush(this),this)}execute(b,M){return M>0||this.closed?super.execute(b,M):this._execute(b,M)}requestAsyncId(b,M,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(b,M,F):b.flush(this)}});var Ar=N(4986),pu=N(8505),Sr=N(9468),Ci=N(5363);const gu=new f.GfV("7.3.0"),Oi="__angularfire_symbol__analyticsIsSupportedValue",Gr="__angularfire_symbol__analyticsIsSupported",qr="__angularfire_symbol__remoteConfigIsSupportedValue",ga="__angularfire_symbol__remoteConfigIsSupported",ma="__angularfire_symbol__messagingIsSupportedValue",id="__angularfire_symbol__messagingIsSupported";function ya(I,b,M){if(b){if(1===b.length)return b[0];const X=b.filter(Se=>Se.app===M);if(1===X.length)return X[0]}return M.container.getProvider(I).getImmediate({optional:!0})}globalThis[Gr]||(globalThis[Gr]=go().then(I=>globalThis[Oi]=I).catch(()=>globalThis[Oi]=!1)),globalThis[id]||(globalThis[id]=zc().then(I=>globalThis[ma]=I).catch(()=>globalThis[ma]=!1)),globalThis[ga]||(globalThis[ga]=Xs().then(I=>globalThis[qr]=I).catch(()=>globalThis[qr]=!1));const Gh=(I,b)=>{const M=b?[b]:(0,K.C6)(),F=[];return M.forEach(z=>{z.container.getProvider(I).instances.forEach(Se=>{F.includes(Se)||F.push(Se)})}),F};function mo(){}class _a{constructor(b,M=fu){this.zone=b,this.delegate=M}now(){return this.delegate.now()}schedule(b,M,F){const z=this.zone;return this.delegate.schedule(function(Se){z.runGuarded(()=>{b.apply(this,[Se])})},M,F)}}class qh{constructor(b){this.zone=b,this.task=null}call(b,M){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mo,{},mo,mo)),M.pipe((0,pu.b)({next:F,complete:F,error:F})).subscribe(b).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Cl=(()=>{class I{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new _a(Zone.current)),this.insideAngular=M.run(()=>new _a(Zone.current,Ar.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(M){return new(M||I)(f.LFG(f.R0b))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function is(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Il(I){return is(),function ss(I){return function(M){return(M=M.lift(new qh(I.ngZone))).pipe((0,Sr.R)(I.outsideAngular),(0,Ci.Q)(I.insideAngular))}}(is())(I)}},2090:(nt,De,N)=>{N.d(De,{BH:()=>Te,LL:()=>vt,ZR:()=>se,zI:()=>me,US:()=>ie,tV:()=>B,L:()=>ue,$s:()=>Qs,r3:()=>Yt,Sg:()=>xe,ne:()=>st,vZ:()=>Es,ZB:()=>Q,Lj:()=>Rt,pd:()=>Gi,m9:()=>at,z$:()=>Ne,jU:()=>Ke,ru:()=>Ge,d:()=>_e,xb:()=>Yn,w1:()=>ve,hl:()=>q,uI:()=>he,UG:()=>we,b$:()=>Ie,G6:()=>ee,Mn:()=>je,X3:()=>ut,xO:()=>Ai,zd:()=>Tr,eu:()=>te});var f=N(5861);const J=function(U){const L=[];let $=0;for(let le=0;le<U.length;le++){let Y=U.charCodeAt(le);Y<128?L[$++]=Y:Y<2048?(L[$++]=Y>>6|192,L[$++]=63&Y|128):55296==(64512&Y)&&le+1<U.length&&56320==(64512&U.charCodeAt(le+1))?(Y=65536+((1023&Y)<<10)+(1023&U.charCodeAt(++le)),L[$++]=Y>>18|240,L[$++]=Y>>12&63|128,L[$++]=Y>>6&63|128,L[$++]=63&Y|128):(L[$++]=Y>>12|224,L[$++]=Y>>6&63|128,L[$++]=63&Y|128)}return L},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,L){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Y=0;Y<U.length;Y+=3){const Fe=U[Y],ht=Y+1<U.length,qt=ht?U[Y+1]:0,dr=Y+2<U.length,Ut=dr?U[Y+2]:0;let an=(15&qt)<<2|Ut>>6,Gn=63&Ut;dr||(Gn=64,ht||(an=64)),le.push($[Fe>>2],$[(3&Fe)<<4|qt>>4],$[an],$[Gn])}return le.join("")},encodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(U):this.encodeByteArray(J(U),L)},decodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(U):function(U){const L=[];let $=0,le=0;for(;$<U.length;){const Y=U[$++];if(Y<128)L[le++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Fe=U[$++];L[le++]=String.fromCharCode((31&Y)<<6|63&Fe)}else if(Y>239&&Y<365){const dr=((7&Y)<<18|(63&U[$++])<<12|(63&U[$++])<<6|63&U[$++])-65536;L[le++]=String.fromCharCode(55296+(dr>>10)),L[le++]=String.fromCharCode(56320+(1023&dr))}else{const Fe=U[$++],ht=U[$++];L[le++]=String.fromCharCode((15&Y)<<12|(63&Fe)<<6|63&ht)}}return L.join("")}(this.decodeStringToByteArray(U,L))},decodeStringToByteArray(U,L){this.init_();const $=L?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Y=0;Y<U.length;){const Fe=$[U.charAt(Y++)],qt=Y<U.length?$[U.charAt(Y)]:0;++Y;const Ut=Y<U.length?$[U.charAt(Y)]:64;++Y;const Tt=Y<U.length?$[U.charAt(Y)]:64;if(++Y,null==Fe||null==qt||null==Ut||null==Tt)throw Error();le.push(Fe<<2|qt>>4),64!==Ut&&(le.push(qt<<4&240|Ut>>2),64!==Tt&&le.push(Ut<<6&192|Tt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},ue=function(U){return function(U){const L=J(U);return ie.encodeByteArray(L,!0)}(U).replace(/\./g,"")},B=function(U){try{return ie.decodeString(U,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function Q(U,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return L}for(const $ in L)!L.hasOwnProperty($)||!He($)||(U[$]=Q(U[$],L[$]));return U}function He(U){return"__proto__"!==U}class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,$)=>{this.resolve=L,this.reject=$})}wrapCallback(L){return($,le)=>{$?this.reject($):this.resolve(le),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L($):L($,le))}}}function xe(U,L){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=L||"demo-project",Y=U.iat||0,Fe=U.sub||U.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Y,exp:Y+3600,auth_time:Y,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},U);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(ht)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function Ke(){return"object"==typeof self&&self.self===self}function Ge(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return Ne().indexOf("Electron/")>=0}function ve(){const U=Ne();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function je(){return Ne().indexOf("MSAppHost/")>=0}function ee(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){return"object"==typeof indexedDB}function te(){return new Promise((U,L)=>{try{let $=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(le);Y.onsuccess=()=>{Y.result.close(),$||self.indexedDB.deleteDatabase(le),U(!0)},Y.onupgradeneeded=()=>{$=!1},Y.onerror=()=>{var Fe;L((null===(Fe=Y.error)||void 0===Fe?void 0:Fe.message)||"")}}catch($){L($)}})}function me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class se extends Error{constructor(L,$,le){super($),this.code=L,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(L,$,le){this.service=L,this.serviceName=$,this.errors=le}create(L,...$){const le=$[0]||{},Y=`${this.service}/${L}`,Fe=this.errors[L],ht=Fe?function Kt(U,L){return U.replace(Tn,($,le)=>{const Y=L[le];return null!=Y?String(Y):`<${le}?>`})}(Fe,le):"Error";return new se(Y,`${this.serviceName}: ${ht} (${Y}).`,le)}}const Tn=/\{\$([^}]+)}/g;function Yt(U,L){return Object.prototype.hasOwnProperty.call(U,L)}function Yn(U){for(const L in U)if(Object.prototype.hasOwnProperty.call(U,L))return!1;return!0}function Es(U,L){if(U===L)return!0;const $=Object.keys(U),le=Object.keys(L);for(const Y of $){if(!le.includes(Y))return!1;const Fe=U[Y],ht=L[Y];if(Dr(Fe)&&Dr(ht)){if(!Es(Fe,ht))return!1}else if(Fe!==ht)return!1}for(const Y of le)if(!$.includes(Y))return!1;return!0}function Dr(U){return null!==U&&"object"==typeof U}function Ai(U){const L=[];for(const[$,le]of Object.entries(U))Array.isArray(le)?le.forEach(Y=>{L.push(encodeURIComponent($)+"="+encodeURIComponent(Y))}):L.push(encodeURIComponent($)+"="+encodeURIComponent(le));return L.length?"&"+L.join("&"):""}function Tr(U){const L={};return U.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Y,Fe]=le.split("=");L[decodeURIComponent(Y)]=decodeURIComponent(Fe)}}),L}function Gi(U){const L=U.indexOf("?");if(!L)return"";const $=U.indexOf("#",L);return U.substring(L,$>0?$:void 0)}function st(U,L){const $=new kr(U,L);return $.subscribe.bind($)}class kr{constructor(L,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{L(this)}).catch(le=>{this.error(le)})}next(L){this.forEachObserver($=>{$.next(L)})}error(L){this.forEachObserver($=>{$.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,$,le){let Y;if(void 0===L&&void 0===$&&void 0===le)throw new Error("Missing Observer.");Y=function Nn(U,L){if("object"!=typeof U||null===U)return!1;for(const $ of L)if($ in U&&"function"==typeof U[$])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:$,complete:le},void 0===Y.next&&(Y.next=ti),void 0===Y.error&&(Y.error=ti),void 0===Y.complete&&(Y.complete=ti);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(ht){}}),this.observers.push(Y),Fe}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,L)}sendOne(L,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{$(this.observers[L])}catch(le){"undefined"!=typeof console&&console.error&&console.error(le)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ti(){}function Qs(U,L=1e3,$=2){const le=L*Math.pow($,U),Y=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+Y)}function at(U){return U&&U._delegate?U._delegate:U}function cr(U,L){return new Promise(($,le)=>{U.onsuccess=Y=>{$(Y.target.result)},U.onerror=Y=>{var Fe;le(`${L}: ${null===(Fe=Y.target.error)||void 0===Fe?void 0:Fe.message}`)}})}class Pt{constructor(L){this._db=L,this.objectStoreNames=this._db.objectStoreNames}transaction(L,$){return new ze(this._db.transaction.call(this._db,L,$))}createObjectStore(L,$){return new be(this._db.createObjectStore(L,$))}close(){this._db.close()}}class ze{constructor(L){this._transaction=L,this.complete=new Promise(($,le)=>{this._transaction.oncomplete=function(){$()},this._transaction.onerror=()=>{le(this._transaction.error)},this._transaction.onabort=()=>{le(this._transaction.error)}})}objectStore(L){return new be(this._transaction.objectStore(L))}}class be{constructor(L){this._store=L}index(L){return new Ze(this._store.index(L))}createIndex(L,$,le){return new Ze(this._store.createIndex(L,$,le))}get(L){return cr(this._store.get(L),"Error reading from IndexedDB")}put(L,$){return cr(this._store.put(L,$),"Error writing to IndexedDB")}delete(L){return cr(this._store.delete(L),"Error deleting from IndexedDB")}clear(){return cr(this._store.clear(),"Error clearing IndexedDB object store")}}class Ze{constructor(L){this._index=L}get(L){return cr(this._index.get(L),"Error reading from IndexedDB")}}function ut(U,L,$){return new Promise((le,Y)=>{try{const Fe=indexedDB.open(U,L);Fe.onsuccess=ht=>{le(new Pt(ht.target.result))},Fe.onerror=ht=>{var qt;Y(`Error opening indexedDB: ${null===(qt=ht.target.error)||void 0===qt?void 0:qt.message}`)},Fe.onupgradeneeded=ht=>{$(new Pt(Fe.result),ht.oldVersion,ht.newVersion,new ze(Fe.transaction))}}catch(Fe){Y(`Error opening indexedDB: ${Fe.message}`)}})}function Rt(U){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,f.Z)(function*(U){return new Promise((L,$)=>{try{const le=indexedDB.deleteDatabase(U);le.onsuccess=()=>{L()},le.onerror=Y=>{var Fe;$(`Error deleting indexedDB database "${U}": ${null===(Fe=Y.target.error)||void 0===Fe?void 0:Fe.message}`)}}catch(le){$(`Error deleting indexedDB database "${U}": ${le.message}`)}})})).apply(this,arguments)}},9445:(nt,De,N)=>{var f=N(5e3);let K=null;function R(){return K}const ie=new f.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ue(){return(0,f.LFG)(j)}()},providedIn:"platform"}),n})();const B=new f.OlP("Location Initialized");let j=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){Q()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){Q()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ie))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function He(){return new j((0,f.LFG)(ie))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Te(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ne(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function we(n){const e=(0,f.LFG)(ie).location;return new Ge((0,f.LFG)(de),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ke=new f.OlP("appBaseHref");let Ge=(()=>{class n extends he{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Te(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ne(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const h=this.prepareExternalUrl(o+Ne(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){const h=this.prepareExternalUrl(o+Ne(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de),f.LFG(Ke,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends he{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Te(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let h=this.prepareExternalUrl(o+Ne(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){let h=this.prepareExternalUrl(o+Ne(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de),f.LFG(Ke,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n{constructor(t,r){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=xe(Be(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ne(r))}normalize(t){return n.stripTrailingSlash(function je(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ne(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ne(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Ne,n.joinWithSlash=Te,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(f.LFG(he),f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ve(){return new _e((0,f.LFG)(he),(0,f.LFG)(de))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}let Ds=(()=>{class n{constructor(t,r,o,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ts{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let er=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,l,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Ts(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,h),Wi(m,o)}});for(let o=0,l=r.length;o<l;o++){const m=r.get(o).context;m.index=o,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Wi(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Wi(n,e){n.context.$implicit=e.item}let Fr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new tn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ga("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ga("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class tn{constructor(){this.$implicit=null,this.ngIf=null}}function Ga(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let Po=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function tr(n){return"server"===n}let Ja=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Xa((0,f.LFG)(ie),window)}),n})();class Xa{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function oa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Yi(this.window.history)||Yi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Yi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Os extends class Ro extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J(n){K||(K=n)}(new Os)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function jc(){return nn=nn||document.querySelector("base"),nn?nn.getAttribute("href"):null}();return null==t?null:function no(n){to=to||document.createElement("a"),to.setAttribute("href",n);const e=to.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){nn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Mo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let to,nn=null;const hr=new f.OlP("TRANSITION_ID"),aa=[{provide:f.ip1,useFactory:function Sn(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=R(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[hr,ie,f.zs3],multi:!0}];class vi{static init(){(0,f.VLi)(new vi)}addToWindow(e){f.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const o=f.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const m=function(E){h=h||E,l--,0==l&&r(h)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let fr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Ps=new f.OlP("EventManagerPlugins");let Qi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ps),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class eu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=R().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Br=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Rs=(()=>{class n extends Br{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ns),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ns))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ie))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Ns(n){R().remove(n)}const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tu=/%COMP%/g;function Ce(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Ce(n,o,t):(o=o.replace(tu,n),t.push(o))}return t}function xt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let pn=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new No(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new nl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case f.ifc.ShadowDom:return new rl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ce(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Qi),f.LFG(Rs),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class No{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(lt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=lt[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=lt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,o&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xt(r)):this.eventManager.addEventListener(e,t,xt(r))}}class nl extends No{constructor(e,t,r,o){super(e),this.component=r;const l=Ce(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Xu(n){return"_ngcontent-%COMP%".replace(tu,n)}(o+"-"+r.id),this.hostAttr=function el(n){return"_nghost-%COMP%".replace(tu,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class rl extends No{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ce(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let $c=(()=>{class n extends eu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ie))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const il=["alt","control","meta","shift"],ks={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},si={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ou=(()=>{class n extends eu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(il.forEach(E=>{const D=r.indexOf(E);D>-1&&(r.splice(D,1),h+=E+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function Fs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&nr.hasOwnProperty(e)&&(e=nr[e]))}return ks[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),il.forEach(l=>{l!=o&&si[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ie))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ol=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function wi(){Os.makeCurrent(),vi.init()},multi:!0},{provide:ie,useFactory:function au(){return(0,f.RDi)(document),document},deps:[]}]),la=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function sl(){return new f.qLn},deps:[]},{provide:Ps,useClass:$c,multi:!0,deps:[ie,f.R0b,f.Lbi]},{provide:Ps,useClass:ou,multi:!0,deps:[ie]},{provide:pn,useClass:pn,deps:[Qi,Rs,f.AFp]},{provide:f.FYo,useExisting:pn},{provide:Br,useExisting:Rs},{provide:Rs,useClass:Rs,deps:[ie]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:Qi,useClass:Qi,deps:[Ps,f.R0b]},{provide:class cn{},useClass:fr,deps:[]}];let ca=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:hr,useExisting:f.AFp},aa]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:la,imports:[Po,f.hGG]}),n})();"undefined"!=typeof window&&window;var Mn=N(8996),gn=N(8306);const{isArray:pl}=Array,{getPrototypeOf:es,prototype:gl,keys:ha}=Object;function ao(n){if(1===n.length){const e=n[0];if(pl(e))return{args:e,keys:null};if(function Qc(n){return n&&"object"==typeof n&&es(n)===gl}(e)){const t=ha(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Qt=N(8421),Lo=N(7669),mn=N(5403),Dt=N(4004);const{isArray:Us}=Array;function ml(n){return(0,Dt.U)(e=>function Kp(n,e){return Us(e)?n(...e):n(e)}(n,e))}function cu(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let uo=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),oi=(()=>{class n extends uo{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Fn=new f.OlP("NgValueAccessor"),lo={provide:Fn,useExisting:(0,f.Gpc)(()=>ho),multi:!0},co=new f.OlP("CompositionEventMode");let ho=(()=>{class n extends uo{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yl(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(co,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[f._Bn([lo]),f.qOj]}),n})();const Ln=new f.OlP("NgValidators"),fo=new f.OlP("NgAsyncValidators");function ui(n){return null!=n}function Xc(n){const e=(0,f.QGY)(n)?(0,Mn.D)(n):n;return(0,f.CqO)(e),e}function du(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function go(n,e){return e.map(t=>t(n))}function Uh(n){return n.map(e=>function hu(n){return!n.validate}(e)?e:t=>e.validate(t))}function ed(n){return null!=n?function In(n){if(!n)return null;const e=n.filter(ui);return 0==e.length?null:function(t){return du(go(t,e))}}(Uh(n)):null}function td(n){return null!=n?function Yp(n){if(!n)return null;const e=n.filter(ui);return 0==e.length?null:function(t){return function Vh(...n){const e=(0,Lo.jO)(n),{args:t,keys:r}=ao(n),o=new gn.y(l=>{const{length:h}=t;if(!h)return void l.complete();const m=new Array(h);let E=h,D=h;for(let x=0;x<h;x++){let P=!1;(0,Qt.Xf)(t[x]).subscribe((0,mn.x)(l,H=>{P||(P=!0,D--),m[x]=H},()=>E--,void 0,()=>{(!E||!P)&&(D||l.next(r?cu(r,m):m),l.complete())}))}});return e?o.pipe(ml(e)):o}(go(t,e).map(Xc)).pipe((0,Dt.U)(du))}}(Uh(n)):null}function El(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nd(n){return n._rawValidators}function Bh(n){return n._rawAsyncValidators}function rd(n){return n?Array.isArray(n)?n:[n]:[]}function xi(n,e){return Array.isArray(n)?n.includes(e):n===e}function jh(n,e){const t=rd(e);return rd(n).forEach(o=>{xi(t,o)||t.push(o)}),t}function yn(n,e){return rd(e).filter(t=>!xi(n,t))}class fu{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ed(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=td(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Hr extends fu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ar extends fu{get formDirective(){return null}get path(){return null}}class pu{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let gu=(()=>{class n extends pu{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Hr,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[f.qOj]}),n})(),Oi=(()=>{class n extends pu{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ar,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[f.qOj]}),n})();function mu(n,e){return[...e.path,n]}function gr(n,e){ss(n,e),e.valueAccessor.writeValue(n.value),function bl(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&b(n,e)})}(n,e),function M(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function I(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&b(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Il(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function va(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),js(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Uo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ss(n,e){const t=nd(n);null!==e.validator?n.setValidators(El(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Bh(n);null!==e.asyncValidator?n.setAsyncValidators(El(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Uo(e._rawValidators,o),Uo(e._rawAsyncValidators,o)}function js(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=nd(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==e.validator);l.length!==o.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const o=Bh(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==e.asyncValidator);l.length!==o.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Uo(e._rawValidators,r),Uo(e._rawAsyncValidators,r),t}function b(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function F(n,e){ss(n,e)}function qe(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function yt(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Nt(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===ho?t=l:function Qe(n){return Object.getPrototypeOf(n.constructor)===oi}(l)?r=l:o=l}),o||r||t||null}function _t(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Pi="VALID",yo="INVALID",mr="PENDING",yr="DISABLED";function os(n){return(_o(n)?n.validators:n)||null}function zh(n){return Array.isArray(n)?ed(n):n||null}function od(n,e){return(_o(e)?e.asyncValidators:n)||null}function Dl(n){return Array.isArray(n)?td(n):n||null}function _o(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Wh=n=>n instanceof Tl,Zh=n=>n instanceof wa;function vo(n){return Wh(n)?n.value:n.getRawValue()}function yu(n,e){const t=Zh(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[e])throw new f.vHH(1001,"")}function Qp(n,e){Zh(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new f.vHH(1002,"")})}class Kh{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=zh(this._rawValidators),this._composedAsyncValidatorFn=Dl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pi}get invalid(){return this.status===yo}get pending(){return this.status==mr}get disabled(){return this.status===yr}get enabled(){return this.status!==yr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=zh(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Dl(e)}addValidators(e){this.setValidators(jh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yn(e,this._rawAsyncValidators))}hasValidator(e){return xi(this._rawValidators,e)}hasAsyncValidator(e){return xi(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=mr,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yr,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pi,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pi||this.status===mr)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yr:Pi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=mr,this._hasOwnPendingAsyncValidator=!0;const t=Xc(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function $s(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=Zh(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof m0)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?yr:this.errors?yo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mr)?mr:this._anyControlsHaveStatus(yo)?yo:Pi}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_o(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Tl extends Kh{constructor(e=null,t,r){super(os(t),od(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_o(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_t(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_t(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class wa extends Kh{constructor(e,t,r){super(os(t),od(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Qp(this,e),Object.keys(e).forEach(r=>{yu(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=vo(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class m0 extends Kh{constructor(e,t,r){super(os(t),od(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Qp(this,e),e.forEach((r,o)=>{yu(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>vo(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Ey={provide:Ar,useExisting:(0,f.Gpc)(()=>ad)},Al=(()=>Promise.resolve(null))();let ad=(()=>{class n extends Ar{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new wa({},ed(t),td(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Al.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),gr(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Al.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Al.then(()=>{const r=this._findContainer(t.path),o=new wa({});F(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Al.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Al.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,yt(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ln,10),f.Y36(fo,10))},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Ey]),f.qOj]}),n})();const Yh={provide:Hr,useExisting:(0,f.Gpc)(()=>ud)},Qh=(()=>Promise.resolve(null))();let ud=(()=>{class n extends Hr{constructor(t,r,o,l,h){super(),this._changeDetectorRef=h,this.control=new Tl,this._registered=!1,this.update=new f.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Nt(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),qe(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Qh.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;Qh.then(()=>{var l;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?mu(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ar,9),f.Y36(Ln,10),f.Y36(fo,10),f.Y36(Fn,10),f.Y36(f.sBO,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([Yh]),f.qOj,f.TTD]}),n})(),Ol=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ld=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const ng=new f.OlP("NgModelWithFormControlWarning"),Dy={provide:Ar,useExisting:(0,f.Gpc)(()=>cd)};let cd=(()=>{class n extends Ar{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(js(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return gr(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){va(t.control||null,t,!1),_t(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,yt(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(va(r||null,t),Wh(o)&&(gr(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);F(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function z(n,e){return js(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ss(this.form,this),this._oldForm&&js(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ln,10),f.Y36(fo,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Dy]),f.qOj,f.TTD]}),n})();const w0={provide:Hr,useExisting:(0,f.Gpc)(()=>ef)};let ef=(()=>{class n extends Hr{constructor(t,r,o,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Nt(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),qe(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return mu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(Ar,13),f.Y36(Ln,10),f.Y36(fo,10),f.Y36(Fn,10),f.Y36(ng,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([w0]),f.qOj,f.TTD]}),n})(),fg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[ld]]}),n})(),I0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[fg]}),n})(),b0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ng,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[fg]}),n})();function gt(...n){const e=(0,Lo.yG)(n);return(0,Mn.D)(n,e)}var Hs=N(7579);class fn extends Hs.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var us=N(4671),cf=N(9672);function _d(n,e,t){n?(0,cf.f)(t,n,e):e()}var df=N(576);function Ia(n,e){const t=(0,df.m)(n)?n:()=>n,r=o=>o.error(t());return new gn.y(e?o=>e.schedule(r,0,o):r)}const kl=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Fl=N(8189);function Ni(...n){return function Py(){return(0,Fl.J)(1)}()((0,Mn.D)(n,(0,Lo.yG)(n)))}function ff(n){return new gn.y(e=>{(0,Qt.Xf)(n()).subscribe(e)})}var wu=N(515),vd=N(727),bi=N(4482);function pf(){return(0,bi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,mn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class _r extends gn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,bi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,mn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vd.w0.EMPTY)}return e}refCount(){return pf()(this)}}function vr(n,e){return(0,bi.e)((t,r)=>{let o=null,l=0,h=!1;const m=()=>h&&!o&&r.complete();t.subscribe((0,mn.x)(r,E=>{null==o||o.unsubscribe();let D=0;const x=l++;(0,Qt.Xf)(n(E,x)).subscribe(o=(0,mn.x)(r,P=>r.next(e?e(E,P,x,D++):P),()=>{o=null,m()}))},()=>{h=!0,m()}))})}var Ll=N(5698);function wd(...n){const e=(0,Lo.yG)(n);return(0,bi.e)((t,r)=>{(e?Ni(n,t,e):Ni(n,t)).subscribe(r)})}function wo(n,e,t,r,o){return(l,h)=>{let m=t,E=e,D=0;l.subscribe((0,mn.x)(h,x=>{const P=D++;E=m?n(E,x,P):(m=!0,x),r&&h.next(E)},o&&(()=>{m&&h.next(E),h.complete()})))}}function Eo(n,e){return(0,bi.e)(wo(n,e,arguments.length>=2,!0))}function ls(n,e){return(0,bi.e)((t,r)=>{let o=0;t.subscribe((0,mn.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}function Co(n){return(0,bi.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe((0,mn.x)(t,void 0,void 0,h=>{l=(0,Qt.Xf)(n(h,Co(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Mr=N(5577);function ba(n,e){return(0,df.m)(e)?(0,Mr.z)(n,e,1):(0,Mr.z)(n,1)}function gf(n){return n<=0?()=>wu.E:(0,bi.e)((e,t)=>{let r=[];e.subscribe((0,mn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function pg(n=Ry){return(0,bi.e)((e,t)=>{let r=!1;e.subscribe((0,mn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Ry(){return new kl}function gg(n){return(0,bi.e)((e,t)=>{let r=!1;e.subscribe((0,mn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function d(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ls((o,l)=>n(o,l,r)):us.y,(0,Ll.q)(1),t?gg(e):pg(()=>new kl))}var g=N(8505);class T{constructor(e,t){this.id=e,this.url=t}}class O extends T{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class G extends T{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class re extends T{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Le extends T{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ye extends T{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ft extends T{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class it extends T{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bn extends T{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ki extends T{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eu{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ul{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mf{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ny{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jo{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ot="primary";class yf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Io(n){return new yf(n)}const mg="ngNavigationCancelingError";function jl(n){const e=Error("NavigationCancelingError: "+n);return e[mg]=!0,e}function KC(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function $o(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!Fy(n[o],e[o]))return!1;return!0}function Fy(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function yg(n){return Array.prototype.concat.apply([],n)}function Ly(n){return n.length>0?n[n.length-1]:null}function Wr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ho(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,Mn.D)(Promise.resolve(n)):gt(n)}const A0={exact:function M0(n,e,t){if(!Go(n.segments,e.segments)||!_f(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!M0(n.children[r],e.children[r],t))return!1;return!0},subset:x0},Cu={exact:function S0(n,e){return $o(n,e)},subset:function _g(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Fy(n[t],e[t]))},ignored:()=>!0};function Vy(n,e,t){return A0[t.paths](n.root,e.root,t.matrixParams)&&Cu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function x0(n,e,t){return Uy(n,e,e.segments,t)}function Uy(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Go(o,t)||e.hasChildren()||!_f(o,t,r))}if(n.segments.length===t.length){if(!Go(n.segments,t)||!_f(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!x0(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Go(n.segments,o)&&_f(n.segments,o,r)&&n.children[Ot])&&Uy(n.children[Ot],e,l,r)}}function _f(n,e,t){return e.every((r,o)=>Cu[t](n[o].parameters,r.parameters))}class Iu{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Io(this.queryParams)),this._queryParamMap}toString(){return jy.serialize(this)}}class Bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Wr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bu(this)}}class Ed{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Io(this.parameters)),this._parameterMap}toString(){return JC(this)}}function Go(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class wg{}class By{parse(e){const t=new nI(e);return new Iu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${vf(e.root,!0)}`,r=function XC(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Eg(t)}=${Eg(o)}`).join("&"):`${Eg(t)}=${Eg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function QC(n){return encodeURI(n)}(e.fragment)}`:""}`}}const jy=new By;function bu(n){return n.segments.map(e=>JC(e)).join("/")}function vf(n,e){if(!n.hasChildren())return bu(n);if(e){const t=n.children[Ot]?vf(n.children[Ot],!1):"",r=[];return Wr(n.children,(o,l)=>{l!==Ot&&r.push(`${l}:${vf(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function O0(n,e){let t=[];return Wr(n.children,(r,o)=>{o===Ot&&(t=t.concat(e(r,o)))}),Wr(n.children,(r,o)=>{o!==Ot&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ot?[vf(n.children[Ot],!1)]:[`${o}:${vf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${bu(n)}/${t[0]}`:`${bu(n)}/(${t.join("//")})`}}function $y(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Eg(n){return $y(n).replace(/%3B/gi,";")}function Cg(n){return $y(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cd(n){return decodeURIComponent(n)}function Hy(n){return Cd(n.replace(/\+/g,"%20"))}function JC(n){return`${Cg(n.path)}${function P0(n){return Object.keys(n).map(e=>`;${Cg(e)}=${Cg(n[e])}`).join("")}(n.parameters)}`}const R0=/^[^\/()?;=#]+/;function Ig(n){const e=n.match(R0);return e?e[0]:""}const eI=/^[^=?&#]+/,tI=/^[^&#]+/;class nI{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ot]=new Bt(e,t)),r}parseSegment(){const e=Ig(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ed(Cd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ig(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Ig(this.remaining);o&&(r=o,this.capture(r))}e[Cd(t)]=Cd(r)}parseQueryParam(e){const t=function bo(n){const e=n.match(eI);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function N0(n){const e=n.match(tI);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Hy(t),l=Hy(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ig(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Ot);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[Ot]:new Bt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class k0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Gy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return qy(e,this._root).map(t=>t.value)}}function Gy(n,e){if(n===e.value)return e;for(const t of e.children){const r=Gy(n,t);if(r)return r}return null}function qy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=qy(n,t);if(r.length)return r.unshift(e),r}return[]}class qo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Id(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class F0 extends k0{constructor(e,t){super(e),this.snapshot=t,bg(this,e)}toString(){return this.snapshot.toString()}}function L0(n,e){const t=function At(n,e){const h=new Hl([],{},{},"",{},Ot,e,null,n.root,-1,{});return new Gs("",new qo(h,[]))}(n,e),r=new fn([new Ed("",{})]),o=new fn({}),l=new fn({}),h=new fn({}),m=new fn(""),E=new $l(r,o,h,m,l,Ot,e,t.root);return E.snapshot=t.root,new F0(new qo(E,[]),t)}class $l{constructor(e,t,r,o,l,h,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>Io(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>Io(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function V0(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Hl{constructor(e,t,r,o,l,h,m,E,D,x,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this.routeConfig=E,this._urlSegment=D,this._lastPathIndex=x,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Io(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Io(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gs extends k0{constructor(e,t){super(t),this.url=e,bg(this,t)}toString(){return U0(this._root)}}function bg(n,e){e.value._routerState=n,e.children.forEach(t=>bg(n,t))}function U0(n){const e=n.children.length>0?` { ${n.children.map(U0).join(", ")} } `:"";return`${n.value}${e}`}function wf(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$o(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$o(e.params,t.params)||n.params.next(t.params),function YC(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$o(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$o(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Do(n,e){const t=$o(n.params,e.params)&&function vg(n,e){return Go(n,e)&&n.every((t,r)=>$o(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Do(n.parent,e.parent))}function bd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Zy(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return bd(n,r,o);return bd(n,r)})}(n,e,t);return new qo(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(m=>bd(n,m)),h}}const r=function HT(n){return new $l(new fn(n.url),new fn(n.params),new fn(n.queryParams),new fn(n.fragment),new fn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>bd(n,l));return new qo(r,o)}}function Ky(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Du(n){return"object"==typeof n&&null!=n&&n.outlets}function Dd(n,e,t,r,o){let l={};return r&&Wr(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(E=>`${E}`):`${h}`}),new Iu(t.root===n?e:Dg(t.root,n,e),l,o)}function Dg(n,e,t){const r={};return Wr(n.children,(o,l)=>{r[l]=o===e?t:Dg(o,e,t)}),new Bt(n.segments,r)}class Tg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ky(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Du);if(o&&o!==Ly(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class j0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function $0(n,e,t){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return Ef(n,e,t);const r=function GT(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],m=t[r];if(Du(m))break;const E=`${m}`,D=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&D&&"object"==typeof D&&void 0===D.outlets){if(!Xy(E,D,h))return l;r+=2}else{if(!Xy(E,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Bt(n.segments.slice(0,r.pathIndex),{});return l.children[Ot]=new Bt(n.segments.slice(r.pathIndex),n.children),Ef(l,0,o)}return r.match&&0===o.length?new Bt(n.segments,{}):r.match&&!n.hasChildren()?Qy(n,e,t):r.match?Ef(n,0,o):Qy(n,e,t)}function Ef(n,e,t){if(0===t.length)return new Bt(n.segments,{});{const r=function sI(n){return Du(n[0])?n[0].outlets:{[Ot]:n}}(t),o={};return Wr(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=$0(n.children[h],e,l))}),Wr(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new Bt(n.segments,o)}}function Qy(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(Du(l)){const E=qT(l.outlets);return new Bt(r,E)}if(0===o&&Ky(t[0])){r.push(new Ed(n.segments[e].path,Jy(t[0]))),o++;continue}const h=Du(l)?l.outlets[Ot]:`${l}`,m=o<t.length-1?t[o+1]:null;h&&m&&Ky(m)?(r.push(new Ed(h,Jy(m))),o+=2):(r.push(new Ed(h,{})),o++)}return new Bt(r,{})}function qT(n){const e={};return Wr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Qy(new Bt([],{}),0,t))}),e}function Jy(n){const e={};return Wr(n,(t,r)=>e[r]=`${t}`),e}function Xy(n,e,t){return n==t.path&&$o(e,t.parameters)}class e_{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Id(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Wr(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Id(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Id(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Id(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new jo(l.value.snapshot))}),e.children.length&&this.forwardEvent(new mf(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(wf(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),wf(m.route.value),this.activateChildRoutes(e,null,h.children)}else{const m=function zT(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=E,h.outlet&&h.outlet.activateWith(o,E),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class H0{constructor(e,t){this.routes=e,this.module=t}}function Gl(n){return"function"==typeof n}function Td(n){return n instanceof Iu}const Ag=Symbol("INITIAL_VALUE");function qs(){return vr(n=>function Ii(...n){const e=(0,Lo.yG)(n),t=(0,Lo.jO)(n),{args:r,keys:o}=ao(n);if(0===r.length)return(0,Mn.D)([],e);const l=new gn.y(function Nl(n,e,t=us.y){return r=>{_d(e,()=>{const{length:o}=n,l=new Array(o);let h=o,m=o;for(let E=0;E<o;E++)_d(e,()=>{const D=(0,Mn.D)(n[E],e);let x=!1;D.subscribe((0,mn.x)(r,P=>{l[E]=P,x||(x=!0,m--),m||r.next(t(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>cu(o,h):us.y));return t?l.pipe(ml(t)):l}(n.map(e=>e.pipe((0,Ll.q)(1),wd(Ag)))).pipe(Eo((e,t)=>{let r=!1;return t.reduce((o,l,h)=>o!==Ag?o:(l===Ag&&(r=!0),r||!1!==l&&h!==t.length-1&&!Td(l)?o:l),e)},Ag),ls(e=>e!==Ag),(0,Dt.U)(e=>Td(e)?e:!0===e),(0,Ll.q)(1)))}class t_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cf,this.attachRef=null}}class Cf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new t_,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Sg=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=l||Ot,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new n_(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Cf),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class n_{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===$l?this.route:e===Cf?this.childContexts:this.parent.get(e,t)}}let r_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},directives:[Sg],encapsulation:2}),n})();function Mg(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];aI(r,Tu(e,r))}}function aI(n,e){n.children&&Mg(n.children,e)}function Tu(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function xg(n){const e=n.children&&n.children.map(xg),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=r_),t}function zs(n){return n.outlet||Ot}function Og(n,e){const t=n.filter(r=>zs(r)===e);return t.push(...n.filter(r=>zs(r)!==e)),t}const G0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function If(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},G0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||KC)(t,n,e);if(!l)return Object.assign({},G0);const h={};Wr(l.posParams,(E,D)=>{h[D]=E.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Pg(n,e,t,r,o="corrected"){if(t.length>0&&function Ad(n,e,t){return t.some(r=>Da(n,e,r)&&zs(r)!==Ot)}(n,t,r)){const h=new Bt(e,function bf(n,e,t,r){const o={};o[Ot]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&zs(l)!==Ot){const h=new Bt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[zs(l)]=h}return o}(n,e,r,new Bt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function i_(n,e,t){return t.some(r=>Da(n,e,r))}(n,t,r)){const h=new Bt(n.segments,function uI(n,e,t,r,o,l){const h={};for(const m of r)if(Da(n,t,m)&&!o[zs(m)]){const E=new Bt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[zs(m)]=E}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new Bt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Da(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Sd(n,e,t,r){return!!(zs(n)===r||r!==Ot&&Da(e,t,n))&&("**"===n.path||If(e,n,t).matched)}function ql(n,e,t){return 0===e.length&&!n.children[t]}class Rg{constructor(e){this.segmentGroup=e||null}}class s_{constructor(e){this.urlTree=e}}function Md(n){return Ia(new Rg(n))}function Ng(n){return Ia(new s_(n))}class lI{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=Pg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ot).pipe((0,Dt.U)(l=>this.createUrlTree(W0(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Co(l=>{if(l instanceof s_)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Rg?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ot).pipe((0,Dt.U)(o=>this.createUrlTree(W0(o),e.queryParams,e.fragment))).pipe(Co(o=>{throw o instanceof Rg?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Bt([],{[Ot]:e}):e;return new Iu(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Dt.U)(l=>new Bt([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,Mn.D)(o).pipe(ba(l=>{const h=r.children[l],m=Og(t,l);return this.expandSegmentGroup(e,m,h,l).pipe((0,Dt.U)(E=>({segment:E,outlet:l})))}),Eo((l,h)=>(l[h.outlet]=h.segment,l),{}),function y(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ls((o,l)=>n(o,l,r)):us.y,gf(1),t?gg(e):pg(()=>new kl))}())}expandSegment(e,t,r,o,l,h){return(0,Mn.D)(r).pipe(ba(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,l,h).pipe(Co(D=>{if(D instanceof Rg)return gt(null);throw D}))),d(m=>!!m),Co((m,E)=>{if(m instanceof kl||"EmptyError"===m.name)return ql(t,o,l)?gt(new Bt([],{})):Md(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,l,h,m){return Sd(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):Md(t):Md(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ng(l):this.lineralizeSegments(r,l).pipe((0,Mr.z)(h=>{const m=new Bt(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:m,consumedSegments:E,remainingSegments:D,positionalParamSegments:x}=If(t,o,l);if(!m)return Md(t);const P=this.applyRedirectCommands(E,o.redirectTo,x);return o.redirectTo.startsWith("/")?Ng(P):this.lineralizeSegments(o,P).pipe((0,Mr.z)(H=>this.expandSegment(e,t,r,H.concat(D),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?gt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Dt.U)(P=>(r._loadedConfig=P,new Bt(o,{})))):gt(new Bt(o,{}));const{matched:h,consumedSegments:m,remainingSegments:E}=If(t,r,o);return h?this.getChildConfig(e,r,o).pipe((0,Mr.z)(x=>{const P=x.module,H=x.routes,{segmentGroup:Z,slicedSegments:pe}=Pg(t,m,E,H),ke=new Bt(Z.segments,Z.children);if(0===pe.length&&ke.hasChildren())return this.expandChildren(P,H,ke).pipe((0,Dt.U)(wn=>new Bt(m,wn)));if(0===H.length&&0===pe.length)return gt(new Bt(m,{}));const tt=zs(r)===l;return this.expandSegment(P,ke,H,pe,tt?Ot:l,!0).pipe((0,Dt.U)(ct=>new Bt(m.concat(ct.segments),ct.children)))})):Md(t)}getChildConfig(e,t,r){return t.children?gt(new H0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?gt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Mr.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,Dt.U)(l=>(t._loadedConfig=l,l))):function q0(n){return Ia(jl(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):gt(new H0([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?gt(o.map(h=>{const m=e.get(h);let E;if(function ZT(n){return n&&Gl(n.canLoad)}(m))E=m.canLoad(t,r);else{if(!Gl(m))throw new Error("Invalid CanLoad guard");E=m(t,r)}return Ho(E)})).pipe(qs(),(0,g.b)(h=>{if(!Td(h))return;const m=jl(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,Dt.U)(h=>!0===h)):gt(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return gt(r);if(o.numberOfChildren>1||!o.children[Ot])return Ia(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[Ot]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new Iu(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Wr(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=t[m]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return Wr(t.children,(m,E)=>{h[E]=this.createSegmentGroup(e,m,r,o)}),new Bt(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function W0(n){const e={};for(const r of Object.keys(n.children)){const l=W0(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function z0(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new Bt(n.segments.concat(e.segments),e.children)}return n}(new Bt(n.segments,e))}class a_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Fg{constructor(e,t){this.component=e,this.route=t}}function K0(n,e,t){const r=n._root;return Df(r,e?e._root:null,t,[r.value])}function Lg(n,e,t){const r=function cs(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Df(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Id(e);return n.children.forEach(h=>{(function dI(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const E=function JT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Go(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Go(n.url,e.url)||!$o(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Do(n,e)||!$o(n.queryParams,e.queryParams);default:return!Do(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new a_(r)):(l.data=h.data,l._resolvedData=h._resolvedData),Df(n,e,l.component?m?m.children:null:t,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Fg(m.outlet.component,h))}else h&&Vg(e,m,o),o.canActivateChecks.push(new a_(r)),Df(n,null,l.component?m?m.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),Wr(l,(h,m)=>Vg(h,t.getContext(m),o)),o}function Vg(n,e,t){const r=Id(n),o=n.value;Wr(r,(l,h)=>{Vg(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Fg(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class J0{}function X0(n){return new gn.y(e=>e.error(n))}class mI{constructor(e,t,r,o,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=Pg(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ot);if(null===t)return null;const r=new Hl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new qo(r,t),l=new Gs(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=zy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],m=Og(e,l),E=this.processSegmentGroup(m,h,l);if(null===E)return null;r.push(...E)}const o=rw(r);return function yI(n){n.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,o);if(null!==h)return h}return ql(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Sd(e,t,r,o))return null;let l,h=[],m=[];if("**"===e.path){const Z=r.length>0?Ly(r).parameters:{};l=new Hl(r,Z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sw(e),zs(e),e.component,e,Ug(t),iw(t)+r.length,_I(e))}else{const Z=If(t,e,r);if(!Z.matched)return null;h=Z.consumedSegments,m=Z.remainingSegments,l=new Hl(h,Z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sw(e),zs(e),e.component,e,Ug(t),iw(t)+h.length,_I(e))}const E=function tw(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:x}=Pg(t,h,m,E.filter(Z=>void 0===Z.redirectTo),this.relativeLinkResolution);if(0===x.length&&D.hasChildren()){const Z=this.processChildren(E,D);return null===Z?null:[new qo(l,Z)]}if(0===E.length&&0===x.length)return[new qo(l,[])];const P=zs(e)===o,H=this.processSegment(E,D,x,P?Ot:o);return null===H?null:[new qo(l,H)]}}function nw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function rw(n){const e=[],t=new Set;for(const r of n){if(!nw(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=rw(r.children);e.push(new qo(r.value,o))}return e.filter(r=>!t.has(r))}function Ug(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function iw(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function sw(n){return n.data||{}}function _I(n){return n.resolve||{}}function Bg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function l_(n){return vr(e=>{const t=n(e);return t?(0,Mn.D)(t).pipe((0,Dt.U)(()=>e)):gt(e)})}class II extends class c_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Tf=new f.OlP("ROUTES");class $g{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Dt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new H0(yg(h.injector.get(Tf,void 0,f.XFs.Self|f.XFs.Optional)).map(xg),h)}),Co(l=>{throw t._loader$=void 0,l}));return t._loader$=new _r(o,()=>new Hs.x).pipe(pf()),t._loader$}loadModuleFactory(e){return Ho(e()).pipe((0,Mr.z)(t=>t instanceof f.YKP?gt(t):(0,Mn.D)(this.compiler.compileModuleAsync(t))))}}class bI{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function DI(n){throw n}function d_(n,e,t){return e.parse("/")}function TI(n,e){return gt(null)}const AI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ci=(()=>{class n{constructor(t,r,o,l,h,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Hs.x,this.errorHandler=DI,this.malformedUriErrorHandler=d_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:TI,afterPreactivation:TI},this.urlHandlingStrategy=new bI,this.routeReuseStrategy=new II,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(f.h0i),this.console=h.get(f.c2e);const P=h.get(f.R0b);this.isNgZoneEnabled=P instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function T0(){return new Iu(new Bt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $g(h,m,H=>this.triggerEvent(new Eu(H)),H=>this.triggerEvent(new Vl(H))),this.routerState=L0(this.currentUrlTree,this.rootComponentType),this.transitions=new fn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ls(o=>0!==o.id),(0,Dt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),vr(o=>{let l=!1,h=!1;return gt(o).pipe((0,g.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),vr(m=>{const E=this.browserUrlTree.toString(),D=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return h_(m.source)&&(this.browserUrlTree=m.extractedUrl),gt(m).pipe(vr(P=>{const H=this.transitions.getValue();return r.next(new O(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),H!==this.transitions.getValue()?wu.E:Promise.resolve(P)}),function Z0(n,e,t,r){return vr(o=>function kg(n,e,t,r,o){return new lI(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Dt.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,g.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function ow(n,e,t,r,o){return(0,Mr.z)(l=>function ew(n,e,t,r,o="emptyOnly",l="legacy"){try{const h=new mI(n,e,t,r,o,l).recognize();return null===h?X0(new J0):gt(h)}catch(h){return X0(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,Dt.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,g.b)(P=>{if("eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const Z=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl(Z,P)}this.browserUrlTree=P.urlAfterRedirects}const H=new Ye(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);r.next(H)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:Z,source:pe,restoredState:ke,extras:tt}=m,Zt=new O(H,this.serializeUrl(Z),pe,ke);r.next(Zt);const ct=L0(Z,this.rootComponentType).snapshot;return gt(Object.assign(Object.assign({},m),{targetSnapshot:ct,urlAfterRedirects:Z,extras:Object.assign(Object.assign({},tt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),wu.E}),l_(m=>{const{targetSnapshot:E,id:D,extractedUrl:x,rawUrl:P,extras:{skipLocationChange:H,replaceUrl:Z}}=m;return this.hooks.beforePreactivation(E,{navigationId:D,appliedUrlTree:x,rawUrlTree:P,skipLocationChange:!!H,replaceUrl:!!Z})}),(0,g.b)(m=>{const E=new ft(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,Dt.U)(m=>Object.assign(Object.assign({},m),{guards:K0(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Y0(n,e){return(0,Mr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?gt(Object.assign(Object.assign({},t),{guardsResult:!0})):function XT(n,e,t,r){return(0,Mn.D)(n).pipe((0,Mr.z)(o=>function gI(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?gt(l.map(m=>{const E=Lg(m,e,o);let D;if(function QT(n){return n&&Gl(n.canDeactivate)}(E))D=Ho(E.canDeactivate(n,e,t,r));else{if(!Gl(E))throw new Error("Invalid CanDeactivate guard");D=Ho(E(n,e,t,r))}return D.pipe(d())})).pipe(qs()):gt(!0)}(o.component,o.route,t,e,r)),d(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Mr.z)(m=>m&&function WT(n){return"boolean"==typeof n}(m)?function hI(n,e,t,r){return(0,Mn.D)(e).pipe(ba(o=>Ni(function Q0(n,e){return null!==n&&e&&e(new Ul(n)),gt(!0)}(o.route.parent,r),function u_(n,e){return null!==n&&e&&e(new Ny(n)),gt(!0)}(o.route,r),function pI(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function cI(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>ff(()=>gt(h.guards.map(E=>{const D=Lg(E,h.node,t);let x;if(function YT(n){return n&&Gl(n.canActivateChild)}(D))x=Ho(D.canActivateChild(r,n));else{if(!Gl(D))throw new Error("Invalid CanActivateChild guard");x=Ho(D(r,n))}return x.pipe(d())})).pipe(qs())));return gt(l).pipe(qs())}(n,o.path,t),function fI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return gt(!0);const o=r.map(l=>ff(()=>{const h=Lg(l,e,t);let m;if(function KT(n){return n&&Gl(n.canActivate)}(h))m=Ho(h.canActivate(e,n));else{if(!Gl(h))throw new Error("Invalid CanActivate guard");m=Ho(h(e,n))}return m.pipe(d())}));return gt(o).pipe(qs())}(n,o.route,t))),d(o=>!0!==o,!0))}(r,l,n,e):gt(m)),(0,Dt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,g.b)(m=>{if(Td(m.guardsResult)){const D=jl(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const E=new it(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),ls(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),l_(m=>{if(m.guards.canActivateChecks.length)return gt(m).pipe((0,g.b)(E=>{const D=new bn(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}),vr(E=>{let D=!1;return gt(E).pipe(function vI(n,e){return(0,Mr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return gt(t);let l=0;return(0,Mn.D)(o).pipe(ba(h=>function wI(n,e,t,r){return function EI(n,e,t,r){const o=Bg(n);if(0===o.length)return gt({});const l={};return(0,Mn.D)(o).pipe((0,Mr.z)(h=>function CI(n,e,t,r){const o=Lg(n,e,r);return Ho(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,g.b)(m=>{l[h]=m}))),gf(1),(0,Mr.z)(()=>Bg(l).length===o.length?gt(l):wu.E))}(n._resolve,n,e,r).pipe((0,Dt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),zy(n,t).resolve),null)))}(h.route,r,n,e)),(0,g.b)(()=>l++),gf(1),(0,Mr.z)(h=>l===o.length?gt(t):wu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,g.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,g.b)(E=>{const D=new ki(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}))}),l_(m=>{const{targetSnapshot:E,id:D,extractedUrl:x,rawUrl:P,extras:{skipLocationChange:H,replaceUrl:Z}}=m;return this.hooks.afterPreactivation(E,{navigationId:D,appliedUrlTree:x,rawUrlTree:P,skipLocationChange:!!H,replaceUrl:!!Z})}),(0,Dt.U)(m=>{const E=function Wy(n,e,t){const r=bd(n,e._root,t?t._root:void 0);return new F0(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,g.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(r=>(new e_(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,g.b)({next(){l=!0},complete(){l=!0}}),function v(n){return(0,bi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),Co(m=>{if(h=!0,function ky(n){return n&&n[mg]}(m)){const E=Td(m.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const D=new re(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(D),E?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),P={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||h_(o.source)};this.scheduleNavigation(x,"imperative",null,P,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new Le(o.id,this.serializeUrl(o.extractedUrl),m);r.next(E);try{o.resolve(this.errorHandler(m))}catch(D){o.reject(D)}}return wu.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const l={replaceUrl:!0},h=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(h){const E=Object.assign({},h);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(l.state=E)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,h,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Mg(t),this.config=t.map(xg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:E}=r,D=o||this.routerState.root,x=E?this.currentUrlTree.fragment:h;let P=null;switch(m){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=l||null}return null!==P&&(P=this.removeEmptyProps(P)),function B0(n,e,t,r,o){if(0===t.length)return Dd(e.root,e.root,e,r,o);const l=function Yy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Tg(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Wr(l.outlets,(E,D)=>{m[D]="string"==typeof E?E.split("/"):E}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new Tg(t,e,r)}(t);if(l.toRoot())return Dd(e.root,new Bt([],{}),e,r,o);const h=function rI(n,e,t){if(n.isAbsolute)return new j0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new j0(l,l===e.root,0)}const r=Ky(n.commands[0])?0:1;return function iI(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new j0(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=h.processChildren?Ef(h.segmentGroup,h.index,l.commands):$0(h.segmentGroup,h.index,l.commands);return Dd(h.segmentGroup,m,e,r,o)}(D,this.currentUrlTree,t,P,null!=x?x:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Td(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function lw(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},AI):!1===r?Object.assign({},uw):r,Td(t))return Vy(this.currentUrlTree,t,o);const l=this.parseUrl(t);return Vy(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new G(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){var m,E;if(this.disposed)return Promise.resolve(!1);let D,x,P;h?(D=h.resolve,x=h.reject,P=h.promise):P=new Promise((pe,ke)=>{D=pe,x=ke});const H=++this.navigationId;let Z;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Z=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):Z=0,this.setTransition({id:H,targetPageId:Z,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:D,reject:x,promise:P,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),P.catch(pe=>Promise.reject(pe))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new re(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function h_(n){return"imperative"!==n}let Ws=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Hs.x,this.subscription=t.events.subscribe(l=>{l instanceof G&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,l,h){if(0!==t||r||o||l||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:Aa(this.skipLocationChange),replaceUrl:Aa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Aa(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(ci),f.Y36($l),f.Y36(he))},n.\u0275dir=f.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&f.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&f.uIk("target",r.target)("href",r.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),n})();function Aa(n){return""===n||!!n}class xI{}class p_{preload(e,t){return gt(null)}}let Gg=(()=>{class n{constructor(t,r,o,l){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=new $g(o,r,E=>t.triggerEvent(new Eu(E)),E=>t.triggerEvent(new Vl(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(ls(t=>t instanceof G),ba(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,Mn.D)(o).pipe((0,Fl.J)(),(0,Dt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?gt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Mr.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ci),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(xI))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),zl=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof O?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof G&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Bl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Bl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Sa=new f.OlP("ROUTER_CONFIGURATION"),g_=new f.OlP("ROUTER_FORROOT_GUARD"),cw=[_e,{provide:wg,useClass:By},{provide:ci,useFactory:function xd(n,e,t,r,o,l,h={},m,E){const D=new ci(null,n,e,t,r,o,yg(l));return m&&(D.urlHandlingStrategy=m),E&&(D.routeReuseStrategy=E),function fw(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,D),h.enableTracing&&D.events.subscribe(x=>{var P,H;null===(P=console.group)||void 0===P||P.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(H=console.groupEnd)||void 0===H||H.call(console)}),D},deps:[wg,Cf,_e,f.zs3,f.Sil,Tf,Sa,[class aw{},new f.FiY],[class jg{},new f.FiY]]},Cf,{provide:$l,useFactory:function RI(n){return n.routerState.root},deps:[ci]},Gg,p_,class f_{preload(e,t){return t().pipe(Co(()=>gt(null)))}},{provide:Sa,useValue:{enableTracing:!1}}];function dw(){return new f.PXZ("Router",ci)}let hw=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[cw,y_(t),{provide:g_,useFactory:PI,deps:[[ci,new f.FiY,new f.tp0]]},{provide:Sa,useValue:r||{}},{provide:he,useFactory:OI,deps:[de,[new f.tBr(Ke),new f.FiY],Sa]},{provide:zl,useFactory:m_,deps:[ci,Ja,Sa]},{provide:xI,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:p_},{provide:f.PXZ,multi:!0,useFactory:dw},[__,{provide:f.ip1,multi:!0,useFactory:Od,deps:[__]},{provide:pw,useFactory:NI,deps:[__]},{provide:f.tb,multi:!0,useExisting:pw}]]}}static forChild(t){return{ngModule:n,providers:[y_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(g_,8),f.LFG(ci,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function m_(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new zl(n,e,t)}function OI(n,e,t={}){return t.useHash?new Ie(n,e):new Ge(n,e)}function PI(n){return"guarded"}function y_(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:Tf,multi:!0,useValue:n}]}let __=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Hs.x}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),l=this.injector.get(ci),h=this.injector.get(Sa);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?gt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Sa),o=this.injector.get(Gg),l=this.injector.get(zl),h=this.injector.get(ci),m=this.injector.get(f.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Od(n){return n.appInitializer.bind(n)}function NI(n){return n.bootstrapListener.bind(n)}const pw=new f.OlP("Router Initializer");var ce=N(5861),v_=N(4986),wr=N(5813);function qg(){return(0,bi.e)((n,e)=>{let t,r=!1;n.subscribe((0,mn.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function mw(n,e){return n===e}var Je,To=N(2011),FI=(N(4087),N(3942)),Wl=N(9681),Af=N(4859),Zl=N(1877),Ft=N(2090),LI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ma={},yw=yw||{},Et=LI||self;function zg(){}function Wg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Pd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ds="closure_uid_"+(1e9*Math.random()>>>0),iA=0;function sA(n,e,t){return n.call.apply(n.bind,arguments)}function _w(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function xr(n,e,t){return(xr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sA:_w).apply(null,arguments)}function Sf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Zr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function Kl(){this.s=this.s,this.o=this.o}var w_={};Kl.prototype.s=!1,Kl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function rA(n){return Object.prototype.hasOwnProperty.call(n,ds)&&n[ds]||(n[ds]=++iA)}(this);delete w_[n]}},Kl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ww=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Zg=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function Ew(n){return Array.prototype.concat.apply([],arguments)}function E_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Kg(n){return/^[\s\xa0]*$/.test(n)}var rr,Cw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Di(n,e){return-1!=n.indexOf(e)}function Rd(n,e){return n<e?-1:n>e?1:0}e:{var Iw=Et.navigator;if(Iw){var Nd=Iw.userAgent;if(Nd){rr=Nd;break e}}rr=""}function C_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function bw(n){const e={};for(const t in n)e[t]=n[t];return e}var Yg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ao(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<Yg.length;l++)t=Yg[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Yl(n){return Yl[" "](n),n}Yl[" "]=zg;var Oa,n,Ql=Di(rr,"Opera"),xa=Di(rr,"Trident")||Di(rr,"MSIE"),hs=Di(rr,"Edge"),Mf=hs||xa,Jl=Di(rr,"Gecko")&&!(Di(rr.toLowerCase(),"webkit")&&!Di(rr,"Edge"))&&!(Di(rr,"Trident")||Di(rr,"MSIE"))&&!Di(rr,"Edge"),kd=Di(rr.toLowerCase(),"webkit")&&!Di(rr,"Edge");function Xl(){var n=Et.document;return n?n.documentMode:void 0}e:{var Au="",Su=(n=rr,Jl?/rv:([^\);]+)(\)|;)/.exec(n):hs?/Edge\/([\d\.]+)/.exec(n):xa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kd?/WebKit\/(\S+)/.exec(n):Ql?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Su&&(Au=Su?Su[1]:""),xa){var Mu=Xl();if(null!=Mu&&Mu>parseFloat(Au)){Oa=String(Mu);break e}}Oa=Au}var Fd={};var Dw=Et.document&&xa&&(Xl()||parseInt(Oa,10))||void 0,Tw=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Et.addEventListener("test",zg,e),Et.removeEventListener("test",zg,e)}catch(t){}return n}();function Kr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Vd(n,e){if(Kr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Jl){e:{try{Yl(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Aw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Vd.Z.h.call(this)}}Kr.prototype.h=function(){this.defaultPrevented=!0},Zr(Vd,Kr);var Aw={2:"touch",3:"pen",4:"mouse"};Vd.prototype.h=function(){Vd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ud="closure_listenable_"+(1e6*Math.random()|0),Sw=0;function UI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++Sw,this.ca=this.fa=!1}function xf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Jg(n){this.src=n,this.g={},this.h=0}function b_(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=ww(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(xf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Xg(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}Jg.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Xg(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new UI(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var D_="closure_lm_"+(1e6*Math.random()|0),T_={};function A_(n,e,t,r,o){if(r&&r.once)return Ow(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)A_(n,e[l],t,r,o);return null}return t=kw(t),n&&n[Ud]?n.N(e,t,Pd(r)?!!r.capture:!!r,o):Mw(n,e,t,!1,r,o)}function Mw(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=Pd(o)?!!o.capture:!!o,m=Of(n);if(m||(n[D_]=m=new Jg(n)),(t=m.add(e,t,r,h,l)).proxy)return t;if(r=function xw(){var e=S_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Tw||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Nw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Ow(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ow(n,e[l],t,r,o);return null}return t=kw(t),n&&n[Ud]?n.O(e,t,Pd(r)?!!r.capture:!!r,o):Mw(n,e,t,!0,r,o)}function Pw(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)Pw(n,e[l],t,r,o);else r=Pd(r)?!!r.capture:!!r,t=kw(t),n&&n[Ud]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Xg(l=n.g[e],t,r,o))&&(xf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Of(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Xg(e,t,r,o)),(t=-1<n?e[n]:null)&&Rw(t))}function Rw(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ud])b_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Nw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Of(e))?(b_(t,n),0==t.h&&(t.src=null,e[D_]=null)):xf(n)}}}function Nw(n){return n in T_?T_[n]:T_[n]="on"+n}function S_(n,e){if(n.ca)n=!0;else{e=new Vd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Rw(n),n=t.call(r,e)}return n}function Of(n){return(n=n[D_])instanceof Jg?n:null}var M_="__closure_events_fn_"+(1e9*Math.random()>>>0);function kw(n){return"function"==typeof n?n:(n[M_]||(n[M_]=function(e){return n.handleEvent(e)}),n[M_])}function Yr(){Kl.call(this),this.i=new Jg(this),this.P=this,this.I=null}function hi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Kr(e,n);else if(e instanceof Kr)e.target=e.target||n;else{var o=e;Ao(e=new Kr(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=em(h,r,!0,e)&&o}if(o=em(h=e.g=n,r,!0,e)&&o,o=em(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=em(h=e.g=t[l],r,!1,e)&&o}function em(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var m=h.listener,E=h.ia||h.src;h.fa&&b_(n.i,h),o=!1!==m.call(E,r)&&o}}return o&&!r.defaultPrevented}Zr(Yr,Kl),Yr.prototype[Ud]=!0,Yr.prototype.removeEventListener=function(n,e,t,r){Pw(this,n,e,t,r)},Yr.prototype.M=function(){if(Yr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)xf(t[r]);delete n.g[e],n.h--}}this.I=null},Yr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Yr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var tm=Et.JSON.stringify;function oA(){var n=P_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var nm,ec=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new jI,n=>n.reset());class jI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Fw(n){Et.setTimeout(()=>{throw n},0)}function x_(n,e){nm||function rm(){var n=Et.Promise.resolve(void 0);nm=function(){n.then($I)}}(),O_||(nm(),O_=!0),P_.add(n,e)}var O_=!1,P_=new class BI{constructor(){this.h=this.g=null}add(e,t){const r=ec.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function $I(){for(var n;n=oA();){try{n.h.call(n.g)}catch(t){Fw(t)}var e=ec;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}O_=!1}function im(n,e){Yr.call(this),this.h=n||1,this.g=e||Et,this.j=xr(this.kb,this),this.l=Date.now()}function R_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function N_(n,e,t){if("function"==typeof n)t&&(n=xr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=xr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Et.setTimeout(n,e||0)}function Lw(n){n.g=N_(()=>{n.g=null,n.i&&(n.i=!1,Lw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zr(im,Yr),(Je=im.prototype).da=!1,Je.S=null,Je.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hi(this,"tick"),this.da&&(R_(this),this.start()))}},Je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Je.M=function(){im.Z.M.call(this),R_(this),delete this.g};class Vw extends Kl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Lw(this)}M(){super.M(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pf(n){Kl.call(this),this.h=n,this.g={}}Zr(Pf,Kl);var k_=[];function F_(n,e,t,r){Array.isArray(t)||(t&&(k_[0]=t.toString()),t=k_);for(var o=0;o<t.length;o++){var l=A_(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function sm(n){C_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Rw(e)},n),n.g={}}function L_(){this.g=!0}function Rf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Uw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return tm(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Pf.prototype.M=function(){Pf.Z.M.call(this),sm(this)},Pf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},L_.prototype.Aa=function(){this.g=!1},L_.prototype.info=function(){};var Pa={},om=null;function am(){return om=om||new Yr}function kf(n){Kr.call(this,Pa.Ma,n)}function xu(n){const e=am();hi(e,new kf(e,n))}function um(n,e){Kr.call(this,Pa.STAT_EVENT,n),this.stat=e}function Fi(n){const e=am();hi(e,new um(e,n))}function Bw(n,e){Kr.call(this,Pa.Na,n),this.size=e}function tc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){n()},e)}Pa.Ma="serverreachability",Zr(kf,Kr),Pa.STAT_EVENT="statevent",Zr(um,Kr),Pa.Na="timingevent",Zr(Bw,Kr);var Bd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},U_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lm(){}function B_(){}lm.prototype.h=null;var j_,jd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ff(){Kr.call(this,"d")}function dm(){Kr.call(this,"c")}function Lf(){}function $d(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Pf(this),this.P=jw,this.W=new im(n=Mf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hm}function hm(){this.i=null,this.g="",this.h=!1}Zr(Ff,Kr),Zr(dm,Kr),Zr(Lf,lm),Lf.prototype.g=function(){return new XMLHttpRequest},Lf.prototype.i=function(){return{}},j_=new Lf;var jw=45e3,$_={},fm={};function H_(n,e,t){n.K=1,n.v=_m(Ra(e)),n.s=t,n.U=!0,G_(n,null)}function G_(n,e){n.F=Date.now(),Hd(n),n.A=Ra(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),J_(t.h,"t",r),n.C=0,t=n.l.H,n.h=new hm,n.g=Tm(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Vw(xr(n.Ia,n,n.g),n.O)),F_(n.V,n.g,"readystatechange",n.gb),e=n.H?bw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),xu(1),function V_(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),E=0;E<m.length;E++){var D=m[E].split("=");if(1<D.length){var x=D[0];D=D[1];var P=x.split("_");h=2<=P.length&&"type"==P[1]?h+(x+"=")+D+"&":h+(x+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function pm(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function q_(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=$w(n,t),o==fm){4==e&&(n.o=4,Fi(14),r=!1),Rf(n.j,n.m,null,"[Incomplete Response]");break}if(o==$_){n.o=4,Fi(15),Rf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Rf(n.j,n.m,o,null),gm(n,o)}pm(n)&&o!=fm&&o!=$_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Fi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Dm(e),e.L=!0,Fi(11))):(Rf(n.j,n.m,t,"[Invalid Chunked Response]"),Ou(n),Gd(n))}function $w(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?fm:(t=Number(e.substring(t,r)),isNaN(t)?$_:(r+=1)+t>e.length?fm:(e=e.substr(r,t),n.C=r+t,e))}function Hd(n){n.Y=Date.now()+n.P,z_(n,n.P)}function z_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=tc(xr(n.eb,n),e)}function Vf(n){n.B&&(Et.clearTimeout(n.B),n.B=null)}function Gd(n){0==n.l.G||n.I||Ru(n.l,n)}function Ou(n){Vf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,R_(n.W),sm(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function gm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||vm(t.i,n)))if(t.I=n.N,!n.J&&vm(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=tc(xr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;zf(t),Cm(t)}bm(t),Fi(18)}if(1>=zw(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else ic(t,11)}else if((n.J||t.g==n)&&zf(t),!Kg(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let D=o[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const x=D[3];null!=x&&(t.ma=x,t.h.info("VER="+t.ma));const P=D[4];null!=P&&(t.za=P,t.h.info("SVER="+t.za));const H=D[5];null!=H&&"number"==typeof H&&0<H&&(t.K=r=1.5*H,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const Z=n.g;if(Z){const pe=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pe){var l=r.i;!l.g&&(Di(pe,"spdy")||Di(pe,"quic")||Di(pe,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(ev(l,l.h),l.h=null))}if(r.D){const ke=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;ke&&(r.sa=ke,dn(r.F,r.D,ke))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=tb(r,r.H?r.la:null,r.W),h.J){tv(r.i,h);var m=h,E=r.K;E&&m.setTimeout(E),m.B&&(Vf(m),Hd(m)),r.g=h}else lv(r);0<t.l.length&&qf(t)}else"stop"!=D[0]&&"close"!=D[0]||ic(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?ic(t,7):ov(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}xu(4)}catch(D){}}function W_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wg(n)||"string"==typeof n)Zg(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Wg(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function aA(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Wg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function qd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof qd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function mm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];nc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)nc(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function nc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Je=$d.prototype).setTimeout=function(n){this.P=n},Je.gb=function(n){n=n.target;const e=this.L;e&&3==Na(n)?e.l():this.Ia(n)},Je.Ia=function(n){try{if(n==this.g)e:{const x=Na(this.g);var e=this.g.Da();const P=this.g.ba();if(!(3>x)&&(3!=x||Mf||this.g&&(this.h.h||this.g.ga()||eE(this.g)))){this.I||4!=x||7==e||xu(8==e||0>=P?3:2),Vf(this);var t=this.g.ba();this.N=t;t:if(pm(this)){var r=eE(this.g);n="";var o=r.length,l=4==Na(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ou(this),Gd(this);var h="";break t}this.h.i=new Et.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function HI(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,x,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kg(m)){var D=m;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,Fi(12),Ou(this),Gd(this);break e}Rf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gm(this,t)}this.U?(q_(this,x,h),Mf&&this.i&&3==x&&(F_(this.V,this.W,"tick",this.fb),this.W.start())):(Rf(this.j,this.m,h,null),gm(this,h)),4==x&&Ou(this),this.i&&!this.I&&(4==x?Ru(this.l,this):(this.i=!1,Hd(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Fi(12)):(this.o=0,Fi(13)),Ou(this),Gd(this)}}}catch(x){}},Je.fb=function(){if(this.g){var n=Na(this.g),e=this.g.ga();this.C<e.length&&(Vf(this),q_(this,n,e),this.i&&4!=n&&Hd(this))}},Je.cancel=function(){this.I=!0,Ou(this)},Je.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Nf(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(xu(3),Fi(17)),Ou(this),this.o=2,Gd(this)):z_(this,this.Y-n)},(Je=qd.prototype).R=function(){mm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Je.T=function(){return mm(this),this.g.concat()},Je.get=function(n,e){return nc(this.h,n)?this.h[n]:e},Je.set=function(n,e){nc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Je.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var ir=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof rc){this.g=void 0!==e?e:n.g,Uf(this,n.j),this.s=n.s,ym(this,n.i),Bf(this,n.m),this.l=n.l,e=n.h;var t=new Li;t.i=e.i,e.g&&(t.g=new qd(e.g),t.h=e.h),Z_(this,t),this.o=n.o}else n&&(t=String(n).match(ir))?(this.g=!!e,Uf(this,t[1]||"",!0),this.s=jf(t[2]||""),ym(this,t[3]||"",!0),Bf(this,t[4]),this.l=jf(t[5]||"",!0),Z_(this,t[6]||"",!0),this.o=jf(t[7]||"")):(this.g=!!e,this.h=new Li(null,this.g))}function Ra(n){return new rc(n)}function Uf(n,e,t){n.j=t?jf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ym(n,e,t){n.i=t?jf(e,!0):e}function Bf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Z_(n,e,t){e instanceof Li?(n.h=e,function WI(n,e){e&&!n.j&&(Or(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Zs(this,r),J_(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=zd(e,qI)),n.h=new Li(e,n.g))}function dn(n,e,t){n.h.set(e,t)}function _m(n){return dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function jf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function zd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,uA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function uA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}rc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(zd(e,K_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(zd(e,K_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(zd(t,"/"==t.charAt(0)?zo:Y_,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",zd(t,zI)),n.join("")};var K_=/[#\/\?@]/g,Y_=/[#\?:]/g,zo=/[#\?]/g,qI=/[#\?@]/g,zI=/#/g;function Li(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Or(n){n.g||(n.g=new qd,n.h=0,n.i&&function Hw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Zs(n,e){Or(n),e=Wd(n,e),nc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,nc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&mm(n)))}function Q_(n,e){return Or(n),e=Wd(n,e),nc(n.g.h,e)}function J_(n,e,t){Zs(n,e),0<t.length&&(n.i=null,n.g.set(Wd(n,e),E_(t)),n.h+=t.length)}function Wd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qw(n){this.l=n||X_,n=Et.PerformanceNavigationTiming?0<(n=Et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Et.g&&Et.g.Ea&&Et.g.Ea()&&Et.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Je=Li.prototype).add=function(n,e){Or(this),this.i=null,n=Wd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Je.forEach=function(n,e){Or(this),this.g.forEach(function(t,r){Zg(t,function(o){n.call(e,o,r,this)},this)},this)},Je.T=function(){Or(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},Je.R=function(n){Or(this);var e=[];if("string"==typeof n)Q_(this,n)&&(e=Ew(e,this.g.get(Wd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Ew(e,n[t])}return e},Je.set=function(n,e){return Or(this),this.i=null,Q_(this,n=Wd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Je.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var X_=10;function Zd(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zw(n){return n.h?1:n.g?n.g.size:0}function vm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ev(n,e){n.g?n.g.add(e):n.h=e}function tv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function nv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return E_(n.i)}function Kd(){}function KI(){this.g=new Kd}function Ww(n,e,t){const r=t||"";try{W_(n,function(o,l){let h=o;Pd(o)&&(h=tm(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function $f(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function Pu(n){this.l=n.$b||null,this.j=n.ib||!1}function Hf(n,e){Yr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=wm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qw.prototype.cancel=function(){if(this.i=nv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Kd.prototype.stringify=function(n){return Et.JSON.stringify(n,void 0)},Kd.prototype.parse=function(n){return Et.JSON.parse(n,void 0)},Zr(Pu,lm),Pu.prototype.g=function(){return new Hf(this.l,this.j)},Pu.prototype.i=function(n){return function(){return n}}({}),Zr(Hf,Yr);var wm=0;function rv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Yd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Qd(n)}function Qd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Je=Hf.prototype).open=function(n,e){if(this.readyState!=wm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Qd(this)},Je.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Et).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yd(this)),this.readyState=wm},Je.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Qd(this)),this.g&&(this.readyState=3,Qd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Et.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Je.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Yd(this):Qd(this),3==this.readyState&&rv(this)}},Je.Ua=function(n){this.g&&(this.response=this.responseText=n,Yd(this))},Je.Ta=function(n){this.g&&(this.response=n,Yd(this))},Je.ha=function(){this.g&&Yd(this)},Je.setRequestHeader=function(n,e){this.v.append(n,e)},Je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Je.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Hf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Kw=Et.JSON.parse;function zn(n){Yr.call(this),this.headers=new qd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=iv,this.K=this.L=!1}Zr(zn,Yr);var iv="",YI=/^https?$/i,QI=["POST","PUT"];function XI(n){return"content-type"==n.toLowerCase()}function Yw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Qw(n),Em(n)}function Qw(n){n.D||(n.D=!0,hi(n,"complete"),hi(n,"error"))}function Jw(n){if(n.h&&void 0!==yw&&(!n.C[1]||4!=Na(n)||2!=n.ba()))if(n.v&&4==Na(n))N_(n.Fa,0,n);else if(hi(n,"readystatechange"),4==Na(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(ir)[1]||null;if(!o&&Et.self&&Et.self.location){var l=Et.self.location.protocol;o=l.substr(0,l.length-1)}r=!YI.test(o?o.toLowerCase():"")}t=r}if(t)hi(n,"complete"),hi(n,"success");else{n.m=6;try{var h=2<Na(n)?n.g.statusText:""}catch(E){h=""}n.j=h+" ["+n.ba()+"]",Qw(n)}}finally{Em(n)}}}function Em(n,e){if(n.g){Xw(n);const t=n.g,r=n.C[0]?zg:null;n.g=null,n.C=null,e||hi(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function Xw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Et.clearTimeout(n.A),n.A=null)}function Na(n){return n.g?n.g.readyState:0}function eE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case iv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function sv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function eb(n){let e="";return C_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):dn(n,e,t))}function Gf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function tE(n){this.za=0,this.l=[],this.h=new L_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gf("baseRetryDelayMs",5e3,n),this.$a=Gf("retryDelaySeedMs",1e4,n),this.Ya=Gf("forwardChannelMaxRetries",2,n),this.ra=Gf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new qw(n&&n.concurrentRequestLimit),this.Ca=new KI,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ov(n){if(nE(n),3==n.G){var e=n.V++,t=Ra(n.F);dn(t,"SID",n.J),dn(t,"RID",e),dn(t,"TYPE","terminate"),Jd(n,t),(e=new $d(n,n.h,e,void 0)).K=2,e.v=_m(Ra(t)),t=!1,Et.navigator&&Et.navigator.sendBeacon&&(t=Et.navigator.sendBeacon(e.v.toString(),"")),!t&&Et.Image&&((new Image).src=e.v,t=!0),t||(e.g=Tm(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Hd(e)}sc(n)}function Cm(n){n.g&&(Dm(n),n.g.cancel(),n.g=null)}function nE(n){Cm(n),n.u&&(Et.clearTimeout(n.u),n.u=null),zf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Et.clearTimeout(n.m),n.m=null)}function Im(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&qf(n)}function qf(n){Zd(n.i)||n.m||(n.m=!0,x_(n.Ha,n),n.C=0)}function av(n,e){var t;t=e?e.m:n.V++;const r=Ra(n.F);dn(r,"SID",n.J),dn(r,"RID",t),dn(r,"AID",n.U),Jd(n,r),n.o&&n.s&&sv(r,n.o,n.s),t=new $d(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=uv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),ev(n.i,t),H_(t,r,e)}function Jd(n,e){n.j&&W_({},function(t,r){dn(e,r,t)})}function uv(n,e,t){t=Math.min(n.l.length,t);var r=n.j?xr(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let E=0;E<t;E++){let D=o[E].h;const x=o[E].g;if(D-=l,0>D)l=Math.max(0,o[E].h-100),m=!1;else try{Ww(x,h,"req"+D+"_")}catch(P){r&&r(x)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function lv(n){n.g||n.u||(n.Y=1,x_(n.Ga,n),n.A=0)}function bm(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=tc(xr(n.Ga,n),iE(n,n.A)),n.A++,0))}function Dm(n){null!=n.B&&(Et.clearTimeout(n.B),n.B=null)}function cv(n){n.g=new $d(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ra(n.oa);dn(e,"RID","rpc"),dn(e,"SID",n.J),dn(e,"CI",n.N?"0":"1"),dn(e,"AID",n.U),Jd(n,e),dn(e,"TYPE","xmlhttp"),n.o&&n.s&&sv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=_m(Ra(e)),t.s=null,t.U=!0,G_(t,n)}function zf(n){null!=n.v&&(Et.clearTimeout(n.v),n.v=null)}function Ru(n,e){var t=null;if(n.g==e){zf(n),Dm(n),n.g=null;var r=2}else{if(!vm(n.i,e))return;t=e.D,tv(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;hi(r=am(),new Bw(r,t,e,o)),qf(n)}else lv(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function rE(n,e){return!(zw(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=tc(xr(n.Ha,n,e),iE(n,n.C)),n.C++,0)))}(n,e)||2==r&&bm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:ic(n,5);break;case 4:ic(n,10);break;case 3:ic(n,6);break;default:ic(n,2)}}function iE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ic(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=xr(n.jb,n);t||(t=new rc("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||Uf(t,"https"),_m(t)),function Zw(n,e){const t=new L_;if(Et.Image){const r=new Image;r.onload=Sf($f,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Sf($f,t,r,"TestLoadImage: error",!1,e),r.onabort=Sf($f,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sf($f,t,r,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Fi(2);n.G=0,n.j&&n.j.va(e),sc(n),nE(n)}function sc(n){n.G=0,n.I=-1,n.j&&((0!=nv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,E_(n.l),n.l.length=0),n.j.ua())}function tb(n,e,t){let r=function GI(n){return n instanceof rc?Ra(n):new rc(n,void 0)}(t);if(""!=r.i)e&&ym(r,e+"."+r.i),Bf(r,r.m);else{const o=Et.location;r=function Gw(n,e,t,r){var o=new rc(null,void 0);return n&&Uf(o,n),e&&ym(o,e),t&&Bf(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&C_(n.aa,function(o,l){dn(r,l,o)}),t=n.sa,(e=n.D)&&t&&dn(r,e,t),dn(r,"VER",n.ma),Jd(n,r),r}function Tm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zn(t&&n.Ba&&!n.qa?new Pu({ib:!0}):n.qa)).L=n.H,e}function nb(){}function Wf(){if(xa&&!(10<=Number(Dw)))throw Error("Environmental error: no available transport.")}function Vi(n,e){Yr.call(this),this.g=new tE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Kg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xd(this)}function rb(n){Ff.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function pt(){dm.call(this),this.status=1}function Xd(n){this.g=n}(Je=zn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():j_.g(),this.C=function cm(n){return n.h||(n.h=n.i())}(this.u?this.u:j_),this.g.onreadystatechange=xr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Yw(this,l)}n=t||"";const o=new qd(this.headers);r&&W_(r,function(l,h){o.set(h,l)}),r=function VI(n){e:{var e=XI;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Et.FormData&&n instanceof Et.FormData,!(0<=ww(QI,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xw(this),0<this.B&&((this.K=function JI(n){return xa&&function Ld(){return function di(n){var e=Fd;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Cw(String(Oa)).split("."),t=Cw("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=Rd(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Rd(0==o[2].length,0==l[2].length)||Rd(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xr(this.pa,this)):this.A=N_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Yw(this,l)}},Je.pa=function(){void 0!==yw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hi(this,"timeout"),this.abort(8))},Je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,hi(this,"complete"),hi(this,"abort"),Em(this))},Je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Em(this,!0)),zn.Z.M.call(this)},Je.Fa=function(){this.s||(this.F||this.v||this.l?Jw(this):this.cb())},Je.cb=function(){Jw(this)},Je.ba=function(){try{return 2<Na(this)?this.g.status:-1}catch(n){return-1}},Je.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Je.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Kw(e)}},Je.Da=function(){return this.m},Je.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Je=tE.prototype).ma=8,Je.G=1,Je.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Je.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new $d(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=bw(l),Ao(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=uv(this,o,e),dn(t=Ra(this.F),"RID",n),dn(t,"CVER",22),this.D&&dn(t,"X-HTTP-Session-Id",this.D),Jd(this,t),this.o&&l&&sv(t,this.o,l),ev(this.i,o),this.Ra&&dn(t,"TYPE","init"),this.ja?(dn(t,"$req",e),dn(t,"SID","null"),o.$=!0,H_(o,t,null)):H_(o,t,e),this.G=2}}else 3==this.G&&(n?av(this,n):0==this.l.length||Zd(this.i)||av(this))},Je.Ga=function(){if(this.u=null,cv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=tc(xr(this.bb,this),n)}},Je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fi(10),Cm(this),cv(this))},Je.ab=function(){null!=this.v&&(this.v=null,Cm(this),bm(this),Fi(19))},Je.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Fi(2)):(this.h.info("Failed to ping google.com"),Fi(1))},(Je=nb.prototype).xa=function(){},Je.wa=function(){},Je.va=function(){},Je.ua=function(){},Je.Oa=function(){},Wf.prototype.g=function(n,e){return new Vi(n,e)},Zr(Vi,Yr),Vi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),x_(xr(n.hb,n,e))),Fi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=tb(n,null,n.W),qf(n)},Vi.prototype.close=function(){ov(this.g)},Vi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Im(this.g,e)}else this.v?((e={}).__data__=tm(n),Im(this.g,e)):Im(this.g,n)},Vi.prototype.M=function(){this.g.j=null,delete this.j,ov(this.g),delete this.g,Vi.Z.M.call(this)},Zr(rb,Ff),Zr(pt,dm),Zr(Xd,nb),Xd.prototype.xa=function(){hi(this.g,"a")},Xd.prototype.wa=function(n){hi(this.g,new rb(n))},Xd.prototype.va=function(n){hi(this.g,new pt(n))},Xd.prototype.ua=function(){hi(this.g,"b")},Wf.prototype.createWebChannel=Wf.prototype.g,Vi.prototype.send=Vi.prototype.u,Vi.prototype.open=Vi.prototype.m,Vi.prototype.close=Vi.prototype.close,Bd.NO_ERROR=0,Bd.TIMEOUT=8,Bd.HTTP_ERROR=6,U_.COMPLETE="complete",B_.EventType=jd,jd.OPEN="a",jd.CLOSE="b",jd.ERROR="c",jd.MESSAGE="d",Yr.prototype.listen=Yr.prototype.N,zn.prototype.listenOnce=zn.prototype.O,zn.prototype.getLastError=zn.prototype.La,zn.prototype.getLastErrorCode=zn.prototype.Da,zn.prototype.getStatus=zn.prototype.ba,zn.prototype.getResponseJson=zn.prototype.Qa,zn.prototype.getResponseText=zn.prototype.ga,zn.prototype.send=zn.prototype.ea;var ib=Ma.createWebChannelTransport=function(){return new Wf},sb=Ma.getStatEventTarget=function(){return am()},eh=Ma.ErrorCode=Bd,ob=Ma.EventType=U_,Am=Ma.Event=Pa,Zf=Ma.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Un=Ma.FetchXmlHttpFactory=Pu,dv=Ma.WebChannel=B_,sE=Ma.XhrIo=zn;const oE="@firebase/firestore";class Qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");let oc="9.6.10";const ka=new Zl.Yd("@firebase/firestore");function Sm(){return ka.logLevel}function Pe(n,...e){if(ka.logLevel<=Zl.in.DEBUG){const t=e.map(ac);ka.debug(`Firestore (${oc}): ${n}`,...t)}}function sr(n,...e){if(ka.logLevel<=Zl.in.ERROR){const t=e.map(ac);ka.error(`Firestore (${oc}): ${n}`,...t)}}function Kf(n,...e){if(ka.logLevel<=Zl.in.WARN){const t=e.map(ac);ka.warn(`Firestore (${oc}): ${n}`,...t)}}function ac(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Xe(n="Unexpected state"){const e=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: `+n;throw sr(e),new Error(e)}function Ct(n,e){n||Xe()}function $e(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Ft.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class uE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qr.UNAUTHENTICATED))}shutdown(){}}class Qf{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ub{constructor(e){this.t=e,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=D=>this.i!==o?(o=this.i,t(D)):Promise.resolve();let h=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Er,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const D=h;e.enqueueRetryable((0,ce.Z)(function*(){yield D.promise,yield l(r.currentUser)}))},E=D=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>E(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?E(D):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Er)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new uE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new Qr(e)}}class lb{constructor(e,t,r){this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class cb{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new lb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lE{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.p;return this.p=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.p=t.token,new hv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class fs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function cE(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}fs.A=-1;class dE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=cE(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function jt(n,e){return n<e?-1:n>e?1:0}function Jf(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function hb(n){return n+"\0"}class or{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return or.fromMillis(Date.now())}static fromDate(e){return or.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new or(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new or(0,0))}static max(){return new wt(new or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function fv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Xf{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xe(),void 0===r?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Xf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wt extends Xf{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const ep=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends Xf{construct(e,t,r){return new Pr(e,t,r)}static isValidIdentifier(e){return ep.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Ae(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ae(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Ae(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(l(),o++)}if(l(),h)throw new Ae(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(t)}static emptyPath(){return new Pr([])}}class th{constructor(e){this.fields=e,e.sort(Pr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Cr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const pb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=pb.exec(n);if(Ct(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bn(n.seconds),nanos:Bn(n.nanos)}}function Bn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function uc(n){return"string"==typeof n?Cr.fromBase64String(n):Cr.fromUint8Array(n)}function Nu(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fE(n){const e=n.mapValue.fields.__previous_value__;return Nu(e)?fE(e):e}function nh(n){const e=Fa(n.mapValue.fields.__local_write_time__.timestampValue);return new or(e.seconds,e.nanos)}class gb{constructor(e,t,r,o,l,h,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class Zo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Zo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zo&&e.projectId===this.projectId&&e.database===this.database}}function lc(n){return null==n}function rh(n){return 0===n&&1/n==-1/0}function pE(n){return"number"==typeof n&&Number.isInteger(n)&&!rh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Wt.fromString(e))}static fromName(e){return new Ve(Wt.fromString(e).popFirst(5))}static empty(){return new Ve(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Wt(e.slice()))}}const gE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},pv={nullValue:"NULL_VALUE"};function ku(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nu(n)?4:_E(n)?9:10:Xe()}function Ko(n,e){if(n===e)return!0;const t=ku(n);if(t!==ku(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nh(n).isEqual(nh(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Fa(r.timestampValue),h=Fa(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,uc(n.bytesValue).isEqual(uc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Bn(r.geoPointValue.latitude)===Bn(o.geoPointValue.latitude)&&Bn(r.geoPointValue.longitude)===Bn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Bn(r.integerValue)===Bn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Bn(r.doubleValue),h=Bn(o.doubleValue);return l===h?rh(l)===rh(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return Jf(n.arrayValue.values||[],e.arrayValue.values||[],Ko);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(fv(l)!==fv(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!Ko(l[m],h[m])))return!1;return!0}(n,e);default:return Xe()}var o}function tp(n,e){return void 0!==(n.values||[]).find(t=>Ko(t,e))}function Fu(n,e){if(n===e)return 0;const t=ku(n),r=ku(e);if(t!==r)return jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=Bn(o.integerValue||o.doubleValue),m=Bn(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return Mm(n.timestampValue,e.timestampValue);case 4:return Mm(nh(n),nh(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(o,l){const h=uc(o),m=uc(l);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),m=l.split("/");for(let E=0;E<h.length&&E<m.length;E++){const D=jt(h[E],m[E]);if(0!==D)return D}return jt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=jt(Bn(o.latitude),Bn(l.latitude));return 0!==h?h:jt(Bn(o.longitude),Bn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],m=l.values||[];for(let E=0;E<h.length&&E<m.length;++E){const D=Fu(h[E],m[E]);if(D)return D}return jt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const h=o.fields||{},m=Object.keys(h),E=l.fields||{},D=Object.keys(E);m.sort(),D.sort();for(let x=0;x<m.length&&x<D.length;++x){const P=jt(m[x],D[x]);if(0!==P)return P;const H=Fu(h[m[x]],E[D[x]]);if(0!==H)return H}return jt(m.length,D.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function Mm(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=Fa(n),r=Fa(e),o=jt(t.seconds,r.seconds);return 0!==o?o:jt(t.nanos,r.nanos)}function ih(n){return xm(n)}function xm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Fa(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?uc(n.bytesValue).toBase64():"referenceValue"in n?Ve.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=xm(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of o)h?h=!1:l+=",",l+=`${m}:${xm(r.fields[m])}`;return l+"}"}(n.mapValue):Xe();var e}function sh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gv(n){return!!n&&"integerValue"in n}function np(n){return!!n&&"arrayValue"in n}function mE(n){return!!n&&"nullValue"in n}function yE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Om(n){return!!n&&"mapValue"in n}function rp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=rp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _E(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function mv(n,e){return void 0===n?e:void 0===e||Fu(n,e)>0?n:e}function yv(n,e){return void 0===n?e:void 0===e||Fu(n,e)<0?n:e}class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Om(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rp(t)}setAll(e){let t=Pr.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=rp(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());Om(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ko(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Om(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Wo(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new fi(rp(this.value))}}function vE(n){const e=[];return Wo(n.fields,(t,r)=>{const o=new Pr([t]);if(Om(r)){const l=vE(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new th(e)}class vn{constructor(e,t,r,o,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new vn(e,0,wt.min(),wt.min(),fi.empty(),0)}static newFoundDocument(e,t,r){return new vn(e,1,t,wt.min(),r,0)}static newNoDocument(e,t){return new vn(e,2,t,wt.min(),fi.empty(),0)}static newUnknownDocument(e,t){return new vn(e,3,t,wt.min(),fi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pm{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function _v(n){return n.fields.find(e=>2===e.kind)}function oh(n){return n.fields.filter(e=>2!==e.kind)}Pm.UNKNOWN_ID=-1;class ah{constructor(e,t){this.fieldPath=e,this.kind=t}}class cc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cc(0,La.min())}}function vv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(1e9===r?new or(t+1,0):new or(t,r));return new La(o,Ve.empty(),e)}function wv(n){return new La(n.readTime,n.key,-1)}class La{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new La(wt.min(),Ve.empty(),-1)}static max(){return new La(wt.max(),Ve.empty(),-1)}}function mb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ve.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}class Ev{constructor(e,t=null,r=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.P=null}}function wE(n,e=null,t=[],r=[],o=null,l=null,h=null){return new Ev(n,e,t,r,o,l,h)}function Lu(n){const e=$e(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+ih(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),lc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ih(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ih(r)).join(",")),e.P=t}return e.P}function uh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!Eb(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Ko(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cv(n.startAt,e.startAt)&&Cv(n.endAt,e.endAt)}function Rm(n){return Ve.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ip(n,e){return n.filters.filter(t=>t instanceof pi&&t.field.isEqual(e))}class pi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new _b(e,t,r):"array-contains"===t?new sp(e,r):"in"===t?new wb(e,r):"not-in"===t?new lA(e,r):"array-contains-any"===t?new EE(e,r):new pi(e,t,r)}static V(e,t,r){return"in"===t?new Nm(e,r):new vb(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Fu(t,this.value)):null!==t&&ku(this.value)===ku(t)&&this.v(Fu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _b extends pi{constructor(e,t,r){super(e,t,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.v(t)}}class Nm extends pi{constructor(e,t){super(e,"in",t),this.keys=dc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vb extends pi{constructor(e,t){super(e,"not-in",t),this.keys=dc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dc(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class sp extends pi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return np(t)&&tp(t.arrayValue,this.value)}}class wb extends pi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&tp(this.value.arrayValue,t)}}class lA extends pi{constructor(e,t){super(e,"not-in",t)}matches(e){if(tp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!tp(this.value.arrayValue,t)}}class EE extends pi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!np(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>tp(this.value.arrayValue,r))}}class Vu{constructor(e,t){this.position=e,this.inclusive=t}}class lh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Eb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function CE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?Ve.comparator(Ve.fromName(h.referenceValue),t.key):Fu(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Cv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ko(n.position[t],e.position[t]))return!1;return!0}class Yo{constructor(e,t=null,r=[],o=[],l=null,h="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=E,this.D=null,this.C=null}}function km(n,e,t,r,o,l,h,m){return new Yo(n,e,t,r,o,l,h,m)}function Va(n){return new Yo(n)}function Uu(n){return!lc(n.limit)&&"F"===n.limitType}function Fm(n){return!lc(n.limit)&&"L"===n.limitType}function Lm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Vm(n){for(const e of n.filters)if(e.S())return e.field;return null}function Iv(n){return null!==n.collectionGroup}function ch(n){const e=$e(n);if(null===e.D){e.D=[];const t=Vm(e),r=Lm(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new lh(t)),e.D.push(new lh(Pr.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new lh(Pr.keyField(),l))}}}return e.D}function Ui(n){const e=$e(n);if(!e.C)if("F"===e.limitType)e.C=wE(e.path,e.collectionGroup,ch(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of ch(e))t.push(new lh(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Vu(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new Vu(e.startAt.position,!e.startAt.inclusive):null;e.C=wE(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function IE(n,e,t){return new Yo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Um(n,e){return uh(Ui(n),Ui(e))&&n.limitType===e.limitType}function bE(n){return`${Lu(Ui(n))}|lt:${n.limitType}`}function bv(n){return`Query(target=${function yb(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ih(r.value)}`;var r}).join(", ")}]`),lc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ih(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ih(t)).join(",")),`Target(${e})`}(Ui(n))}; limitType=${n.limitType})`}function Bu(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ve.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,h){const m=CE(o,l,h);return o.inclusive?m<=0:m<0}(t.startAt,ch(t),r)||t.endAt&&!function(o,l,h){const m=CE(o,l,h);return o.inclusive?m>=0:m>0}(t.endAt,ch(t),r)));var t,r}function Dv(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hc(n){return(e,t)=>{let r=!1;for(const o of ch(n)){const l=cA(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function cA(n,e,t){const r=n.field.isKeyField()?Ve.comparator(e.key,t.key):function(o,l,h){const m=l.data.field(o),E=h.data.field(o);return null!==m&&null!==E?Fu(m,E):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}function Tv(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function DE(n){return{integerValue:""+n}}function Cb(n,e){return pE(e)?DE(e):Tv(n,e)}class op{constructor(){this._=void 0}}function dA(n,e,t){return n instanceof fc?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof pc?AE(n,e):n instanceof gc?SE(n,e):function(r,o){const l=Bm(r,o),h=ME(l)+ME(r.k);return gv(l)&&gv(r.k)?DE(h):Tv(r.M,h)}(n,e)}function TE(n,e,t){return n instanceof pc?AE(n,e):n instanceof gc?SE(n,e):t}function Bm(n,e){return n instanceof dh?gv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class fc extends op{}class pc extends op{constructor(e){super(),this.elements=e}}function AE(n,e){const t=xE(e);for(const r of n.elements)t.some(o=>Ko(o,r))||t.push(r);return{arrayValue:{values:t}}}class gc extends op{constructor(e){super(),this.elements=e}}function SE(n,e){let t=xE(e);for(const r of n.elements)t=t.filter(o=>!Ko(o,r));return{arrayValue:{values:t}}}class dh extends op{constructor(e,t){super(),this.M=e,this.k=t}}function ME(n){return Bn(n.integerValue||n.doubleValue)}function xE(n){return np(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ap{constructor(e,t){this.field=e,this.transform=t}}class up{constructor(e,t){this.version=e,this.transformResults=t}}class Wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class cp{}function OE(n,e,t){n instanceof dp?function(r,o,l){const h=r.value.clone(),m=kE(r.fieldTransforms,o,l.transformResults);h.setAll(m),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof mc?function(r,o,l){if(!lp(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=kE(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(NE(r)),m.setAll(h),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function jm(n,e,t){var o;n instanceof dp?function(r,o,l){if(!lp(r.precondition,o))return;const h=r.value.clone(),m=hh(r.fieldTransforms,l,o);h.setAll(m),o.convertToFoundDocument(RE(o),h).setHasLocalMutations()}(n,e,t):n instanceof mc?function(r,o,l){if(!lp(r.precondition,o))return;const h=hh(r.fieldTransforms,l,o),m=o.data;m.setAll(NE(r)),m.setAll(h),o.convertToFoundDocument(RE(o),m).setHasLocalMutations()}(n,e,t):lp(n.precondition,o=e)&&o.convertToNoDocument(wt.min())}function bb(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=Bm(r.transform,o||null);null!=l&&(null==t&&(t=fi.empty()),t.set(r.field,l))}return t||null}function PE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Jf(t,r,(o,l)=>function Ib(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof pc&&r instanceof pc||t instanceof gc&&r instanceof gc?Jf(t.elements,r.elements,Ko):t instanceof dh&&r instanceof dh?Ko(t.k,r.k):t instanceof fc&&r instanceof fc);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function RE(n){return n.isFoundDocument()?n.version:wt.min()}class dp extends cp{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class mc extends cp{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function NE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function kE(n,e,t){const r=new Map;Ct(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,m=e.data.field(l.field);r.set(l.field,TE(h,m,t[o]))}return r}function hh(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,dA(l,h,e))}return r}class hp extends cp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class fp extends cp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Qo{constructor(e){this.count=e}}var ar,zt;function fh(n){switch(n){default:return Xe();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function FE(n){if(void 0===n)return sr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case ar.OK:return ae.OK;case ar.CANCELLED:return ae.CANCELLED;case ar.UNKNOWN:return ae.UNKNOWN;case ar.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case ar.INTERNAL:return ae.INTERNAL;case ar.UNAVAILABLE:return ae.UNAVAILABLE;case ar.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case ar.NOT_FOUND:return ae.NOT_FOUND;case ar.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case ar.ABORTED:return ae.ABORTED;case ar.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case ar.DATA_LOSS:return ae.DATA_LOSS;default:return Xe()}}(zt=ar||(ar={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";class ju{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}class Zn{constructor(e,t){this.comparator=e,this.root=t||ur.EMPTY}insert(e,t){return new Zn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new Zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yc(this.root,e,this.comparator,!0)}}class yc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ur{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:ur.RED,this.left=null!=o?o:ur.EMPTY,this.right=null!=l?l:ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new ur(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return ur.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1,ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,e,t,r,o){return this}insert(n,e,t){return new ur(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LE(this.data.getIterator())}getIteratorFrom(e){return new LE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class LE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _c(n){return n.hasNext()?n.getNext():void 0}const VE=new Zn(Ve.comparator);function Bi(){return VE}const UE=new Zn(Ve.comparator);function Av(){return UE}function pp(){return new ju(n=>n.toString(),(n,e)=>n.isEqual(e))}const hA=new Zn(Ve.comparator),Sv=new Dn(Ve.comparator);function rn(...n){let e=Sv;for(const t of n)e=e.add(t);return e}const BE=new Dn(jt);function ph(){return BE}class vc{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,gp.createSynthesizedTargetChangeForCurrentChange(e,t)),new vc(wt.min(),r,ph(),Bi(),rn())}}class gp{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new gp(Cr.EMPTY_BYTE_STRING,t,rn(),rn(),rn())}}class $m{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class jE{constructor(e,t){this.targetId=e,this.$=t}}class $E{constructor(e,t,r=Cr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Mv{constructor(){this.B=0,this.L=HE(),this.U=Cr.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=rn(),t=rn(),r=rn();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Xe()}}),new gp(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=HE()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class xv{constructor(e){this.nt=e,this.st=new Map,this.it=Bi(),this.rt=Ov(),this.ot=new Dn(jt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const l=o.target;if(Rm(l))if(0===r){const h=new Ve(l.path);this.ct(t,h,vn.newNoDocument(h,wt.min()))}else Ct(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&Rm(m.target)){const E=new Ve(m.target.path);null!==this.it.get(E)||this.It(h,E)||this.ct(h,E,vn.newNoDocument(E,e))}l.j&&(t.set(h,l.H()),l.J())}});let r=rn();this.rt.forEach((l,h)=>{let m=!0;h.forEachWhile(E=>{const D=this.wt(E);return!D||2===D.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,h)=>h.setReadTime(e));const o=new vc(e,t,this.ot,this.it,r);return this.it=Bi(),this.rt=Ov(),this.ot=new Dn(jt),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Mv,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Dn(jt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new Mv),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Ov(){return new Zn(Ve.comparator)}function HE(){return new Zn(Ve.comparator)}const GE={asc:"ASCENDING",desc:"DESCENDING"},qE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Db{constructor(e,t){this.databaseId=e,this.N=t}}function gh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pv(n,e){return n.N?e.toBase64():e.toUint8Array()}function Tb(n,e){return gh(n,e.toTimestamp())}function Ir(n){return Ct(!!n),wt.fromTimestamp(function(e){const t=Fa(e);return new or(t.seconds,t.nanos)}(n))}function Rv(n,e){return(t=n,new Wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gi(n){const e=Wt.fromString(n);return Ct(Ob(e)),e}function Jo(n,e){return Rv(n.databaseId,e.path)}function Xo(n,e){const t=gi(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ve(zE(t))}function Nv(n,e){return Rv(n.databaseId,e)}function Ab(n){const e=gi(n);return 4===e.length?Wt.emptyPath():zE(e)}function Ua(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zE(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Hm(n,e,t){return{name:Jo(n,e),fields:t.value.mapValue.fields}}function WE(n,e,t){const r=Xo(n,e.name),o=Ir(e.updateTime),l=new fi({mapValue:{fields:e.fields}}),h=vn.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function mp(n,e){let t;if(e instanceof dp)t={update:Hm(n,e.key,e.value)};else if(e instanceof hp)t={delete:Jo(n,e.key)};else if(e instanceof mc)t={update:Hm(n,e.key,e.data),updateMask:Vv(e.fieldMask)};else{if(!(e instanceof fp))return Xe();t={verify:Jo(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof fc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof pc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof gc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof dh)return{fieldPath:l.field.canonicalString(),increment:h.k};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Tb(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Xe()),t;var o}function yp(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Wn.updateTime(Ir(o.updateTime)):void 0!==o.exists?Wn.exists(o.exists):Wn.none():Wn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let m=null;"setToServerValue"in h?(Ct("REQUEST_TIME"===h.setToServerValue),m=new fc):"appendMissingElements"in h?m=new pc(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new gc(h.removeAllFromArray.values||[]):"increment"in h?m=new dh(l,h.increment):Xe();const E=Pr.fromServerFormat(h.fieldPath);return new ap(E,m)}(n,o)):[];var o;if(e.update){const o=Xo(n,e.update.name),l=new fi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new th((e.updateMask.fieldPaths||[]).map(D=>Pr.fromServerFormat(D)));return new mc(o,l,h,t,r)}return new dp(o,l,t,r)}if(e.delete){const o=Xo(n,e.delete);return new hp(o,t)}if(e.verify){const o=Xo(n,e.verify);return new fp(o,t)}return Xe()}function kv(n,e){return{documents:[Nv(n,e.path)]}}function _p(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Nv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Nv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const D=E.map(x=>function(P){if("=="===P.op){if(yE(P.value))return{unaryFilter:{field:Ba(P.field),op:"IS_NAN"}};if(mE(P.value))return{unaryFilter:{field:Ba(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(yE(P.value))return{unaryFilter:{field:Ba(P.field),op:"IS_NOT_NAN"}};if(mE(P.value))return{unaryFilter:{field:Ba(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(P.field),op:YE(P.op),value:P.value}}}(x));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(E){if(0!==E.length)return E.map(D=>{return{field:Ba((x=D).field),direction:Mb(x.dir)};var x})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(D=e.limit,n.N||lc(D)?D:{value:D});var D,m,E;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function Gm(n){let e=Ab(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ct(1===r);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let l=[];t.where&&(l=Fv(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(x=>{return new lh(wc((P=x).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let m=null;t.limit&&(m=function(x){let P;return P="object"==typeof x?x.value:x,lc(P)?null:P}(t.limit));let E=null;var x;t.startAt&&(E=new Vu((x=t.startAt).values||[],!!x.before));let D=null;return t.endAt&&(D=function(x){return new Vu(x.values||[],!x.before)}(t.endAt)),km(e,o,h,l,m,"F",E,D)}function Fv(n){return n?void 0!==n.unaryFilter?[Lv(n)]:void 0!==n.fieldFilter?[xb(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Fv(e)).reduce((e,t)=>e.concat(t)):Xe():[]}function Mb(n){return GE[n]}function YE(n){return qE[n]}function Ba(n){return{fieldPath:n.canonicalString()}}function wc(n){return Pr.fromServerFormat(n.fieldPath)}function xb(n){return pi.create(wc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value)}function Lv(n){switch(n.unaryFilter.op){case"IS_NAN":const e=wc(n.unaryFilter.field);return pi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=wc(n.unaryFilter.field);return pi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=wc(n.unaryFilter.field);return pi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wc(n.unaryFilter.field);return pi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}function Vv(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ob(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Rr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Uv(e)),e=Pb(n.get(t),e);return Uv(e)}function Pb(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function Uv(n){return n+"\x01\x01"}function Ks(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Wt.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&Xe(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let E;0===o.length?E=m:(o+=m,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:Xe()}l=h+2}return new Wt(r)}const QE=["userId","batchId"];function vp(n,e){return[n,Rr(e)]}function Bv(n,e,t){return[n,Rr(e),t]}const Rb={},Nb=["prefixPath","collectionGroup","readTime","documentId"],JE=["prefixPath","collectionGroup","documentId"],kb=["collectionGroup","readTime","prefixPath","documentId"],XE=["canonicalId","targetId"],eC=["targetId","path"],tC=["path","targetId"],nC=["collectionId","parent"],Fb=["indexId","uid"],Lb=["uid","sequenceNumber"],pA=["indexId","uid","arrayValue","directionalValue","documentKey"],rC=["indexId","uid","documentKey"],gA=["userId","collectionPath","documentId"],mA=["userId","collectionPath","largestBatchId"],yA=["userId","collectionGroup","largestBatchId"],Vb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_A=[...Vb,"documentOverlays"],Ub=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vA=[...Ub,"indexConfiguration","indexState","indexEntries"],Bb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},E=>r(E))}),h=!0,l===o&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(o=>o?fe.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class Ep{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Er,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new mh(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=qm(r.target.error);this.At.reject(new mh(e,o))}}static open(e,t,r,o){try{return new Ep(t,e.transaction(o,r))}catch(l){throw new mh(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jv(t)}}class ps{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===ps.Vt((0,Ft.z$)())&&sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),$u(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Ft.hl)())return!1;if(ps.St())return!0;const e=(0,Ft.z$)(),t=ps.Vt(e),r=0<t&&t<10,o=ps.Dt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ce.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new mh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Ae(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ae(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new mh(e,m))},l.onupgradeneeded=h=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Pt.kt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,ce.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Nt(e);const E=Ep.open(l.db,e,h?"readonly":"readwrite",r),D=o(E).next(x=>(E.bt(),x)).catch(x=>(E.abort(x),fe.reject(x))).toPromise();return D.catch(()=>{}),yield E.Rt,D}catch(E){const D="FirebaseError"!==E.name&&m<3;if(Pe("SimpleDb","Transaction failed with error:",E.message,"Retrying:",D),l.close(),!D)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class iC{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return $u(this.Ft.delete())}}class mh extends Ae{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function yh(n){return"IndexedDbTransactionError"===n.name}class jv{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$u(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),$u(this.store.add(e))}get(e){return $u(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),$u(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),$u(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.Gt(o,(h,m)=>{l.push(m)}).next(()=>l)}{const o=this.store.getAll(r.range);return new fe((l,h)=>{o.onerror=m=>{h(m.target.error)},o.onsuccess=m=>{l(m.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new fe((o,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}Qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Gt(o,(l,h,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Gt(o,t)}zt(e){const t=this.cursor({});return new fe((r,o)=>{t.onerror=l=>{const h=qm(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Gt(e,t){const r=[];return new fe((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const E=new iC(m),D=t(m.primaryKey,m.value,E);if(D instanceof fe){const x=D.catch(P=>(E.done(),fe.reject(P)));r.push(x)}E.isDone?o():null===E.Lt?m.continue():m.continue(E.Lt)}}).next(()=>fe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $u(n){return new fe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=qm(r.target.error);t(o)}})}let $v=!1;function qm(n){const e=ps.Vt((0,Ft.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $v||($v=!0,setTimeout(()=>{throw r},0)),r}}return n}class jb extends wp{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function br(n,e){const t=$e(n);return ps.xt(t.Ht,e)}class Hv{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&OE(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&jm(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&jm(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(wt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&Jf(this.mutations,e.mutations,(t,r)=>PE(t,r))&&Jf(this.baseMutations,e.baseMutations,(t,r)=>PE(t,r))}}class Cp{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ct(e.mutations.length===r.length);let o=hA;const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new Cp(e,t,r,o)}}class Gv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ec{constructor(e,t,r,o,l=wt.min(),h=wt.min(),m=Cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new Ec(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ec(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class $b{constructor(e){this.Jt=e}}function sC(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Jo(o=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:gh(o,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Cc(e.version)};else{if(!e.isUnknownDocument())return Xe();r.unknownDocument={path:t.path.toArray(),version:Cc(e.version)}}var o,l;return r}function zm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Cc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _h(n){const e=new or(n.seconds,n.nanoseconds);return wt.fromTimestamp(e)}function vh(n,e){const t=(e.baseMutations||[]).map(l=>yp(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>yp(n.Jt,l)),o=or.fromMillis(e.localWriteTimeMs);return new Hv(e.batchId,o,t,r)}function Ic(n){const e=_h(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?_h(n.lastLimboFreeSnapshotVersion):wt.min();let r;var o;return void 0!==n.query.documents?(Ct(1===(o=n.query).documents.length),r=Ui(Va(Ab(o.documents[0])))):r=Ui(Gm(n.query)),new Ec(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Cr.fromBase64String(n.resumeToken))}function oC(n,e){const t=Cc(e.snapshotVersion),r=Cc(e.lastLimboFreeSnapshotVersion);let o;o=Rm(e.target)?kv(n.Jt,e.target):_p(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lu(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function gs(n){const e=Gm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?IE(e,e.limit,"L"):e}function qv(n,e){return new Gv(e.largestBatchId,yp(n.Jt,e.overlayMutation))}function Wm(n,e){const t=e.path.lastSegment();return[n,Rr(e.path.popLast()),t]}class Hb{getBundleMetadata(e,t){return aC(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:_h(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return aC(e).put({bundleId:(r=t).id,createTime:Cc(Ir(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Zm(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:gs(o.bundledQuery),readTime:_h(o.readTime)};var o})}saveNamedQuery(e,t){return Zm(e).put({name:(r=t).name,readTime:Cc(Ir(r.readTime)),bundledQuery:r.bundledQuery});var r}}function aC(n){return br(n,"bundles")}function Zm(n){return br(n,"namedQueries")}class Km{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Km(e,t.uid||"")}getOverlay(e,t){return wh(e).get(Wm(this.userId,t)).next(r=>r?qv(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((l,h)=>{const m=new Gv(t,h);o.push(this.Xt(e,m))}),fe.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(Rr(h.getCollectionPath())));const l=[];return o.forEach(h=>{const m=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);l.push(wh(e).Qt("collectionPathOverlayIndex",m))}),fe.waitFor(l)}getOverlaysForCollection(e,t,r){const o=pp(),l=Rr(t),h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return wh(e).qt("collectionPathOverlayIndex",h).next(m=>{for(const E of m){const D=qv(this.M,E);o.set(D.getKey(),D)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=pp();let h;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wh(e).Wt({index:"collectionGroupOverlayIndex",range:m},(E,D,x)=>{const P=qv(this.M,D);l.size()<o||P.largestBatchId===h?(l.set(P.getKey(),P),h=P.largestBatchId):x.done()}).next(()=>l)}Xt(e,t){return wh(e).put(function(r,o,l){const[h,m,E]=Wm(o,l.mutation.key);return{userId:o,collectionPath:m,documentId:E,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:mp(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function wh(n){return br(n,"documentOverlays")}class Eh{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Bn(e.integerValue));else if("doubleValue"in e){const r=Bn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),rh(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(uc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?_E(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Xe()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),Ve.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function uC(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function zv(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=uC(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Eh.fe=new Eh;class Gb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=zv(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=zv(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class qb{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Wv{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class ji{constructor(){this.De=new Gb,this.Ce=new qb(this.De),this.xe=new Wv(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Hu{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Hu(this.indexId,this.documentKey,this.arrayValue,r)}}function Ch(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=lC(n.arrayValue,e.arrayValue),0!==t?t:(t=lC(n.directionalValue,e.directionalValue),0!==t?t:Ve.comparator(n.documentKey,e.documentKey)))}function lC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class cC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=_v(e);if(void 0!==t&&!this.Be(t))return!1;const r=oh(e);let o=0,l=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const h=r[o];if(!this.Le(this.Fe,h)||!this.Ue(this.Me[l++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(l>=this.Me.length||!this.Ue(this.Me[l++],h))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class zb{constructor(){this.qe=new Zv}addToCollectionParentIndex(e,t){return this.qe.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getFieldIndex(e,t){return fe.resolve(null)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class Zv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Dn(Wt.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Dn(Wt.comparator)).toArray()}}const Ip=new Uint8Array(0);class Wb{constructor(e){this.user=e,this.Ge=new Zv,this.Ke=new ju(t=>Lu(t),(t,r)=>uh(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:r,parent:Rr(o)};return Zb(e).put(l)}return fe.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[hb(t),""],!1,!0);return Zb(e).qt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(Ks(h.parent))}return r})}addFieldIndex(e,t){const r=bp(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=bp(e),o=Ym(e),l=Ih(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ih(e);let o=!0;const l=new Map;return fe.forEach(this.Qe(t),h=>this.getFieldIndex(e,h).next(m=>{o&&(o=!!m),l.set(h,m)})).next(()=>{if(o){let h=rn();return fe.forEach(l,(m,E)=>{var D;Pe("IndexedDbIndexManager",`Using index ${D=m,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(ct=>`${ct.fieldPath}:${ct.kind}`).join(",")}`} to execute ${Lu(t)}`);const x=function(ct,wn){const It=_v(wn);if(void 0===It)return null;for(const Ht of ip(ct,It.fieldPath))switch(Ht.op){case"array-contains-any":return Ht.value.arrayValue.values||[];case"array-contains":return[Ht.value]}return null}(E,m),P=function(ct,wn){const It=new Map;for(const Ht of oh(wn))for(const Gt of ip(ct,Ht.fieldPath))switch(Gt.op){case"==":case"in":It.set(Ht.fieldPath.canonicalString(),Gt.value);break;case"not-in":case"!=":return It.set(Ht.fieldPath.canonicalString(),Gt.value),Array.from(It.values())}return null}(E,m),H=function(ct,wn){const It=[];let Ht=!0;for(const Ku of oh(wn)){let So,Bp=!0;for(const Xr of ip(ct,Ku.fieldPath)){let Kn,my=!0;switch(Xr.op){case"<":case"<=":Kn="nullValue"in(Gt=Xr.value)?pv:"booleanValue"in Gt?{booleanValue:!1}:"integerValue"in Gt||"doubleValue"in Gt?{doubleValue:NaN}:"timestampValue"in Gt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Gt?{stringValue:""}:"bytesValue"in Gt?{bytesValue:""}:"referenceValue"in Gt?sh(Zo.empty(),Ve.empty()):"geoPointValue"in Gt?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Gt?{arrayValue:{}}:"mapValue"in Gt?{mapValue:{}}:Xe();break;case"==":case"in":case">=":Kn=Xr.value;break;case">":Kn=Xr.value,my=!1;break;case"!=":case"not-in":Kn=pv}mv(So,Kn)===Kn&&(So=Kn,Bp=my)}if(null!==ct.startAt)for(let Xr=0;Xr<ct.orderBy.length;++Xr)if(ct.orderBy[Xr].field.isEqual(Ku.fieldPath)){const Kn=ct.startAt.position[Xr];mv(So,Kn)===Kn&&(So=Kn,Bp=ct.startAt.inclusive);break}if(void 0===So)return null;It.push(So),Ht&&(Ht=Bp)}var Gt;return new Vu(It,Ht)}(E,m),Z=function(ct,wn){const It=[];let Ht=!0;for(const Ku of oh(wn)){let So,Bp=!0;for(const Xr of ip(ct,Ku.fieldPath)){let Kn,my=!0;switch(Xr.op){case">=":case">":Kn="nullValue"in(Gt=Xr.value)?{booleanValue:!1}:"booleanValue"in Gt?{doubleValue:NaN}:"integerValue"in Gt||"doubleValue"in Gt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Gt?{stringValue:""}:"stringValue"in Gt?{bytesValue:""}:"bytesValue"in Gt?sh(Zo.empty(),Ve.empty()):"referenceValue"in Gt?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Gt?{arrayValue:{}}:"arrayValue"in Gt?{mapValue:{}}:"mapValue"in Gt?gE:Xe(),my=!1;break;case"==":case"in":case"<=":Kn=Xr.value;break;case"<":Kn=Xr.value,my=!1;break;case"!=":case"not-in":Kn=gE}yv(So,Kn)===Kn&&(So=Kn,Bp=my)}if(null!==ct.endAt)for(let Xr=0;Xr<ct.orderBy.length;++Xr)if(ct.orderBy[Xr].field.isEqual(Ku.fieldPath)){const Kn=ct.endAt.position[Xr];yv(So,Kn)===Kn&&(So=Kn,Bp=ct.endAt.inclusive);break}if(void 0===So)return null;It.push(So),Ht&&(Ht=Bp)}var Gt;return new Vu(It,Ht)}(E,m),pe=this.je(m,E,H),ke=this.je(m,E,Z),tt=this.We(m,E,P),Zt=this.ze(m.indexId,x,pe,!!H&&H.inclusive,ke,!!Z&&Z.inclusive,tt);return fe.forEach(Zt,ct=>r.Kt(ct,t.limit).next(wn=>{wn.forEach(It=>{h=h.add(new Ve(Ks(It.documentKey)))})}))}).next(()=>h)}return fe.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,o,l,h,m){const E=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),D=E/(null!=t?t.length:1),x=[];for(let P=0;P<E;++P){const H=t?this.He(t[P/D]):Ip,Z=r?this.Je(e,H,r[P%D],o):this.Ye(e),pe=l?this.Xe(e,H,l[P%D],h):this.Ye(e+1);x.push(...this.createRange(Z,pe,m.map(ke=>this.Je(e,H,ke,!0))))}return x}Je(e,t,r,o){const l=new Hu(e,Ve.empty(),t,r);return o?l:l.ke()}Xe(e,t,r,o){const l=new Hu(e,Ve.empty(),t,r);return o?l.ke():l}Ye(e){return new Hu(e,Ve.empty(),Ip,Ip)}getFieldIndex(e,t){const r=new cC(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{const h=l.filter(m=>r.$e(m));return h.sort((m,E)=>E.fields.length-m.fields.length),h.length>0?h[0]:null})}Ze(e,t){const r=new ji;for(const o of oh(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const h=r.Ne(o.kind);Eh.fe.Zt(l,h)}return r.Se()}He(e){const t=new ji;return Eh.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new ji);let l=0;for(const h of oh(e)){const m=r[l++];for(const E of o)if(this.tn(t,h.fieldPath)&&np(m))o=this.en(o,h,m);else{const D=E.Ne(h.kind);Eh.fe.Zt(m,D)}}return this.nn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const o=[...e],l=[];for(const h of r.arrayValue.values||[])for(const m of o){const E=new ji;E.seed(m.Se()),Eh.fe.Zt(h,E.Ne(t.kind)),l.push(E)}return l}tn(e,t){return!!e.filters.find(r=>r instanceof pi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=bp(e),o=Ym(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const h=[];return fe.forEach(l,m=>o.get([m.indexId,this.uid]).next(E=>{h.push(function(D,x){const P=x?new cc(x.sequenceNumber,new La(_h(x.readTime),new Ve(Ks(x.documentKey)),x.largestBatchId)):cc.empty(),H=D.fields.map(([Z,pe])=>new ah(Pr.fromServerFormat(Z),pe));return new Pm(D.indexId,D.collectionGroup,H,P)}(m,E))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:jt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=bp(e),l=Ym(e);return this.sn(e).next(h=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>fe.forEach(m,E=>{return l.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:h,readTime:Cc((H=r).readTime),documentKey:Rr(H.documentKey.path),largestBatchId:H.largestBatchId});var H})))}updateIndexEntries(e,t){const r=new Map;return fe.forEach(t,(o,l)=>{const h=r.get(o.collectionGroup);return(h?fe.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),fe.forEach(m,E=>this.rn(e,o,E).next(D=>{const x=this.on(l,E);return D.isEqual(x)?fe.resolve():this.un(e,l,D,x)}))))})}an(e,t,r){return Ih(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Rr(t.key.path)})}cn(e,t,r){return Ih(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Rr(t.key.path)])}rn(e,t,r){const o=Ih(e);let l=new Dn(Ch);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Rr(t.path)])},(h,m)=>{l=l.add(new Hu(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}on(e,t){let r=new Dn(Ch);const o=this.Ze(t,e);if(null==o)return r;const l=_v(t);if(null!=l){const h=e.data.field(l.fieldPath);if(np(h))for(const m of h.arrayValue.values||[])r=r.add(new Hu(t.indexId,e.key,this.He(m),o))}else r=r.add(new Hu(t.indexId,e.key,Ip,o));return r}un(e,t,r,o){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,m,E,D,x){const P=h.getIterator(),H=m.getIterator();let Z=_c(P),pe=_c(H);for(;Z||pe;){let ke=!1,tt=!1;if(Z&&pe){const Zt=E(Z,pe);Zt<0?tt=!0:Zt>0&&(ke=!0)}else null!=Z?tt=!0:ke=!0;ke?(D(pe),pe=_c(H)):tt?(x(Z),Z=_c(P)):(Z=_c(P),pe=_c(H))}}(r,o,Ch,h=>{l.push(this.an(e,t,h))},h=>{l.push(this.cn(e,t,h))}),fe.waitFor(l)}sn(e){let t=1;return Ym(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,m)=>Ch(h,m)).filter((h,m,E)=>!m||0!==Ch(h,E[m-1]));const o=[];o.push(e);for(const h of r){const m=Ch(h,e),E=Ch(h,t);if(0===m)o[0]=e.ke();else if(m>0&&E<0)o.push(h),o.push(h.ke());else if(E>0)break}o.push(t);const l=[];for(let h=0;h<o.length;h+=2)l.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,""],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,""]));return l}}function Zb(n){return br(n,"collectionParents")}function Ih(n){return br(n,"indexEntries")}function bp(n){return br(n,"indexConfiguration")}function Ym(n){return br(n,"indexState")}const dC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ti{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ti(e,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Qm(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],h=IDBKeyRange.only(t.batchId);let m=0;const E=r.Wt({range:h},(x,P,H)=>(m++,H.delete()));l.push(E.next(()=>{Ct(1===m)}));const D=[];for(const x of t.mutations){const P=Bv(e,x.key.path,t.batchId);l.push(o.delete(P)),D.push(x.key)}return fe.waitFor(l).next(()=>D)}function bh(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Xe();e=n.noDocument}return JSON.stringify(e).length}Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(41943040,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);class Jm{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.hn={}}static Yt(e,t,r,o){Ct(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Jm(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ja(e).Wt({index:"userMutationsIndex",range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=bc(e),h=ja(e);return h.add({}).next(m=>{Ct("number"==typeof m);const E=new Hv(m,t,r,o),D=function(H,Z,pe){const ke=pe.baseMutations.map(Zt=>mp(H.Jt,Zt)),tt=pe.mutations.map(Zt=>mp(H.Jt,Zt));return{userId:Z,batchId:pe.batchId,localWriteTimeMs:pe.localWriteTime.toMillis(),baseMutations:ke,mutations:tt}}(this.M,this.userId,E),x=[];let P=new Dn((H,Z)=>jt(H.canonicalString(),Z.canonicalString()));for(const H of o){const Z=Bv(this.userId,H.key.path,m);P=P.add(H.key.path.popLast()),x.push(h.put(D)),x.push(l.put(Z,Rb))}return P.forEach(H=>{x.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.hn[m]=E.keys()}),fe.waitFor(x).next(()=>E)})}lookupMutationBatch(e,t){return ja(e).get(t).next(r=>r?(Ct(r.userId===this.userId),vh(this.M,r)):null)}ln(e,t){return this.hn[t]?fe.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.hn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return ja(e).Wt({index:"userMutationsIndex",range:o},(h,m,E)=>{m.userId===this.userId&&(Ct(m.batchId>=r),l=vh(this.M,m)),E.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ja(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ja(e).qt("userMutationsIndex",t).next(r=>r.map(o=>vh(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=vp(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return bc(e).Wt({range:o},(h,m,E)=>{const[D,x,P]=h,H=Ks(x);if(D===this.userId&&t.path.isEqual(H))return ja(e).get(P).next(Z=>{if(!Z)throw Xe();Ct(Z.userId===this.userId),l.push(vh(this.M,Z))});E.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(jt);const o=[];return t.forEach(l=>{const h=vp(this.userId,l.path),m=IDBKeyRange.lowerBound(h),E=bc(e).Wt({range:m},(D,x,P)=>{const[H,Z,pe]=D,ke=Ks(Z);H===this.userId&&l.path.isEqual(ke)?r=r.add(pe):P.done()});o.push(E)}),fe.waitFor(o).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=vp(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new Dn(jt);return bc(e).Wt({range:h},(E,D,x)=>{const[P,H,Z]=E,pe=Ks(H);P===this.userId&&r.isPrefixOf(pe)?pe.length===o&&(m=m.add(Z)):x.done()}).next(()=>this.fn(e,m))}fn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(ja(e).get(l).next(h=>{if(null===h)throw Xe();Ct(h.userId===this.userId),r.push(vh(this.M,h))}))}),fe.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Qm(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),fe.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return fe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return bc(e).Wt({range:r},(l,h,m)=>{if(l[0]===this.userId){const E=Ks(l[1]);o.push(E)}else m.done()}).next(()=>{Ct(0===o.length)})})}containsKey(e,t){return hC(e,this.userId,t)}_n(e){return fC(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hC(n,e,t){const r=vp(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return bc(n).Wt({range:l,jt:!0},(m,E,D)=>{const[x,P,H]=m;x===e&&P===o&&(h=!0),D.done()}).next(()=>h)}function ja(n){return br(n,"mutations")}function bc(n){return br(n,"documentMutations")}function fC(n){return br(n,"mutationQueues")}class Dc{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Dc(0)}static gn(){return new Dc(-1)}}class EA{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Dc(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>wt.fromTimestamp(new or(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.pn(e,o)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dp(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Dp(e).Wt((h,m)=>{const E=Ic(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,l.push(this.removeTargetData(e,E)))}).next(()=>fe.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Dp(e).Wt((r,o)=>{const l=Ic(o);t(l)})}yn(e){return Kv(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}pn(e,t){return Kv(e).put("targetGlobalKey",t)}In(e,t){return Dp(e).put(oC(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Lu(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Dp(e).Wt({range:o,index:"queryTargetsIndex"},(h,m,E)=>{const D=Ic(m);uh(t,D.target)&&(l=D,E.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Gu(e);return t.forEach(h=>{const m=Rr(h.path);o.push(l.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,h))}),fe.waitFor(o)}removeMatchingKeys(e,t,r){const o=Gu(e);return fe.forEach(t,l=>{const h=Rr(l.path);return fe.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Gu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Gu(e);let l=rn();return o.Wt({range:r,jt:!0},(h,m,E)=>{const D=Ks(h[1]),x=new Ve(D);l=l.add(x)}).next(()=>l)}containsKey(e,t){const r=Rr(t.path),o=IDBKeyRange.bound([r],[hb(r)],!1,!0);let l=0;return Gu(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([h,m],E,D)=>{0!==h&&(l++,D.done())}).next(()=>l>0)}Et(e,t){return Dp(e).get(t).next(r=>r?Ic(r):null)}}function Dp(n){return br(n,"targets")}function Kv(n){return br(n,"targetGlobal")}function Gu(n){return br(n,"targetDocuments")}function Tc(n){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,ce.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==Bb)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Yv.apply(this,arguments)}function Kb([n,e],[t,r]){const o=jt(n,t);return 0===o?jt(e,r):o}class CA{constructor(e){this.En=e,this.buffer=new Dn(Kb),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Kb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IA{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ce.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){yh(o)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Tc(o)}yield t.vn(e)}))}}class bA{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return fe.resolve(fs.A);const r=new CA(t);return this.Sn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Sn.Cn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(dC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dC):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,o,l,h,m,E,D;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),o=this.params.maximumSequenceNumbersToCollect):o=P,h=Date.now(),this.nthSequenceNumber(e,o))).next(P=>(r=P,m=Date.now(),this.removeTargets(e,r,t))).next(P=>(l=P,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(P=>(D=Date.now(),Sm()<=Zl.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-x}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(E-m)+`ms\n\tRemoved ${P} documents in `+(D-E)+`ms\nTotal Duration: ${D-x}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:P})))}}class DA{constructor(e,t){this.db=e,this.garbageCollector=new bA(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,o)=>t(o))}addReference(e,t,r){return Xm(e,r)}removeReference(e,t,r){return Xm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Xm(e,t)}Mn(e,t){return function(r,o){let l=!1;return fC(r).zt(h=>hC(r,h,o).next(m=>(m&&(l=!0),fe.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.kn(e,(h,m)=>{if(m<=t){const E=this.Mn(e,h).next(D=>{if(!D)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h,wt.min()),Gu(e).delete([0,Rr(h.path)])))});o.push(E)}}).next(()=>fe.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Xm(e,t)}kn(e,t){const r=Gu(e);let o,l=fs.A;return r.Wt({index:"documentTargetsIndex"},([h,m],{path:E,sequenceNumber:D})=>{0===h?(l!==fs.A&&t(new Ve(Ks(o)),l),l=D,o=E):l=fs.A}).next(()=>{l!==fs.A&&t(new Ve(Ks(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xm(n,e){return Gu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Rr(e.path),sequenceNumber:r}));var r}class Tp{constructor(){this.changes=new ju(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yb{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ms(e).put(r)}removeEntry(e,t,r){return ms(e).delete(function(o,l){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],zm(l),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=vn.newInvalidDocument(t);return ms(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(t))},(o,l)=>{r=this.Fn(t,l)}).next(()=>r)}$n(e,t){let r={size:0,document:vn.newInvalidDocument(t)};return ms(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(t))},(o,l)=>{r={document:this.Fn(t,l),size:bh(l)}}).next(()=>r)}getEntries(e,t){let r=Bi();return this.Bn(e,t,(o,l)=>{const h=this.Fn(o,l);r=r.insert(o,h)}).next(()=>r)}Ln(e,t){let r=Bi(),o=new Zn(Ve.comparator);return this.Bn(e,t,(l,h)=>{const m=this.Fn(l,h);r=r.insert(l,m),o=o.insert(l,bh(h))}).next(()=>({documents:r,Un:o}))}Bn(e,t,r){if(t.isEmpty())return fe.resolve();let o=new Dn(ty);t.forEach(E=>o=o.add(E));const l=IDBKeyRange.bound(Dh(o.first()),Dh(o.last())),h=o.getIterator();let m=h.getNext();return ms(e).Wt({index:"documentKeyIndex",range:l},(E,D,x)=>{const P=Ve.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;m&&ty(m,P)<0;)r(m,null),m=h.getNext();m&&m.isEqual(P)&&(r(m,D),m=h.hasNext()?h.getNext():null),m?x.Ut(Dh(m)):x.done()}).next(()=>{for(;m;)r(m,null),m=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),zm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ms(e).qt(IDBKeyRange.bound(o,l,!0)).next(h=>{let m=Bi();for(const E of h){const D=this.Fn(Ve.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);m=m.insert(D.key,D)}return m})}getAllFromCollectionGroup(e,t,r,o){let l=Bi();const h=ey(t,r),m=ey(t,La.max());return ms(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,m,!0)},(E,D,x)=>{const P=this.Fn(Ve.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);l=l.insert(P.key,P),l.size===o&&x.done()}).next(()=>l)}newChangeBuffer(e){return new Qb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Qv(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}On(e,t){return Qv(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function wA(n,e){let t;if(e.document)t=WE(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ve.fromSegments(e.noDocument.path),o=_h(e.noDocument.readTime);t=vn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const r=Ve.fromSegments(e.unknownDocument.path),o=_h(e.unknownDocument.version);t=vn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new or(r[0],r[1]);return wt.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(wt.min()))return r}return vn.newInvalidDocument(e)}}class Qb extends Tp{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new ju(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Dn((l,h)=>jt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,m.readTime)),h.isValidDocument()){const E=sC(this.qn.M,h);o=o.add(l.path.popLast()),r+=bh(E)-m.size,t.push(this.qn.addEntry(e,l,E))}else if(r-=m.size,this.trackRemovals){const E=sC(this.qn.M,h.convertToNoDocument(wt.min()));t.push(this.qn.addEntry(e,l,E))}}),o.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,r)),fe.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:o})=>(o.forEach((l,h)=>{this.Gn.set(l,{size:h,readTime:r.get(l).readTime})}),r))}}function Qv(n){return br(n,"remoteDocumentGlobal")}function ms(n){return br(n,"remoteDocumentsV14")}function Dh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ey(n,e){const t=e.documentKey.path.toArray();return[n,zm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ty(n,e){const t=n.path.length-e.path.length;return 0!==t?t:Ve.comparator(n,e)}class Jb{constructor(e){this.M=e}kt(e,t,r,o){const l=new Ep("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QE,{unique:!0}),m.createObjectStore("documentMutations"),ny(e),function(m){m.createObjectStore("remoteDocuments")}(e));let h=fe.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),ny(e)),h=h.next(()=>function(m){const E=m.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wt.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",D)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,E){return E.store("mutations").qt().next(D=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QE,{unique:!0});const x=E.store("mutations"),P=D.map(H=>x.put(H));return fe.waitFor(P)})}(e,l))),h=h.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Kn(l))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),r<7&&o>=7&&(h=h.next(()=>this.jn(l))),r<8&&o>=8&&(h=h.next(()=>this.Wn(e,l))),r<9&&o>=9&&(h=h.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.zn(l))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:gA});E.createIndex("collectionPathOverlayIndex",mA,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",yA,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:Nb});E.createIndex("documentKeyIndex",JE),E.createIndex("collectionGroupIndex",kb)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:Fb}).createIndex("sequenceNumberIndex",Lb,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:pA}).createIndex("documentKeyIndex",rC,{unique:!1})}(e)})),h}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=bh(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>fe.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",h).next(m=>fe.forEach(m,E=>{Ct(E.userId===l.userId);const D=vh(this.M,E);return Qm(e,l.userId,D).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.Wt((h,m)=>{const E=new Wt(h),D=[0,Rr(E)];l.push(t.get(D).next(x=>x?fe.resolve():t.put({targetId:0,path:Rr(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>fe.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:nC});const r=t.store("collectionParents"),o=new Zv,l=h=>{if(o.add(h)){const m=h.lastSegment(),E=h.popLast();return r.put({collectionId:m,parent:Rr(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(h,m)=>{const E=new Wt(h);return l(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([h,m,E],D)=>{const x=Ks(m);return l(x.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,o)=>{const l=Ic(o),h=oC(this.M,l);return t.put(h)})}Hn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((l,h)=>{const m=t.store("remoteDocumentsV14"),E=(D=h,D.document?new Ve(Wt.fromString(D.document.name).popFirst(5)):D.noDocument?Ve.fromSegments(D.noDocument.path):D.unknownDocument?Ve.fromSegments(D.unknownDocument.path):Xe()).path.toArray();var D;const x={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(m.put(x))}).next(()=>fe.waitFor(o))}}function ny(n){n.createObjectStore("targetDocuments",{keyPath:eC}).createIndex("documentTargetsIndex",tC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",XE,{unique:!0}),n.createObjectStore("targetGlobal")}const Ap="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Th{constructor(e,t,r,o,l,h,m,E,D,x,P=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=l,this.window=h,this.document=m,this.Yn=D,this.Xn=x,this.Zn=P,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=H=>Promise.resolve(),!Th.vt())throw new Ae(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new DA(this,o),this.cs=t+"main",this.M=new $b(E),this.hs=new ps(this.cs,this.Zn,new Jb(this.M)),this.ls=new EA(this.referenceDelegate,this.M),this.fs=new Yb(this.M),this.ds=new Hb,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===x&&sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(ae.FAILED_PRECONDITION,Ap);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new fs(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,ce.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,ce.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,ce.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(yh(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return ry(e).get("owner").next(t=>fe.resolve(this.bs(t)))}Ps(e){return Jv(e).delete(this.clientId)}Vs(){var e=this;return(0,ce.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=br(r,"clientMetadata");return o.qt().next(l=>{const h=e.Ss(l,18e5),m=l.filter(E=>-1===h.indexOf(E));return fe.forEach(m,E=>o.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?fe.resolve(!0):ry(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ae(ae.FAILED_PRECONDITION,Ap);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jv(e).qt().next(r=>void 0===this.Ss(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ce.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new jb(t,fs.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>Jv(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return Jm.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new Wb(e)}getDocumentOverlayCache(e){return Km.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=14===(h=this.Zn)?vA:13===h?Ub:12===h?_A:11===h?Vb:void Xe();var h;let m;return this.hs.runTransaction(e,o,l,E=>(m=new jb(E,this.ts?this.ts.next():fs.A),"readwrite-primary"===t?this.Ts(m).next(D=>!!D||this.Es(m)).next(D=>{if(!D)throw sr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ae(ae.FAILED_PRECONDITION,Bb);return r(m)}).next(D=>this.Rs(m).next(()=>D)):this.Fs(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}Fs(e){return ry(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(ae.FAILED_PRECONDITION,Ap)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ry(e).put("owner",t)}static vt(){return ps.vt()}As(e){const t=ry(e);return t.get("owner").next(r=>this.bs(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fe.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(sr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Ft.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return sr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){sr("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ry(n){return br(n,"owner")}function Jv(n){return br(n,"clientMetadata")}function pC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class TA{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}Us(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return Ve.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Qs(e,t.path):Iv(t)?this.js(e,t,r):this.Ws(e,t,r);var o}Qs(e,t){return this.Bs(e,new Ve(t)).next(r=>{let o=Av();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}js(e,t,r){const o=t.collectionGroup;let l=Av();return this.indexManager.getCollectionParents(e,o).next(h=>fe.forEach(h,m=>{const E=(D=t,x=m.child(o),new Yo(x,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,x;return this.Ws(e,E,r).next(D=>{D.forEach((x,P)=>{l=l.insert(x,P)})})}).next(()=>l))}Ws(e,t,r){let o;return this.fs.getAllFromCollection(e,t.path,r).next(l=>(o=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const h of l)for(const m of h.mutations){const E=m.key;let D=o.get(E);null==D&&(D=vn.newInvalidDocument(E),o=o.insert(E,D)),jm(m,D,h.localWriteTime),D.isFoundDocument()||(o=o.remove(E))}}).next(()=>(o.forEach((l,h)=>{Bu(t,h)||(o=o.remove(l))}),o))}}class iy{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=o}static Js(e,t){let r=rn(),o=rn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new iy(e,t.fromCache,r,o)}}class gC{Ys(e){this.Xs=e}Ks(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(wt.min())?this.Zs(e,t):this.Xs.qs(e,o).next(l=>{const h=this.ti(t,l);return(Uu(t)||Fm(t))&&this.ei(t.limitType,h,o,r)?this.Zs(e,t):(Sm()<=Zl.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bv(t)),this.Xs.Ks(e,t,vv(r,-1)).next(m=>(h.forEach(E=>{m=m.insert(E.key,E)}),m)))});var l}ti(e,t){let r=new Dn(hc(e));return t.forEach((o,l)=>{Bu(e,l)&&(r=r.add(l))}),r}ei(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Zs(e,t){return Sm()<=Zl.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",bv(t)),this.Xs.Ks(e,t,La.min())}}class Xb{constructor(e,t,r,o){this.persistence=e,this.ni=t,this.M=o,this.si=new Zn(jt),this.ii=new ju(l=>Lu(l),uh),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new TA(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function mC(n,e,t,r){return new Xb(n,e,t,r)}function yC(n,e){return sy.apply(this,arguments)}function sy(){return sy=(0,ce.Z)(function*(n,e){const t=$e(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.$s.getAllMutationBatches(r).next(l=>(o=l,t.ui(e),t.$s.getAllMutationBatches(r))).next(l=>{const h=[],m=[];let E=rn();for(const D of o){h.push(D.batchId);for(const x of D.mutations)E=E.add(x.key)}for(const D of l){m.push(D.batchId);for(const x of D.mutations)E=E.add(x.key)}return t.ai.qs(r,E).next(D=>({ci:D,removedBatchIds:h,addedBatchIds:m}))})})}),sy.apply(this,arguments)}function _C(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(h,m,E,D){const x=E.batch,P=x.keys();let H=fe.resolve();return P.forEach(Z=>{H=H.next(()=>D.getEntry(m,Z)).next(pe=>{const ke=E.docVersions.get(Z);Ct(null!==ke),pe.version.compareTo(ke)<0&&(x.applyToRemoteDocument(pe,E),pe.isValidDocument()&&(pe.setReadTime(E.commitVersion),D.addEntry(pe)))})}),H.next(()=>h.$s.removeMutationBatch(m,x))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,o))})}function Xv(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function eD(n,e){const t=$e(n),r=e.snapshotVersion;let o=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.oi.newChangeBuffer({trackRemovals:!0});o=t.si;const m=[];e.targetChanges.forEach((D,x)=>{const P=o.get(x);if(!P)return;m.push(t.ls.removeMatchingKeys(l,D.removedDocuments,x).next(()=>t.ls.addMatchingKeys(l,D.addedDocuments,x)));let H=P.withSequenceNumber(l.currentSequenceNumber);var Z,pe,ke;e.targetMismatches.has(x)?H=H.withResumeToken(Cr.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):D.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(D.resumeToken,r)),o=o.insert(x,H),pe=H,ke=D,(0===(Z=P).resumeToken.approximateByteSize()||pe.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||ke.addedDocuments.size+ke.modifiedDocuments.size+ke.removedDocuments.size>0)&&m.push(t.ls.updateTargetData(l,H))});let E=Bi();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,D))}),m.push(vC(l,h,e.documentUpdates).next(D=>{E=D})),!r.isEqual(wt.min())){const D=t.ls.getLastRemoteSnapshotVersion(l).next(x=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(D)}return fe.waitFor(m).next(()=>h.apply(l)).next(()=>t.ai.Gs(l,E)).next(()=>E)}).then(l=>(t.si=o,l))}function vC(n,e,t){let r=rn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Bi();return t.forEach((h,m)=>{const E=o.get(h);m.isNoDocument()&&m.version.isEqual(wt.min())?(e.removeEntry(h,m.readTime),l=l.insert(h,m)):!E.isValidDocument()||m.version.compareTo(E.version)>0||0===m.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(m),l=l.insert(h,m)):Pe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",E.version," Watch version:",m.version)}),l})}function wC(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function qu(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ls.getTargetData(r,e).next(l=>l?(o=l,fe.resolve(o)):t.ls.allocateTargetId(r).next(h=>(o=new Ec(e,h,0,r.currentSequenceNumber),t.ls.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.si.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function Sp(n,e,t){return oy.apply(this,arguments)}function oy(){return oy=(0,ce.Z)(function*(n,e,t){const r=$e(n),o=r.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!yh(h))throw h;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.si=r.si.remove(e),r.ii.delete(o.target)}),oy.apply(this,arguments)}function Ah(n,e,t){const r=$e(n);let o=wt.min(),l=rn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,E,D){const x=$e(m),P=x.ii.get(D);return void 0!==P?fe.resolve(x.si.get(P)):x.ls.getTargetData(E,D)}(r,h,Ui(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(h,m.targetId).next(E=>{l=E})}).next(()=>r.ni.Ks(h,e,t?o:wt.min(),t?l:rn())).next(m=>(tD(r,Dv(e),m),{documents:m,hi:l})))}function EC(n,e){const t=$e(n),r=$e(t.ls),o=t.si.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(h=>h?h.target:null))}function CC(n,e){const t=$e(n),r=t.ri.get(e)||wt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.oi.getAllFromCollectionGroup(o,e,vv(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(tD(t,e,o),o))}function tD(n,e,t){let r=wt.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ri.set(e,r)}function IC(){return IC=(0,ce.Z)(function*(n,e,t,r){const o=$e(n);let l=rn(),h=Bi();for(const D of t){const x=e.li(D.metadata.name);D.document&&(l=l.add(x));const P=e.fi(D);P.setReadTime(e.di(D.metadata.readTime)),h=h.insert(x,P)}const m=o.oi.newChangeBuffer({trackRemovals:!0}),E=yield qu(o,(D=r,Ui(Va(Wt.fromString(`__bundle__/docs/${D}`)))));var D;return o.persistence.runTransaction("Apply bundle documents","readwrite",D=>vC(D,m,h).next(x=>(m.apply(D),x)).next(x=>o.ls.removeMatchingKeysForTargetId(D,E.targetId).next(()=>o.ls.addMatchingKeys(D,l,E.targetId)).next(()=>o.ai.Gs(D,x)).next(()=>x)))}),IC.apply(this,arguments)}function nD(n,e){return e0.apply(this,arguments)}function e0(){return e0=(0,ce.Z)(function*(n,e,t=rn()){const r=yield qu(n,Ui(gs(e.bundledQuery))),o=$e(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=Ir(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.ds.saveNamedQuery(l,e);const m=r.withResumeToken(Cr.EMPTY_BYTE_STRING,h);return o.si=o.si.insert(m.targetId,m),o.ls.updateTargetData(l,m).next(()=>o.ls.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.ls.addMatchingKeys(l,t,r.targetId)).next(()=>o.ds.saveNamedQuery(l,e))})}),e0.apply(this,arguments)}class SA{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return fe.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:Ir(r.createTime)}),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:gs(r.bundledQuery),readTime:Ir(r.readTime)}),fe.resolve();var r}}class MA{constructor(){this.overlays=new Zn(Ve.comparator),this.mi=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.Xt(e,t,l)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.mi.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const o=pp(),l=t.length+1,h=new Ve(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const E=m.getNext().value,D=E.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===l&&E.largestBatchId>r&&o.set(E.getKey(),E)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Zn((D,x)=>D-x);const h=this.overlays.getIterator();for(;h.hasNext();){const D=h.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let x=l.get(D.largestBatchId);null===x&&(x=pp(),l=l.insert(D.largestBatchId,x)),x.set(D.getKey(),D)}}const m=pp(),E=l.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((D,x)=>m.set(D,x)),!(m.size()>=o)););return fe.resolve(m)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const h=this.mi.get(o.largestBatchId).delete(r.key);this.mi.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new Gv(t,r));let l=this.mi.get(t);void 0===l&&(l=rn(),this.mi.set(t,l)),this.mi.set(t,l.add(r.key))}}class bC{constructor(){this.gi=new Dn(Jr.yi),this.pi=new Dn(Jr.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Jr(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Jr(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Ve(new Wt([])),r=new Jr(t,e),o=new Jr(t,e+1),l=[];return this.pi.forEachInRange([r,o],h=>{this.Ei(h),l.push(h.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Ve(new Wt([])),r=new Jr(t,e),o=new Jr(t,e+1);let l=rn();return this.pi.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Jr(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Jr{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Ve.comparator(e.key,t.key)||jt(e.Vi,t.Vi)}static Ii(e,t){return jt(e.Vi,t.Vi)||Ve.comparator(e.key,t.key)}}class xA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Dn(Jr.yi)}checkEmpty(e){return fe.resolve(0===this.$s.length)}addMutationBatch(e,t,r,o){const l=this.vi;this.vi++;const h=new Hv(l,t,r,o);this.$s.push(h);for(const m of o)this.Si=this.Si.add(new Jr(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return fe.resolve(h)}lookupMutationBatch(e,t){return fe.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Ci(t+1),l=o<0?0:o;return fe.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return fe.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Jr(t,0),o=new Jr(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([r,o],h=>{const m=this.Di(h.Vi);l.push(m)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(jt);return t.forEach(o=>{const l=new Jr(o,0),h=new Jr(o,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,h],m=>{r=r.add(m.Vi)})}),fe.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Ve.isDocumentKey(l)||(l=l.child(""));const h=new Jr(new Ve(l),0);let m=new Dn(jt);return this.Si.forEachWhile(E=>{const D=E.key.path;return!!r.isPrefixOf(D)&&(D.length===o&&(m=m.add(E.Vi)),!0)},h),fe.resolve(this.xi(m))}xi(e){const t=[];return e.forEach(r=>{const o=this.Di(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Ct(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return fe.forEach(t.mutations,o=>{const l=new Jr(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Jr(t,0),o=this.Si.firstAfterOrEqual(r);return fe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return fe.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class rD{constructor(e){this.ki=e,this.docs=new Zn(Ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,h=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let r=Bi();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():vn.newInvalidDocument(o))}),fe.resolve(r)}getAllFromCollection(e,t,r){let o=Bi();const l=new Ve(t.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:E}}=h.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||mb(wv(E),r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,t,r,o){Xe()}Mi(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new OA(this)}getSize(e){return fe.resolve(this.size)}}class OA extends Tp{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.qn.addEntry(e,o)):this.qn.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class PA{constructor(e){this.persistence=e,this.Oi=new ju(t=>Lu(t),uh),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new bC,this.targetCount=0,this.Bi=Dc.mn()}forEachTarget(e,t){return this.Oi.forEach((r,o)=>t(o)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),fe.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Dc(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.In(t),fe.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Oi.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Oi.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),fe.waitFor(l).next(()=>o)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.$i.containsKey(t))}}class RA{constructor(e,t){this.Li={},this.overlays={},this.ts=new fs(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new PA(this),this.indexManager=new zb,this.fs=new rD(r=>this.referenceDelegate.Ui(r)),this.M=new $b(t),this.ds=new SA(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new xA(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const o=new NA(this.ts.next());return this.referenceDelegate.qi(),r(o).next(l=>this.referenceDelegate.Gi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ki(e,t){return fe.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class NA extends wp{constructor(e){super(),this.currentSequenceNumber=e}}class i{constructor(e){this.persistence=e,this.Qi=new bC,this.ji=null}static Wi(e){return new i(e)}get zi(){if(this.ji)return this.ji;throw Xe()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(o=>this.zi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.zi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.zi,r=>{const o=Ve.fromPath(r);return this.Hi(e,o).next(l=>{l||t.removeEntry(o,wt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return fe.or([()=>fe.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function s(n,e){return`firestore_clients_${n}_${e}`}function a(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function u(n,e){return`firestore_targets_${n}_${e}`}class c{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Ae(o.error.code,o.error.message))),h?new c(e,t,o.state,l):(sr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class p{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Ae(r.error.code,r.error.message))),l?new p(e,r.state,o):(sr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=ph();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=pE(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new _(e,l):(sr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class w{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new w(t.clientId,t.onlineState):(sr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class C{constructor(){this.activeTargetIds=ph()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A{constructor(e,t,r,o,l){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Zn(jt),this.started=!1,this.ir=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=s(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new C),this.ar=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ce.Z)(function*(){const t=yield e.syncEngine.Os();for(const o of t){if(o===e.tr)continue;const l=e.getItem(s(e.persistenceKey,o));if(l){const h=_.Ji(o,l);h&&(e.sr=e.sr.insert(h.clientId,h))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(u(this.persistenceKey,e));if(r){const o=p.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(u(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,ce.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const o=t.Vr(r.key,r.newValue);if(o)return t.vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(l){let h=fs.A;if(null!=l)try{const m=JSON.parse(l);Ct("number"==typeof m),h=m}catch(m){sr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==fs.A&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new c(this.currentUser,e,t,r),l=a(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Yi())}pr(e){const t=a(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=u(this.persistenceKey,e),l=new p(e,t,r);this.setItem(o,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return _.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),o=Number(r[1]);return c.Ji(new Qr(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return p.Ji(o,t)}wr(e){return w.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),l=this.gr(r),h=[],m=[];return l.forEach(E=>{o.has(E)||h.push(E)}),o.forEach(E=>{l.has(E)||m.push(E)}),this.syncEngine.Or(h,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=ph();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class S{constructor(){this.Fr=new C,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new C,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class k{Br(e){}shutdown(){}}class V{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const W={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ye{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Re extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,l){const h=this.oo(e,t);Pe("RestConnection","Sending: ",h,r);const m={};return this.uo(m,o,l),this.ao(e,h,m,r).then(E=>(Pe("RestConnection","Received: ",E),E),E=>{throw Kf("RestConnection",`${e} failed with error: `,E,"url: ",h,"request:",r),E})}co(e,t,r,o,l){return this.ro(e,t,r,o,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+oc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}oo(e,t){return`${this.so}/v1/${t}:${W[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,o){return new Promise((l,h)=>{const m=new sE;m.listenOnce(ob.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case eh.NO_ERROR:const D=m.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(D)),l(D);break;case eh.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),h(new Ae(ae.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const x=m.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',x,"response text:",m.getResponseText()),x>0){const P=m.getResponseJson().error;if(P&&P.status&&P.message){const H=function(Z){const pe=Z.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(pe)>=0?pe:ae.UNKNOWN}(P.status);h(new Ae(H,P.message))}else h(new Ae(ae.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Ae(ae.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);m.send(t,"POST",E,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=ib(),h=sb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Un({})),this.uo(m.initMessageHeaders,t,r),(0,Ft.uI)()||(0,Ft.b$)()||(0,Ft.d)()||(0,Ft.w1)()||(0,Ft.Mn)()||(0,Ft.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");Pe("Connection","Creating WebChannel: "+E,m);const D=l.createWebChannel(E,m);let x=!1,P=!1;const H=new ye({jr:pe=>{P?Pe("Connection","Not sending because WebChannel is closed:",pe):(x||(Pe("Connection","Opening WebChannel transport."),D.open(),x=!0),Pe("Connection","WebChannel sending:",pe),D.send(pe))},Wr:()=>D.close()}),Z=(pe,ke,tt)=>{pe.listen(ke,Zt=>{try{tt(Zt)}catch(ct){setTimeout(()=>{throw ct},0)}})};return Z(D,dv.EventType.OPEN,()=>{P||Pe("Connection","WebChannel transport opened.")}),Z(D,dv.EventType.CLOSE,()=>{P||(P=!0,Pe("Connection","WebChannel transport closed"),H.eo())}),Z(D,dv.EventType.ERROR,pe=>{P||(P=!0,Kf("Connection","WebChannel transport errored:",pe),H.eo(new Ae(ae.UNAVAILABLE,"The operation could not be completed")))}),Z(D,dv.EventType.MESSAGE,pe=>{var ke;if(!P){const tt=pe.data[0];Ct(!!tt);const Zt=tt,ct=Zt.error||(null===(ke=Zt[0])||void 0===ke?void 0:ke.error);if(ct){Pe("Connection","WebChannel received error:",ct);const wn=ct.status;let It=function(Gt){const Ku=ar[Gt];if(void 0!==Ku)return FE(Ku)}(wn),Ht=ct.message;void 0===It&&(It=ae.INTERNAL,Ht="Unknown error status: "+wn+" with message "+ct.message),P=!0,H.eo(new Ae(It,Ht)),D.close()}else Pe("Connection","WebChannel received:",tt),H.no(tt)}}),Z(h,Am.STAT_EVENT,pe=>{pe.stat===Zf.PROXY?Pe("Connection","Detected buffering proxy"):pe.stat===Zf.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{H.Zr()},0),H}}function Ue(){return"undefined"!=typeof window?window:null}function We(){return"undefined"!=typeof document?document:null}function Ee(n){return new Db(n,!0)}class ot{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=o,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class $t{constructor(e,t,r,o,l,h,m,E){this.Jn=e,this.Ao=r,this.Ro=o,this.bo=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new ot(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ce.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,ce.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,ce.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(sr(t.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new Ae(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,ce.Z)(function*(){e.state=0,e.start()}))}qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ln extends $t{constructor(e,t,r,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Sb(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Xe(),o=e.targetChange.targetIds||[],l=function(E,D){return E.N?(Ct(void 0===D||"string"==typeof D),Cr.fromBase64String(D||"")):(Ct(void 0===D||D instanceof Uint8Array),Cr.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(E){const D=void 0===E.code?ae.UNKNOWN:FE(E.code);return new Ae(D,E.message||"")}(h);t=new $E(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Xo(n,r.document.name),l=Ir(r.document.updateTime),h=new fi({mapValue:{fields:r.document.fields}}),m=vn.newFoundDocument(o,l,h);t=new $m(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Xo(n,r.document),l=r.readTime?Ir(r.readTime):wt.min(),h=vn.newNoDocument(o,l);t=new $m([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Xo(n,r.document);t=new $m([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,l=new Qo(r.count||0);t=new jE(r.targetId,l)}}var E;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return wt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?wt.min():l.readTime?Ir(l.readTime):wt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=Ua(this.M),t.addTarget=function(o,l){let h;const m=l.target;return h=Rm(m)?{documents:kv(o,m)}:{query:_p(o,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=Pv(o,l.resumeToken):l.snapshotVersion.compareTo(wt.min())>0&&(h.readTime=gh(o,l.snapshotVersion.toTimestamp())),h}(this.M,e);const r=function fA(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xe()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=Ua(this.M),t.removeTarget=e,this.Oo(t)}}class ys extends $t{constructor(e,t,r,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function KE(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,o){let l=Ir(r.updateTime?r.updateTime:o);return l.isEqual(wt.min())&&(l=Ir(o)),new up(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.Jo(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Ua(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>mp(this.M,r))};this.Oo(t)}}class Ac extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.Zo=!1}tu(){if(this.Zo)throw new Ae(ae.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.ro(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(ae.UNKNOWN,o.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.co(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(ae.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class t0{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(sr(t),this.su=!1):Pe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class n0{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(m=>{r.enqueueAndForget((0,ce.Z)(function*(){var E;Mh(h)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,ce.Z)(function*(D){const x=$e(D);x.lu.add(4),yield zu(x),x._u.set("Unknown"),x.lu.delete(4),yield Sc(x)}),function(D){return E.apply(this,arguments)})(h))}))}),this._u=new t0(r,o)}}function Sc(n){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,ce.Z)(function*(n){if(Mh(n))for(const e of n.fu)yield e(!0)}),Mp.apply(this,arguments)}function zu(n){return xp.apply(this,arguments)}function xp(){return xp=(0,ce.Z)(function*(n){for(const e of n.fu)yield e(!1)}),xp.apply(this,arguments)}function Sh(n,e){const t=$e(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),sD(t)?iD(t):uy(t).Co()&&Op(t,e))}function Mc(n,e){const t=$e(n),r=uy(t);t.hu.delete(e),r.Co()&&kA(t,e),0===t.hu.size&&(r.Co()?r.ko():Mh(t)&&t._u.set("Unknown"))}function Op(n,e){n.wu.Z(e.targetId),uy(n).Qo(e)}function kA(n,e){n.wu.Z(e),uy(n).jo(e)}function iD(n){n.wu=new xv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),uy(n).start(),n._u.iu()}function sD(n){return Mh(n)&&!uy(n).Do()&&n.hu.size>0}function Mh(n){return 0===$e(n).lu.size}function FA(n){n.wu=void 0}function VM(n){return oD.apply(this,arguments)}function oD(){return oD=(0,ce.Z)(function*(n){n.hu.forEach((e,t)=>{Op(n,e)})}),oD.apply(this,arguments)}function UM(n,e){return aD.apply(this,arguments)}function aD(){return aD=(0,ce.Z)(function*(n,e){FA(n),sD(n)?(n._u.uu(e),iD(n)):n._u.set("Unknown")}),aD.apply(this,arguments)}function BM(n,e,t){return uD.apply(this,arguments)}function uD(){return uD=(0,ce.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof $E&&2===e.state&&e.cause)try{yield(r=(0,ce.Z)(function*(o,l){const h=l.cause;for(const m of l.targetIds)o.hu.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.hu.delete(m),o.wu.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield DC(n,r)}else if(e instanceof $m?n.wu.ut(e):e instanceof jE?n.wu._t(e):n.wu.ht(e),!t.isEqual(wt.min()))try{const r=yield Xv(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.wu.yt(l);return h.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const D=o.hu.get(E);D&&o.hu.set(E,D.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const E=o.hu.get(m);if(!E)return;o.hu.set(m,E.withResumeToken(Cr.EMPTY_BYTE_STRING,E.snapshotVersion)),kA(o,m);const D=new Ec(E.target,m,1,E.sequenceNumber);Op(o,D)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield DC(n,r)}var r}),uD.apply(this,arguments)}function DC(n,e,t){return lD.apply(this,arguments)}function lD(){return lD=(0,ce.Z)(function*(n,e,t){if(!yh(e))throw e;n.lu.add(1),yield zu(n),n._u.set("Offline"),t||(t=()=>Xv(n.localStore)),n.asyncQueue.enqueueRetryable((0,ce.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Sc(n)}))}),lD.apply(this,arguments)}function LA(n,e){return e().catch(t=>DC(n,t,e))}function ay(n){return cD.apply(this,arguments)}function cD(){return cD=(0,ce.Z)(function*(n){const e=$e(n),t=xh(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;jM(e);)try{const o=yield wC(e.localStore,r);if(null===o){0===e.cu.length&&t.ko();break}r=o.batchId,$M(e,o)}catch(o){yield DC(e,o)}VA(e)&&UA(e)}),cD.apply(this,arguments)}function jM(n){return Mh(n)&&n.cu.length<10}function $M(n,e){n.cu.push(e);const t=xh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function VA(n){return Mh(n)&&!xh(n).Do()&&n.cu.length>0}function UA(n){xh(n).start()}function HM(n){return dD.apply(this,arguments)}function dD(){return dD=(0,ce.Z)(function*(n){xh(n).Xo()}),dD.apply(this,arguments)}function GM(n){return hD.apply(this,arguments)}function hD(){return hD=(0,ce.Z)(function*(n){const e=xh(n);for(const t of n.cu)e.Ho(t.mutations)}),hD.apply(this,arguments)}function qM(n,e,t){return fD.apply(this,arguments)}function fD(){return fD=(0,ce.Z)(function*(n,e,t){const r=n.cu.shift(),o=Cp.from(r,e,t);yield LA(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield ay(n)}),fD.apply(this,arguments)}function zM(n,e){return pD.apply(this,arguments)}function pD(){return pD=(0,ce.Z)(function*(n,e){var t;e&&xh(n).zo&&(yield(t=(0,ce.Z)(function*(r,o){if(fh(l=o.code)&&l!==ae.ABORTED){const h=r.cu.shift();xh(r).No(),yield LA(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield ay(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),VA(n)&&UA(n)}),pD.apply(this,arguments)}function BA(n,e){return gD.apply(this,arguments)}function gD(){return gD=(0,ce.Z)(function*(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Mh(t);t.lu.add(3),yield zu(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Sc(t)}),gD.apply(this,arguments)}function mD(n,e){return yD.apply(this,arguments)}function yD(){return yD=(0,ce.Z)(function*(n,e){const t=$e(n);e?(t.lu.delete(2),yield Sc(t)):e||(t.lu.add(2),yield zu(t),t._u.set("Unknown"))}),yD.apply(this,arguments)}function uy(n){return n.mu||(n.mu=function(e,t,r){const o=$e(e);return o.tu(),new ln(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:VM.bind(null,n),Jr:UM.bind(null,n),Ko:BM.bind(null,n)}),n.fu.push(function(){var e=(0,ce.Z)(function*(t){t?(n.mu.No(),sD(n)?iD(n):n._u.set("Unknown")):(yield n.mu.stop(),FA(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function xh(n){return n.gu||(n.gu=function(e,t,r){const o=$e(e);return o.tu(),new ys(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:HM.bind(null,n),Jr:zM.bind(null,n),Yo:GM.bind(null,n),Jo:qM.bind(null,n)}),n.fu.push(function(){var e=(0,ce.Z)(function*(t){t?(n.gu.No(),yield ay(n)):(yield n.gu.stop(),n.cu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class _D{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,m=new _D(e,t,h,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(n,e){if(sr("AsyncQueue",`${e}: ${n}`),yh(n))return new Ae(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class cy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ve.comparator(t.key,r.key):(t,r)=>Ve.comparator(t.key,r.key),this.keyedMap=Av(),this.sortedSet=new Zn(this.comparator)}static emptySet(e){return new cy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new cy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jA{constructor(){this.yu=new Zn(Ve.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Xe():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class dy{constructor(e,t,r,o,l,h,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new dy(e,t,cy.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class WM{constructor(){this.Iu=void 0,this.listeners=[]}}class ZM{constructor(){this.queries=new ju(e=>bE(e),Um),this.onlineState="Unknown",this.Tu=new Set}}function vD(n,e){return wD.apply(this,arguments)}function wD(){return wD=(0,ce.Z)(function*(n,e){const t=$e(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new WM),o)try{l.Iu=yield t.onListen(r)}catch(h){const m=ly(h,`Initialization of query '${bv(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&ID(t)}),wD.apply(this,arguments)}function ED(n,e){return CD.apply(this,arguments)}function CD(){return CD=(0,ce.Z)(function*(n,e){const t=$e(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),CD.apply(this,arguments)}function KM(n,e){const t=$e(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.Au(o)&&(r=!0);h.Iu=o}}r&&ID(t)}function YM(n,e,t){const r=$e(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function ID(n){n.Tu.forEach(e=>{e.next()})}class bD{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new dy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=dy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class QM{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class $A{constructor(e){this.M=e}li(e){return Xo(this.M,e)}fi(e){return e.metadata.exists?WE(this.M,e.document,!1):vn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Ir(e)}}class JM{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HA(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Wt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new $A(this.M);for(const o of e)if(o.metadata.queries){const l=r.li(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||rn()).add(l);t.set(h,m)}}return t}complete(){var e=this;return(0,ce.Z)(function*(){const t=yield function AA(n,e,t,r){return IC.apply(this,arguments)}(e.localStore,new $A(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield nD(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function HA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GA{constructor(e){this.key=e}}class qA{constructor(e){this.key=e}}class zA{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=rn(),this.mutatedKeys=rn(),this.Lu=hc(e),this.Uu=new cy(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new jA,o=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const E=Uu(this.query)&&o.size===this.query.limit?o.last():null,D=Fm(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,P)=>{const H=o.get(x),Z=Bu(this.query,P)?P:null,pe=!!H&&this.mutatedKeys.has(H.key),ke=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let tt=!1;H&&Z?H.data.isEqual(Z.data)?pe!==ke&&(r.track({type:3,doc:Z}),tt=!0):this.Qu(H,Z)||(r.track({type:2,doc:Z}),tt=!0,(E&&this.Lu(Z,E)>0||D&&this.Lu(Z,D)<0)&&(m=!0)):!H&&Z?(r.track({type:0,doc:Z}),tt=!0):H&&!Z&&(r.track({type:1,doc:H}),tt=!0,(E||D)&&(m=!0)),tt&&(Z?(h=h.add(Z),l=ke?l.add(x):l.delete(x)):(h=h.delete(x),l=l.delete(x)))}),Uu(this.query)||Fm(this.query))for(;h.size>this.query.limit;){const x=Uu(this.query)?h.last():h.first();h=h.delete(x.key),l=l.delete(x.key),r.track({type:1,doc:x})}return{Uu:h,Ku:r,ei:m,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((D,x)=>function(P,H){const Z=pe=>{switch(pe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return Z(P)-Z(H)}(D.type,x.type)||this.Lu(D.doc,x.doc)),this.ju(r);const h=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,E=m!==this.$u;return this.$u=m,0!==l.length||E?{snapshot:new dy(this.query,e.Uu,o,l,e.mutatedKeys,0===m,E,!1),zu:h}:{zu:h}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new jA,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=rn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new qA(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new GA(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=rn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return dy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class XM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ex{constructor(e){this.key=e,this.Xu=!1}}class tx{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Zu={},this.ta=new ju(m=>bE(m),Um),this.ea=new Map,this.na=new Set,this.sa=new Zn(Ve.comparator),this.ia=new Map,this.ra=new bC,this.oa={},this.ua=new Map,this.aa=Dc.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function nx(n,e){return DD.apply(this,arguments)}function DD(){return DD=(0,ce.Z)(function*(n,e){const t=ZD(n);let r,o;const l=t.ta.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.Yu();else{const h=yield qu(t.localStore,Ui(e));t.isPrimaryClient&&Sh(t.remoteStore,h);const m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield TD(t,e,r,"current"===m)}return o}),DD.apply(this,arguments)}function TD(n,e,t,r){return AD.apply(this,arguments)}function AD(){return AD=(0,ce.Z)(function*(n,e,t,r){n.ha=(x,P,H)=>{return(Z=(0,ce.Z)(function*(pe,ke,tt,Zt){let ct=ke.view.Gu(tt);ct.ei&&(ct=yield Ah(pe.localStore,ke.query,!1).then(({documents:Ht})=>ke.view.Gu(Ht,ct)));const wn=Zt&&Zt.targetChanges.get(ke.targetId),It=ke.view.applyChanges(ct,pe.isPrimaryClient,wn);return LD(pe,ke.targetId,It.zu),It.snapshot}),function(pe,ke,tt,Zt){return Z.apply(this,arguments)})(n,x,P,H);var Z};const o=yield Ah(n.localStore,e,!0),l=new zA(e,o.hi),h=l.Gu(o.documents),m=gp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=l.applyChanges(h,n.isPrimaryClient,m);LD(n,t,E.zu);const D=new XM(e,t,l);return n.ta.set(e,D),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),E.snapshot}),AD.apply(this,arguments)}function rx(n,e){return SD.apply(this,arguments)}function SD(){return SD=(0,ce.Z)(function*(n,e){const t=$e(n),r=t.ta.get(e),o=t.ea.get(r.targetId);if(o.length>1)return t.ea.set(r.targetId,o.filter(l=>!Um(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Sp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Mc(t.remoteStore,r.targetId),hy(t,r.targetId)}).catch(Tc))):(hy(t,r.targetId),yield Sp(t.localStore,r.targetId,!0))}),SD.apply(this,arguments)}function MD(){return MD=(0,ce.Z)(function*(n,e,t){const r=KD(n);try{const o=yield function(l,h){const m=$e(l),E=or.now(),D=h.reduce((P,H)=>P.add(H.key),rn());let x;return m.persistence.runTransaction("Locally write mutations","readwrite",P=>m.ai.qs(P,D).next(H=>{x=H;const Z=[];for(const pe of h){const ke=bb(pe,x.get(pe.key));null!=ke&&Z.push(new mc(pe.key,ke,vE(ke.value.mapValue),Wn.exists(!0)))}return m.$s.addMutationBatch(P,E,Z,h)})).then(P=>(P.applyToLocalDocumentSet(x),{batchId:P.batchId,changes:x}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,m){let E=l.oa[l.currentUser.toKey()];E||(E=new Zn(jt)),E=E.insert(h,m),l.oa[l.currentUser.toKey()]=E}(r,o.batchId,t),yield xc(r,o.changes),yield ay(r.remoteStore)}catch(o){const l=ly(o,"Failed to persist write");t.reject(l)}}),MD.apply(this,arguments)}function WA(n,e){return xD.apply(this,arguments)}function xD(){return xD=(0,ce.Z)(function*(n,e){const t=$e(n);try{const r=yield eD(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.ia.get(l);h&&(Ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Xu=!0:o.modifiedDocuments.size>0?Ct(h.Xu):o.removedDocuments.size>0&&(Ct(h.Xu),h.Xu=!1))}),yield xc(t,r,e)}catch(r){yield Tc(r)}}),xD.apply(this,arguments)}function ZA(n,e,t){const r=$e(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ta.forEach((l,h)=>{const m=h.view.Eu(e);m.snapshot&&o.push(m.snapshot)}),function(l,h){const m=$e(l);m.onlineState=h;let E=!1;m.queries.forEach((D,x)=>{for(const P of x.listeners)P.Eu(h)&&(E=!0)}),E&&ID(m)}(r.eventManager,e),o.length&&r.Zu.Ko(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sx(n,e,t){return OD.apply(this,arguments)}function OD(){return OD=(0,ce.Z)(function*(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ia.get(e),l=o&&o.key;if(l){let h=new Zn(Ve.comparator);h=h.insert(l,vn.newNoDocument(l,wt.min()));const m=rn().add(l),E=new vc(wt.min(),new Map,new Dn(jt),h,m);yield WA(r,E),r.sa=r.sa.remove(l),r.ia.delete(e),VD(r)}else yield Sp(r.localStore,e,!1).then(()=>hy(r,e,t)).catch(Tc)}),OD.apply(this,arguments)}function ox(n,e){return PD.apply(this,arguments)}function PD(){return PD=(0,ce.Z)(function*(n,e){const t=$e(n),r=e.batch.batchId;try{const o=yield _C(t.localStore,e);FD(t,r,null),kD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xc(t,o)}catch(o){yield Tc(o)}}),PD.apply(this,arguments)}function ax(n,e,t){return RD.apply(this,arguments)}function RD(){return RD=(0,ce.Z)(function*(n,e,t){const r=$e(n);try{const o=yield function(l,h){const m=$e(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let D;return m.$s.lookupMutationBatch(E,h).next(x=>(Ct(null!==x),D=x.keys(),m.$s.removeMutationBatch(E,x))).next(()=>m.$s.performConsistencyCheck(E)).next(()=>m.ai.qs(E,D))})}(r.localStore,e);FD(r,e,t),kD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xc(r,o)}catch(o){yield Tc(o)}}),RD.apply(this,arguments)}function ND(){return ND=(0,ce.Z)(function*(n,e){const t=$e(n);Mh(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=$e(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.$s.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.ua.get(r)||[];o.push(e),t.ua.set(r,o)}catch(r){const o=ly(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),ND.apply(this,arguments)}function kD(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function FD(n,e,t){const r=$e(n);let o=r.oa[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.oa[r.currentUser.toKey()]=o}}function hy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||KA(n,r)})}function KA(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Mc(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),VD(n))}function LD(n,e,t){for(const r of t)r instanceof GA?(n.ra.addReference(r.key,e),lx(n,r)):r instanceof qA?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||KA(n,r.key)):Xe()}function lx(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.na.add(r),VD(n))}function VD(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new Ve(Wt.fromString(e)),r=n.aa.next();n.ia.set(r,new ex(t)),n.sa=n.sa.insert(t,r),Sh(n.remoteStore,new Ec(Ui(Va(t.path)),r,2,fs.A))}}function xc(n,e,t){return UD.apply(this,arguments)}function UD(){return UD=(0,ce.Z)(function*(n,e,t){const r=$e(n),o=[],l=[],h=[];var m;r.ta.isEmpty()||(r.ta.forEach((m,E)=>{h.push(r.ha(E,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,D.fromCache?"not-current":"current"),o.push(D);const x=iy.Js(E.targetId,D);l.push(x)}}))}),yield Promise.all(h),r.Zu.Ko(o),yield(m=(0,ce.Z)(function*(E,D){const x=$e(E);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>fe.forEach(D,H=>fe.forEach(H.zs,Z=>x.persistence.referenceDelegate.addReference(P,H.targetId,Z)).next(()=>fe.forEach(H.Hs,Z=>x.persistence.referenceDelegate.removeReference(P,H.targetId,Z)))))}catch(P){if(!yh(P))throw P;Pe("LocalStore","Failed to update sequence numbers: "+P)}for(const P of D){const H=P.targetId;if(!P.fromCache){const Z=x.si.get(H),ke=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);x.si=x.si.insert(H,ke)}}}),function(E,D){return m.apply(this,arguments)})(r.localStore,l))}),UD.apply(this,arguments)}function cx(n,e){return BD.apply(this,arguments)}function BD(){return BD=(0,ce.Z)(function*(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield yC(t.localStore,e);t.currentUser=e,(o=t).ua.forEach(h=>{h.forEach(m=>{m.reject(new Ae(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xc(t,r.ci)}var o}),BD.apply(this,arguments)}function dx(n,e){const t=$e(n),r=t.ia.get(e);if(r&&r.Xu)return rn().add(r.key);{let o=rn();const l=t.ea.get(e);if(!l)return o;for(const h of l){const m=t.ta.get(h);o=o.unionWith(m.view.qu)}return o}}function hx(n,e){return jD.apply(this,arguments)}function jD(){return jD=(0,ce.Z)(function*(n,e){const t=$e(n),r=yield Ah(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&LD(t,e.targetId,o.zu),o}),jD.apply(this,arguments)}function fx(n,e){return $D.apply(this,arguments)}function $D(){return $D=(0,ce.Z)(function*(n,e){const t=$e(n);return CC(t.localStore,e).then(r=>xc(t,r))}),$D.apply(this,arguments)}function px(n,e,t,r){return HD.apply(this,arguments)}function HD(){return HD=(0,ce.Z)(function*(n,e,t,r){const o=$e(n),l=yield function(h,m){const E=$e(h),D=$e(E.$s);return E.persistence.runTransaction("Lookup mutation documents","readonly",x=>D.ln(x,m).next(P=>P?E.ai.qs(x,P):fe.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield ay(o.remoteStore):"acknowledged"===t||"rejected"===t?(FD(o,e,r||null),kD(o,e),m=e,$e($e(o.localStore).$s).dn(m)):Xe(),yield xc(o,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),HD.apply(this,arguments)}function GD(){return GD=(0,ce.Z)(function*(n,e){const t=$e(n);if(ZD(t),KD(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield YA(t,r.toArray());t.ca=!0,yield mD(t.remoteStore,!0);for(const l of o)Sh(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const r=[];let o=Promise.resolve();t.ea.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(hy(t,h),Sp(t.localStore,h,!0))),Mc(t.remoteStore,h)}),yield o,yield YA(t,r),function(l){const h=$e(l);h.ia.forEach((m,E)=>{Mc(h.remoteStore,E)}),h.ra.bi(),h.ia=new Map,h.sa=new Zn(Ve.comparator)}(t),t.ca=!1,yield mD(t.remoteStore,!1)}}),GD.apply(this,arguments)}function YA(n,e,t){return qD.apply(this,arguments)}function qD(){return qD=(0,ce.Z)(function*(n,e,t){const r=$e(n),o=[],l=[];for(const h of e){let m;const E=r.ea.get(h);if(E&&0!==E.length){m=yield qu(r.localStore,Ui(E[0]));for(const D of E){const x=r.ta.get(D),P=yield hx(r,x);P.snapshot&&l.push(P.snapshot)}}else{const D=yield EC(r.localStore,h);m=yield qu(r.localStore,D),yield TD(r,QA(D),h,!1)}o.push(m)}return r.Zu.Ko(l),o}),qD.apply(this,arguments)}function QA(n){return km(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mx(n){const e=$e(n);return $e($e(e.localStore).persistence).Os()}function yx(n,e,t,r){return zD.apply(this,arguments)}function zD(){return zD=(0,ce.Z)(function*(n,e,t,r){const o=$e(n);if(o.ca)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const l=o.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const h=yield CC(o.localStore,Dv(l[0])),m=vc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield xc(o,h,m);break}case"rejected":yield Sp(o.localStore,e,!0),hy(o,e,r);break;default:Xe()}}),zD.apply(this,arguments)}function _x(n,e,t){return WD.apply(this,arguments)}function WD(){return WD=(0,ce.Z)(function*(n,e,t){const r=ZD(n);if(r.ca){for(const o of e){if(r.ea.has(o)){Pe("SyncEngine","Adding an already active target "+o);continue}const l=yield EC(r.localStore,o),h=yield qu(r.localStore,l);yield TD(r,QA(l),h.targetId,!1),Sh(r.remoteStore,h)}for(const o of t)r.ea.has(o)&&(yield Sp(r.localStore,o,!1).then(()=>{Mc(r.remoteStore,o),hy(r,o)}).catch(Tc))}}),WD.apply(this,arguments)}function ZD(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sx.bind(null,e),e.Zu.Ko=KM.bind(null,e.eventManager),e.Zu.la=YM.bind(null,e.eventManager),e}function KD(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ox.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ax.bind(null,e),e}class JA{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ce.Z)(function*(){t.M=Ee(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return mC(this.persistence,new gC,e.initialUser,this.M)}_a(e){return new RA(i.Wi,this.M)}da(e){return new S}terminate(){var e=this;return(0,ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class XA extends JA{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ce.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield KD(r.ga.syncEngine),yield ay(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return mC(this.persistence,new gC,e.initialUser,this.M)}wa(e){return new IA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=pC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new Th(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Ue(),We(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new S}}class wx extends XA{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ce.Z)(function*(){yield t().call(r,e);const o=r.ga.syncEngine;r.sharedClientState instanceof A&&(r.sharedClientState.syncEngine={kr:px.bind(null,o),Mr:yx.bind(null,o),Or:_x.bind(null,o),Os:mx.bind(null,o),Nr:fx.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var l=(0,ce.Z)(function*(h){yield function gx(n,e){return GD.apply(this,arguments)}(r.ga.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}da(e){const t=Ue();if(!A.vt(t))throw new Ae(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=pC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new A(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class YD{initialize(e,t){var r=this;return(0,ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>ZA(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=cx.bind(null,r.syncEngine),yield mD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZM}createDatastore(e){const t=Ee(e.databaseInfo.databaseId),r=new Re(e.databaseInfo);return new Ac(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>ZA(this.syncEngine,m,0),h=V.vt()?new V:new k,new n0(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,m,E,D){const x=new tx(r,o,l,h,m,E);return D&&(x.ca=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ce.Z)(function*(t){const r=$e(t);Pe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield zu(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eS(n,e=10240){let t=0;return{read:()=>(0,ce.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class TC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ex{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Er,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,ce.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,ce.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,ce.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),o=Number(r);isNaN(o)&&e.Ra(`length string (${r}) is not valid number`);const l=yield e.ba(o);return new QM(JSON.parse(l),t.length+o)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,ce.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,ce.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Cx{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ce.Z)(function*(l,h){const m=$e(l),E=Ua(m.M)+"/documents",D={documents:h.map(Z=>Jo(m.M,Z))},x=yield m.co("BatchGetDocuments",E,D),P=new Map;x.forEach(Z=>{const pe=function ZE(n,e){return"found"in e?function(t,r){Ct(!!r.found);const o=Xo(t,r.found.name),l=Ir(r.found.updateTime),h=new fi({mapValue:{fields:r.found.fields}});return vn.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const o=Xo(t,r.missing),l=Ir(r.readTime);return vn.newNoDocument(o,l)}(n,e):Xe()}(m.M,Z);P.set(pe.key.toString(),pe)});const H=[];return h.forEach(Z=>{const pe=P.get(Z.toString());Ct(!!pe),H.push(pe)}),H}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new hp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=Ve.fromPath(o);e.mutations.push(new fp(l,e.precondition(l)))}),yield(r=(0,ce.Z)(function*(o,l){const h=$e(o),m=Ua(h.M)+"/documents",E={writes:l.map(D=>mp(h.M,D))};yield h.ro("Commit",m,E)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xe();t=wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Wn.updateTime(t):Wn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wt.min()))throw new Ae(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wn.updateTime(t)}return Wn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ix{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.va=5,this.So=new ot(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,ce.Z)(function*(){const t=new Cx(e.datastore),r=e.Da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Ca(l)}))}).catch(o=>{e.Ca(o)})}))}Da(e){try{const t=this.updateFunction(e);return!lc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!fh(t)}return!1}}class bx{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Qr.UNAUTHENTICATED,this.clientId=dE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,ce.Z)(function*(m){Pe("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Pe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=ly(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function tS(n,e){return QD.apply(this,arguments)}function QD(){return QD=(0,ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ce.Z)(function*(l){r.isEqual(l)||(yield yC(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),QD.apply(this,arguments)}function nS(n,e){return JD.apply(this,arguments)}function JD(){return JD=(0,ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield XD(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>BA(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>BA(e.remoteStore,l)),n.onlineComponents=e}),JD.apply(this,arguments)}function XD(n){return eT.apply(this,arguments)}function eT(){return eT=(0,ce.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield tS(n,new JA)),n.offlineComponents}),eT.apply(this,arguments)}function AC(n){return tT.apply(this,arguments)}function tT(){return tT=(0,ce.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield nS(n,new YD)),n.onlineComponents}),tT.apply(this,arguments)}function rS(n){return XD(n).then(e=>e.persistence)}function nT(n){return XD(n).then(e=>e.localStore)}function iS(n){return AC(n).then(e=>e.remoteStore)}function rT(n){return AC(n).then(e=>e.syncEngine)}function fy(n){return iT.apply(this,arguments)}function iT(){return iT=(0,ce.Z)(function*(n){const e=yield AC(n),t=e.eventManager;return t.onListen=nx.bind(null,e.syncEngine),t.onUnlisten=rx.bind(null,e.syncEngine),t}),iT.apply(this,arguments)}function sS(n,e,t={}){const r=new Er;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(o,l,h,m,E){const D=new TC({next:P=>{l.enqueueAndForget(()=>ED(o,x));const H=P.docs.has(h);!H&&P.fromCache?E.reject(new Ae(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&P.fromCache&&m&&"server"===m.source?E.reject(new Ae(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(P)},error:P=>E.reject(P)}),x=new bD(Va(h.path),D,{includeMetadataChanges:!0,Du:!0});return vD(o,x)}(yield fy(n),n.asyncQueue,e,t,r)})),r.promise}function oS(n,e,t={}){const r=new Er;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(o,l,h,m,E){const D=new TC({next:P=>{l.enqueueAndForget(()=>ED(o,x)),P.fromCache&&"server"===m.source?E.reject(new Ae(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(P)},error:P=>E.reject(P)}),x=new bD(h,D,{includeMetadataChanges:!0,Du:!0});return vD(o,x)}(yield fy(n),n.asyncQueue,e,t,r)})),r.promise}const aS=new Map;function sT(n,e,t){if(!t)throw new Ae(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uS(n,e,t,r){if(!0===e&&!0===r)throw new Ae(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lS(n){if(!Ve.isDocumentKey(n))throw new Ae(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cS(n){if(Ve.isDocumentKey(n))throw new Ae(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function SC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xe()}function Jt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=SC(n);throw new Ae(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dS(n,e){if(e<=0)throw new Ae(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class hS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class r0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hS({}),this._settingsFrozen=!1,e instanceof Zo?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ae(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(o.options.projectId)}(e))}get app(){if(!this._app)throw new Ae(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Yf;switch(t.type){case"gapi":const r=t.client;return Ct(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new cb(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ae(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aS.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),aS.delete(e),t.terminate())}(this),Promise.resolve()}}class Rn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class $i{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class Wu extends $i{constructor(e,t,r){super(e,t,Va(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ve(e))}withConverter(e){return new Wu(this.firestore,e,this._path)}}function fS(n,e,...t){if(n=(0,Ft.m9)(n),sT("collection","path",e),n instanceof r0){const r=Wt.fromString(e,...t);return cS(r),new Wu(n,null,r)}{if(!(n instanceof Rn||n instanceof Wu))throw new Ae(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return cS(r),new Wu(n.firestore,null,r)}}function MC(n,e,...t){if(n=(0,Ft.m9)(n),1===arguments.length&&(e=dE.R()),sT("doc","path",e),n instanceof r0){const r=Wt.fromString(e,...t);return lS(r),new Rn(n,null,new Ve(r))}{if(!(n instanceof Rn||n instanceof Wu))throw new Ae(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return lS(r),new Rn(n.firestore,n instanceof Wu?n.converter:null,new Ve(r))}}function pS(n,e){return n=(0,Ft.m9)(n),e=(0,Ft.m9)(e),(n instanceof Rn||n instanceof Wu)&&(e instanceof Rn||e instanceof Wu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gS(n,e){return n=(0,Ft.m9)(n),e=(0,Ft.m9)(e),n instanceof $i&&e instanceof $i&&n.firestore===e.firestore&&Um(n._query,e._query)&&n.converter===e.converter}class kx{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new ot(this,"async_queue_retry"),this.Ua=()=>{const t=We();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=We();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=We();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Er;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,ce.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!yh(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,sr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const o=_D.createAndSchedule(this,e,t,r,l=>this.Qa(l));return this.Oa.push(o),o}qa(){this.Fa&&Xe()}verifyOperationInProgress(){}ja(){var e=this;return(0,ce.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function oT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Fx{constructor(){this._progressObserver={},this._taskCompletionResolver=new Er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class jn extends r0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new kx,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mS(this),this._firestoreClient.terminate()}}function Nr(n){return n._firestoreClient||mS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mS(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new gb(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new bx(n._authCredentials,n._appCheckCredentials,n._queue,r)}function yS(n,e,t){const r=new Er;return n.asyncQueue.enqueue((0,ce.Z)(function*(){try{yield tS(n,t),yield nS(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===ae.FAILED_PRECONDITION||l.code===ae.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function _S(n){if(n._initialized||n._terminated)throw new Ae(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Oc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zu(Cr.fromBase64String(e))}catch(t){throw new Ae(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zu(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pp{constructor(e){this._methodName=e}}class xC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const zx=/^__.*__$/;class Wx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new mc(e,this.data,this.fieldMask,t,this.fieldTransforms):new dp(e,this.data,t,this.fieldTransforms)}}class vS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class OC{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new OC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.ec(e),o}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.Ja(),o}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return NC(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(wS(this.Ya)&&zx.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class Zx{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Ee(e)}uc(e,t,r,o=!1){return new OC({Ya:e,methodName:t,oc:r,path:Pr.emptyPath(),tc:!1,rc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Rp(n){const e=n._freezeSettings(),t=Ee(n._databaseId);return new Zx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PC(n,e,t,r,o,l={}){const h=n.uc(l.merge||l.mergeFields?2:0,e,t,o);cT("Data must be an object, but it was:",h,r);const m=IS(r,h);let E,D;if(l.merge)E=new th(h.fieldMask),D=h.fieldTransforms;else if(l.mergeFields){const x=[];for(const P of l.mergeFields){const H=dT(e,P,t);if(!h.contains(H))throw new Ae(ae.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);DS(x,H)||x.push(H)}E=new th(x),D=h.fieldTransforms.filter(P=>E.covers(P.field))}else E=null,D=h.fieldTransforms;return new Wx(new fi(m),E,D)}class s0 extends Pp{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof s0}}function ES(n,e,t){return new OC({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class aT extends Pp{_toFieldTransform(e){return new ap(e.path,new fc)}isEqual(e){return e instanceof aT}}class Kx extends Pp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=ES(this,e,!0),r=this.ac.map(l=>Np(l,t)),o=new pc(r);return new ap(e.path,o)}isEqual(e){return this===e}}class Yx extends Pp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=ES(this,e,!0),r=this.ac.map(l=>Np(l,t)),o=new gc(r);return new ap(e.path,o)}isEqual(e){return this===e}}class Qx extends Pp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new dh(e.M,Cb(e.M,this.cc));return new ap(e.path,t)}isEqual(e){return this===e}}function uT(n,e,t,r){const o=n.uc(1,e,t);cT("Data must be an object, but it was:",o,r);const l=[],h=fi.empty();Wo(r,(E,D)=>{const x=RC(e,E,t);D=(0,Ft.m9)(D);const P=o.nc(x);if(D instanceof s0)l.push(x);else{const H=Np(D,P);null!=H&&(l.push(x),h.set(x,H))}});const m=new th(l);return new vS(h,m,o.fieldTransforms)}function lT(n,e,t,r,o,l){const h=n.uc(1,e,t),m=[dT(e,r,t)],E=[o];if(l.length%2!=0)throw new Ae(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<l.length;H+=2)m.push(dT(e,l[H])),E.push(l[H+1]);const D=[],x=fi.empty();for(let H=m.length-1;H>=0;--H)if(!DS(D,m[H])){const Z=m[H];let pe=E[H];pe=(0,Ft.m9)(pe);const ke=h.nc(Z);if(pe instanceof s0)D.push(Z);else{const tt=Np(pe,ke);null!=tt&&(D.push(Z),x.set(Z,tt))}}const P=new th(D);return new vS(x,P,h.fieldTransforms)}function CS(n,e,t,r=!1){return Np(t,n.uc(r?4:3,e))}function Np(n,e){if(bS(n=(0,Ft.m9)(n)))return cT("Unsupported field value:",e,n),IS(n,e);if(n instanceof Pp)return function(t,r){if(!wS(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let m=Np(h,r.sc(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Ft.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Cb(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=or.fromDate(t);return{timestampValue:gh(r.M,o)}}if(t instanceof or){const o=new or(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gh(r.M,o)}}if(t instanceof xC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zu)return{bytesValue:Pv(r.M,t._byteString)};if(t instanceof Rn){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Rv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${SC(t)}`)}(n,e)}function IS(n,e){const t={};return hE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(n,(r,o)=>{const l=Np(o,e.Za(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function bS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof or||n instanceof xC||n instanceof Zu||n instanceof Rn||n instanceof Pp)}function cT(n,e,t){if(!bS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=SC(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function dT(n,e,t){if((e=(0,Ft.m9)(e))instanceof Oc)return e._internalPath;if("string"==typeof e)return RC(n,e);throw NC("Field path arguments must be of type string or ",n,!1,void 0,t)}const Jx=new RegExp("[~\\*/\\[\\]]");function RC(n,e,t){if(e.search(Jx)>=0)throw NC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oc(...e.split("."))._internalPath}catch(r){throw NC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function NC(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(l||h)&&(E+=" (found",l&&(E+=` in field ${r}`),h&&(E+=` in document ${o}`),E+=")"),new Ae(ae.INVALID_ARGUMENT,m+n+E)}function DS(n,e){return n.some(t=>t.isEqual(e))}class o0{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xx extends o0{data(){return super.data()}}function kC(n,e){return"string"==typeof e?RC(n,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}class kp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pc extends o0{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new a0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(kC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class a0 extends Pc{data(e={}){return super.data(e)}}class Oh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new kp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new a0(this._firestore,this._userDataWriter,r.key,r,new kp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new a0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new kp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new a0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new kp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,D=-1;return 0!==h.type&&(E=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),D=l.indexOf(h.doc.key)),{type:eO(h.type),doc:m,oldIndex:E,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function TS(n,e){return n instanceof Pc&&e instanceof Pc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Oh&&e instanceof Oh&&n._firestore===e._firestore&&gS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function AS(n){if(Fm(n)&&0===n.explicitOrderBy.length)throw new Ae(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u0{}function Ph(n,...e){for(const t of e)n=t._apply(n);return n}class tO extends u0{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Rp(e.firestore),r=function(o,l,h,m,E,D,x){let P;if(E.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ae(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){RS(x,D);const Z=[];for(const pe of x)Z.push(PS(m,o,pe));P={arrayValue:{values:Z}}}else P=PS(m,o,x)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||RS(x,D),P=CS(h,"where",x,"in"===D||"not-in"===D);const H=pi.create(E,D,P);return function(Z,pe){if(pe.S()){const tt=Vm(Z);if(null!==tt&&!tt.isEqual(pe.field))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${tt.toString()}' and '${pe.field.toString()}'`);const Zt=Lm(Z);null!==Zt&&NS(0,pe.field,Zt)}const ke=function(tt,Zt){for(const ct of tt.filters)if(Zt.indexOf(ct.op)>=0)return ct.op;return null}(Z,function(tt){switch(tt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(pe.op));if(null!==ke)throw new Ae(ae.INVALID_ARGUMENT,ke===pe.op?`Invalid query. You cannot use more than one '${pe.op.toString()}' filter.`:`Invalid query. You cannot use '${pe.op.toString()}' filters with '${ke.toString()}' filters.`)}(o,H),H}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new $i(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new Yo(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class rO extends u0{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Ae(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new lh(o,l);return function(m,E){if(null===Lm(m)){const D=Vm(m);null!==D&&NS(0,D,E.field)}}(r,h),h}(e._query,this.hc,this.dc);return new $i(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Yo(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class SS extends u0{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new $i(e.firestore,e.converter,IE(e._query,this._c,this.wc))}}class MS extends u0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=OS(e,this.type,this.mc,this.gc);return new $i(e.firestore,e.converter,(o=t,new Yo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class xS extends u0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=OS(e,this.type,this.mc,this.gc);return new $i(e.firestore,e.converter,(o=t,new Yo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function OS(n,e,t,r){if(t[0]=(0,Ft.m9)(t[0]),t[0]instanceof o0)return function(o,l,h,m,E){if(!m)throw new Ae(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const D=[];for(const x of ch(o))if(x.field.isKeyField())D.push(sh(l,m.key));else{const P=m.data.field(x.field);if(Nu(P))throw new Ae(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const H=x.field.canonicalString();throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}D.push(P)}return new Vu(D,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Rp(n.firestore);return function(l,h,m,E,D,x){const P=l.explicitOrderBy;if(D.length>P.length)throw new Ae(ae.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let Z=0;Z<D.length;Z++){const pe=D[Z];if(P[Z].field.isKeyField()){if("string"!=typeof pe)throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof pe}`);if(!Iv(l)&&-1!==pe.indexOf("/"))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${pe}' contains a slash.`);const ke=l.path.child(Wt.fromString(pe));if(!Ve.isDocumentKey(ke))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${ke}' is not because it contains an odd number of segments.`);const tt=new Ve(ke);H.push(sh(h,tt))}else{const ke=CS(m,E,pe);H.push(ke)}}return new Vu(H,x)}(n._query,n.firestore._databaseId,o,e,t,r)}}function PS(n,e,t){if("string"==typeof(t=(0,Ft.m9)(t))){if(""===t)throw new Ae(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iv(e)&&-1!==t.indexOf("/"))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Wt.fromString(t));if(!Ve.isDocumentKey(r))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sh(n,new Ve(r))}if(t instanceof Rn)return sh(n,t._key);throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${SC(t)}.`)}function RS(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(ae.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function NS(n,e,t){if(!t.isEqual(e))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class hT{convertValue(e,t="none"){switch(ku(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xe()}}convertObject(e,t){const r={};return Wo(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new xC(Bn(e.latitude),Bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(nh(e));default:return null}}convertTimestamp(e){const t=Fa(e);return new or(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);Ct(Ob(r));const o=new Zo(r.get(1),r.get(3)),l=new Ve(r.popFirst(5));return o.isEqual(t)||sr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function FC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class dO extends hT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}class kS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rp(e)}set(e,t,r){this._verifyNotCommitted();const o=Rh(e,this._firestore),l=FC(o.converter,t,r),h=PC(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Wn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Rh(e,this._firestore);let h;return h="string"==typeof(t=(0,Ft.m9)(t))||t instanceof Oc?lT(this._dataReader,"WriteBatch.update",l._key,t,r,o):uT(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,Wn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Rh(e,this._firestore);return this._mutations=this._mutations.concat(new hp(t._key,Wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rh(n,e){if((n=(0,Ft.m9)(n)).firestore!==e)throw new Ae(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Fp extends hT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function FS(n,e,t){n=Jt(n,Rn);const r=Jt(n.firestore,jn),o=FC(n.converter,e,t);return py(r,[PC(Rp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Wn.none())])}function LS(n,e,t,...r){n=Jt(n,Rn);const o=Jt(n.firestore,jn),l=Rp(o);let h;return h="string"==typeof(e=(0,Ft.m9)(e))||e instanceof Oc?lT(l,"updateDoc",n._key,e,t,r):uT(l,"updateDoc",n._key,e),py(o,[h.toMutation(n._key,Wn.exists(!0))])}function VS(n,...e){var t,r,o;n=(0,Ft.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||oT(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(oT(e[h])){const P=e[h];e[h]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[h+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[h+2]=null===(o=P.complete)||void 0===o?void 0:o.bind(P)}let E,D,x;if(n instanceof Rn)D=Jt(n.firestore,jn),x=Va(n._key.path),E={next:P=>{e[h]&&e[h](fT(D,n,P))},error:e[h+1],complete:e[h+2]};else{const P=Jt(n,$i);D=Jt(P.firestore,jn),x=P._query;const H=new Fp(D);E={next:Z=>{e[h]&&e[h](new Oh(D,H,P,Z))},error:e[h+1],complete:e[h+2]},AS(n._query)}return function(P,H,Z,pe){const ke=new TC(pe),tt=new bD(H,ke,Z);return P.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return vD(yield fy(P),tt)})),()=>{ke.pa(),P.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return ED(yield fy(P),tt)}))}}(Nr(D),x,m,E)}function py(n,e){return function(t,r){const o=new Er;return t.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function ix(n,e,t){return MD.apply(this,arguments)}(yield rT(t),r,o)})),o.promise}(Nr(n),e)}function fT(n,e,t){const r=t.docs.get(e._key),o=new Fp(n);return new Pc(n,o,e._key,r,new kp(t.hasPendingWrites,t.fromCache),e.converter)}class EO extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rp(e)}get(e){const t=Rh(e,this._firestore),r=new dO(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Xe();const l=o[0];if(l.isFoundDocument())return new o0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new o0(this._firestore,r,t._key,null,t.converter);throw Xe()})}set(e,t,r){const o=Rh(e,this._firestore),l=FC(o.converter,t,r),h=PC(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=Rh(e,this._firestore);let h;return h="string"==typeof(t=(0,Ft.m9)(t))||t instanceof Oc?lT(this._dataReader,"Transaction.update",l._key,t,r,o):uT(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Rh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Rh(e,this._firestore),r=new Fp(this._firestore);return super.get(e).then(o=>new Pc(this._firestore,r,t._key,o._document,new kp(!1,!1),t.converter))}}function pT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function BS(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function jS(){if(!function fb(){return"undefined"!=typeof atob}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){oc=Wl.SDK_VERSION,(0,Wl._registerComponent)(new Af.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new jn(o,new ub(t.getProvider("auth-internal")),new lE(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Wl.registerVersion)(oE,"3.4.7",n),(0,Wl.registerVersion)(oE,"3.4.7","esm2017")}();class l0{constructor(e){this._delegate=e}static fromBase64String(e){return jS(),new l0(Zu.fromBase64String(e))}static fromUint8Array(e){return BS(),new l0(Zu.fromUint8Array(e))}toBase64(){return jS(),this._delegate.toBase64()}toUint8Array(){return BS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gT(n){return function xO(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class OO{enableIndexedDbPersistence(e,t){return function Vx(n,e){_S(n=Jt(n,jn));const t=Nr(n),r=n._freezeSettings(),o=new YD;return yS(t,o,new XA(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ux(n){_S(n=Jt(n,jn));const e=Nr(n),t=n._freezeSettings(),r=new YD;return yS(e,r,new wx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Bx(n){if(n._initialized&&!n._terminated)throw new Ae(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Er;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{yield(t=(0,ce.Z)(function*(r){if(!ps.vt())return Promise.resolve();const o=r+"main";yield ps.delete(o)}),function(r){return t.apply(this,arguments)})(pC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $S{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Zo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Kf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Rx(n,e,t,r={}){var o;const l=(n=Jt(n,r0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Kf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=Qr.MOCK_USER;else{h=(0,Ft.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ae(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Qr(E)}n._authCredentials=new Qf(new uE(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function $x(n){return function Dx(n){return n.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield rS(n),t=yield iS(n);return e.setNetworkEnabled(!0),function(r){const o=$e(r);return o.lu.delete(0),Sc(o)}(t)}))}(Nr(n=Jt(n,jn)))}(this._delegate)}disableNetwork(){return function Hx(n){return function Tx(n){return n.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield rS(n),t=yield iS(n);return e.setNetworkEnabled(!1),(r=(0,ce.Z)(function*(o){const l=$e(o);l.lu.add(0),yield zu(l),l._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Nr(n=Jt(n,jn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,uS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function jx(n){return function(e){const t=new Er;return e.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function ux(n,e){return ND.apply(this,arguments)}(yield rT(e),t)})),t.promise}(Nr(n=Jt(n,jn)))}(this._delegate)}onSnapshotsInSync(e){return function wO(n,e){return function Mx(n,e){const t=new TC(e);return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return r=yield fy(n),o=t,$e(r).Tu.add(o),void o.next();var r,o})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return r=yield fy(n),o=t,void $e(r).Tu.delete(o);var r,o}))}}(Nr(n=Jt(n,jn)),oT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gy(this,fS(this._delegate,e))}catch(t){throw _s(t,"collection()","Firestore.collection()")}}doc(e){try{return new ea(this,MC(this._delegate,e))}catch(t){throw _s(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vs(this,function Nx(n,e){if(n=Jt(n,r0),sT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $i(n,null,(t=e,new Yo(Wt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw _s(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function CO(n,e){return function xx(n,e){const t=new Er;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){const r=yield(o=n,AC(o).then(l=>l.datastore));var o;new Ix(n.asyncQueue,r,e,t).run()})),t.promise}(Nr(n=Jt(n,jn)),t=>e(new EO(n,t)))}(this._delegate,t=>e(new HS(this,t)))}batch(){return Nr(this._delegate),new GS(new kS(this._delegate,e=>py(this._delegate,e)))}loadBundle(e){return function Gx(n,e){const t=Nr(n=Jt(n,jn)),r=new Fx;return function Ox(n,e,t,r){const o=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,E=function(E,D){if(E instanceof Uint8Array)return eS(E,D);if(E instanceof ArrayBuffer)return eS(new Uint8Array(E),D);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Ex(E,h);var E}(t,Ee(e));n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){!function vx(n,e,t){const r=$e(n);var o;(o=(0,ce.Z)(function*(l,h,m){try{const E=yield h.getMetadata();if(yield function(H,Z){const pe=$e(H),ke=Ir(Z.createTime);return pe.persistence.runTransaction("hasNewerBundle","readonly",tt=>pe.ds.getBundleMetadata(tt,Z.id)).then(tt=>!!tt&&tt.createTime.compareTo(ke)>=0)}(l.localStore,E))return yield h.close(),m._completeWith({taskState:"Success",documentsLoaded:(H=E).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);m._updateProgress(HA(E));const D=new JM(E,l.localStore,h.M);let x=yield h.fa();for(;x;){const H=yield D.Nu(x);H&&m._updateProgress(H),x=yield h.fa()}const P=yield D.complete();return yield xc(l,P.Ou,void 0),yield function(H,Z){const pe=$e(H);return pe.persistence.runTransaction("Save bundle","readwrite",ke=>pe.ds.saveBundleMetadata(ke,Z))}(l.localStore,E),m._completeWith(P.progress),Promise.resolve(P.Mu)}catch(E){return Kf("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var H}),function(l,h,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield rT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function qx(n,e){return function Px(n,e){return n.asyncQueue.enqueue((0,ce.Z)(function*(){return function(t,r){const o=$e(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.ds.getNamedQuery(l,r))}(yield nT(n),e)}))}(Nr(n=Jt(n,jn)),e).then(t=>t?new $i(n,null,t.query):null)}(this._delegate,e).then(t=>t?new vs(this,t):null)}}class LC extends hT{constructor(e){super(),this.firestore=e}convertBytes(e){return new l0(new Zu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ea.forKey(t,this.firestore,null)}}class HS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new LC(e)}get(e){const t=Vp(e);return this._delegate.get(t).then(r=>new c0(this._firestore,new Pc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Vp(e);return r?(pT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Vp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Vp(e);return this._delegate.delete(t),this}}class GS{constructor(e){this._delegate=e}set(e,t,r){const o=Vp(e);return r?(pT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Vp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Vp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Lp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new a0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new d0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Lp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new Lp(e,new LC(e),t),o.set(t,l)),l}}Lp.INSTANCES=new WeakMap;class ea{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new LC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ea(t,new Rn(t._delegate,r,new Ve(e)))}static forKey(e,t,r){return new ea(t,new Rn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gy(this.firestore,fS(this._delegate,e))}catch(t){throw _s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ft.m9)(e))instanceof Rn&&pS(this._delegate,e)}set(e,t){t=pT("DocumentReference.set",t);try{return t?FS(this._delegate,e,t):FS(this._delegate,e)}catch(r){throw _s(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?LS(this._delegate,e):LS(this._delegate,e,t,...r)}catch(o){throw _s(o,"updateDoc()","DocumentReference.update()")}}delete(){return function _O(n){return py(Jt(n.firestore,jn),[new hp(n._key,Wn.none())])}(this._delegate)}onSnapshot(...e){const t=qS(e),r=zS(e,o=>new c0(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return VS(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function fO(n){n=Jt(n,Rn);const e=Jt(n.firestore,jn),t=Nr(e),r=new Fp(e);return function Ax(n,e){const t=new Er;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(r=(0,ce.Z)(function*(o,l,h){try{const m=yield function(E,D){const x=$e(E);return x.persistence.runTransaction("read document","readonly",P=>x.ai.Bs(P,D))}(o,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Ae(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=ly(m,`Failed to get document '${l} from cache`);h.reject(E)}}),function(o,l,h){return r.apply(this,arguments)})(yield nT(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Pc(e,r,n._key,o,new kp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function pO(n){n=Jt(n,Rn);const e=Jt(n.firestore,jn);return sS(Nr(e),n._key,{source:"server"}).then(t=>fT(e,n,t))}(this._delegate):function hO(n){n=Jt(n,Rn);const e=Jt(n.firestore,jn);return sS(Nr(e),n._key).then(t=>fT(e,n,t))}(this._delegate),t.then(r=>new c0(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ea(this.firestore,this._delegate.withConverter(e?Lp.getInstance(this.firestore,e):null))}}function _s(n,e,t){return n.message=n.message.replace(e,t),n}function qS(n){for(const e of n)if("object"==typeof e&&!gT(e))return e;return{}}function zS(n,e){var t,r;let o;return o=gT(n[0])?n[0]:gT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class c0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ea(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return TS(this._delegate,e._delegate)}}class d0 extends c0{data(e){const t=this._delegate.data(e);return function ab(n,e){n||Xe()}(void 0!==t),t}}class vs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new LC(e)}where(e,t,r){try{return new vs(this.firestore,Ph(this._delegate,function nO(n,e,t){const r=e,o=kC("where",n);return new tO(o,r,t)}(e,t,r)))}catch(o){throw _s(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new vs(this.firestore,Ph(this._delegate,function iO(n,e="asc"){const t=e,r=kC("orderBy",n);return new rO(r,t)}(e,t)))}catch(r){throw _s(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vs(this.firestore,Ph(this._delegate,function sO(n){return dS("limit",n),new SS("limit",n,"F")}(e)))}catch(t){throw _s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new vs(this.firestore,Ph(this._delegate,function oO(n){return dS("limitToLast",n),new SS("limitToLast",n,"L")}(e)))}catch(t){throw _s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vs(this.firestore,Ph(this._delegate,function aO(...n){return new MS("startAt",n,!0)}(...e)))}catch(t){throw _s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vs(this.firestore,Ph(this._delegate,function uO(...n){return new MS("startAfter",n,!1)}(...e)))}catch(t){throw _s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vs(this.firestore,Ph(this._delegate,function lO(...n){return new xS("endBefore",n,!1)}(...e)))}catch(t){throw _s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vs(this.firestore,Ph(this._delegate,function cO(...n){return new xS("endAt",n,!0)}(...e)))}catch(t){throw _s(t,"endAt()","Query.endAt()")}}isEqual(e){return gS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function mO(n){n=Jt(n,$i);const e=Jt(n.firestore,jn),t=Nr(e),r=new Fp(e);return function Sx(n,e){const t=new Er;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(r=(0,ce.Z)(function*(o,l,h){try{const m=yield Ah(o,l,!0),E=new zA(l,m.hi),D=E.Gu(m.documents),x=E.applyChanges(D,!1);h.resolve(x.snapshot)}catch(m){const E=ly(m,`Failed to execute query '${l} against cache`);h.reject(E)}}),function(o,l,h){return r.apply(this,arguments)})(yield nT(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Oh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function yO(n){n=Jt(n,$i);const e=Jt(n.firestore,jn),t=Nr(e),r=new Fp(e);return oS(t,n._query,{source:"server"}).then(o=>new Oh(e,r,n,o))}(this._delegate):function gO(n){n=Jt(n,$i);const e=Jt(n.firestore,jn),t=Nr(e),r=new Fp(e);return AS(n._query),oS(t,n._query).then(o=>new Oh(e,r,n,o))}(this._delegate),t.then(r=>new mT(this.firestore,new Oh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=qS(e),r=zS(e,o=>new mT(this.firestore,new Oh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return VS(this._delegate,t,r)}withConverter(e){return new vs(this.firestore,this._delegate.withConverter(e?Lp.getInstance(this.firestore,e):null))}}class RO{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new d0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new d0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new RO(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new d0(this._firestore,r))})}isEqual(e){return TS(this._delegate,e._delegate)}}class gy extends vs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ea(this.firestore,e):null}doc(e){try{return new ea(this.firestore,void 0===e?MC(this._delegate):MC(this._delegate,e))}catch(t){throw _s(t,"doc()","CollectionReference.doc()")}}add(e){return function vO(n,e){const t=Jt(n.firestore,jn),r=MC(n),o=FC(n.converter,e);return py(t,[PC(Rp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Wn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ea(this.firestore,t))}isEqual(e){return pS(this._delegate,e._delegate)}withConverter(e){return new gy(this.firestore,this._delegate.withConverter(e?Lp.getInstance(this.firestore,e):null))}}function Vp(n){return Jt(n,Rn)}class yT{constructor(...e){this._delegate=new Oc(...e)}static documentId(){return new yT(Pr.keyField().canonicalString())}isEqual(e){return(e=(0,Ft.m9)(e))instanceof Oc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Up{constructor(e){this._delegate=e}static serverTimestamp(){const e=function bO(){return new aT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Up(e)}static delete(){const e=function IO(){return new s0("deleteField")}();return e._methodName="FieldValue.delete",new Up(e)}static arrayUnion(...e){const t=function DO(...n){return new Kx("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Up(t)}static arrayRemove(...e){const t=function TO(...n){return new Yx("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Up(t)}static increment(e){const t=function AO(n){return new Qx("increment",n)}(e);return t._methodName="FieldValue.increment",new Up(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const NO={Firestore:$S,GeoPoint:xC,Timestamp:or,Blob:l0,Transaction:HS,WriteBatch:GS,DocumentReference:ea,DocumentSnapshot:c0,Query:vs,QueryDocumentSnapshot:d0,QuerySnapshot:mT,CollectionReference:gy,FieldPath:yT,FieldValue:Up,setLogLevel:function PO(n){!function aE(n){ka.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function FO(n){(function kO(n,e){n.INTERNAL.registerComponent(new Af.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},NO)))})(n,(e,t)=>new $S(e,t,new OO)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(FI.Z);var LO=N(6451),VC=N(5363),VO=N(6063);class UO extends Hs.x{constructor(e=1/0,t=1/0,r=VO.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;t||(r.push(e),!o&&r.push(l.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!e.closed;h+=r?1:2)e.next(l[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const h=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=h;E+=2)m=E;m&&r.splice(0,m+1)}}}var BO=N(3099);function WS(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,BO.B)({connector:()=>new UO(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function ZS(n,e){return(0,df.m)(e)?vr(()=>n,e):vr(()=>n)}var _T=N(9468);N(5867);const YS=new Map,qO={activated:!1,tokenObservers:[]},zO={initialized:!1,enabled:!1};function mi(n){return YS.get(n)||qO}function $a(n,e){YS.set(n,e)}function BC(){return zO}class QO{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ce.Z)(function*(){t.stop();try{t.pending=new Ft.BH,yield function JO(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ft.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ws=new Ft.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JS(n){if(!mi(n).activated)throw ws.create("use-before-activation",{appName:n.name})}function CT(n,e){return IT.apply(this,arguments)}function IT(){return IT=(0,ce.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const P=yield o.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const l={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,l)}catch(P){throw ws.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==h.status)throw ws.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(P){throw ws.create("fetch-parse-error",{originalErrorMessage:P.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw ws.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(E[1]),x=Date.now();return{token:m.attestationToken,expireTimeMillis:x+D,issuedAtTimeMillis:x}}),IT.apply(this,arguments)}function rP(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const h0="firebase-app-check-store";let HC=null;function eM(){return HC||(HC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(ws.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(h0,{keyPath:"compositeKey"})}}catch(t){e(ws.create("storage-open",{originalErrorMessage:t.message}))}}),HC)}function bT(){return bT=(0,ce.Z)(function*(n,e){const r=(yield eM()).transaction(h0,"readwrite"),l=r.objectStore(h0).put({compositeKey:n,value:e});return new Promise((h,m)=>{l.onsuccess=E=>{h()},r.onerror=E=>{var D;m(ws.create("storage-set",{originalErrorMessage:null===(D=E.target.error)||void 0===D?void 0:D.message}))}})}),bT.apply(this,arguments)}const f0=new Zl.Yd("@firebase/app-check");function iM(n,e){return(0,Ft.hl)()?function aP(n,e){return function tM(n,e){return bT.apply(this,arguments)}(function rM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{f0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function sM(){return BC().enabled}function oM(){return ST.apply(this,arguments)}function ST(){return ST=(0,ce.Z)(function*(){const n=BC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ST.apply(this,arguments)}const fP={error:"UNKNOWN_ERROR"};function pP(n){return Ft.US.encodeString(JSON.stringify(n),!1)}function GC(n){return MT.apply(this,arguments)}function MT(){return MT=(0,ce.Z)(function*(n,e=!1){const t=n.app;JS(t);const r=mi(t);let l,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&qC(E)&&(o=E)}if(!e&&o&&qC(o))return{token:o.token};let m,h=!1;if(sM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=CT(rP(t,yield oM()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),h=!0);const E=yield r.exchangeTokenPromise;return yield iM(t,E),$a(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),h=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?f0.warn(E.message):f0.error(E),l=E}return o?(m={token:o.token},$a(t,Object.assign(Object.assign({},r),{token:o})),yield iM(t,o)):m=mP(l),h&&uM(t,m),m}),MT.apply(this,arguments)}function OT(n,e){const t=mi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),$a(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function aM(n){const{app:e}=n,t=mi(e);let r=t.tokenRefresher;r||(r=function gP(n){const{app:e}=n;return new QO((0,ce.Z)(function*(){let r;if(r=mi(e).token?yield GC(n,!0):yield GC(n),r.error)throw r.error}),()=>!0,()=>{const t=mi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),$a(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function uM(n,e){const t=mi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function qC(n){return n.expireTimeMillis-Date.now()>0}function mP(n){return{token:pP(fP),error:n}}class yP{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=mi(this.app);for(const t of e)OT(this.app,t.next);return Promise.resolve()}}const mM="app-check-internal";!function OP(){(0,Wl._registerComponent)(new Af.wA("app-check",n=>function _P(n,e){return new yP(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(mM).initialize()})),(0,Wl._registerComponent)(new Af.wA(mM,n=>function vP(n){return{getToken:e=>GC(n,e),addTokenListener:e=>function xT(n,e,t,r){const{app:o}=n,l=mi(o),h={next:t,error:r,type:e};if($a(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&qC(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),aM(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>aM(n))}(n,"INTERNAL",e),removeTokenListener:e=>OT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wl.registerVersion)("@firebase/app-check","0.5.5")}();class kT{constructor(){return(0,wr.vb)("app-check")}}"undefined"!=typeof window&&window;var LT=N(127);const _M=new f.OlP("angularfire2.auth.use-emulator"),vM=new f.OlP("angularfire2.auth.settings"),wM=new f.OlP("angularfire2.auth.tenant-id"),EM=new f.OlP("angularfire2.auth.langugage-code"),CM=new f.OlP("angularfire2.auth.use-device-language"),IM=new f.OlP("angularfire.auth.persistence"),bM=(n,e,t,r,o,l,h,m)=>(0,To.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,l&&E.useDeviceLanguage(),h)for(const[D,x]of Object.entries(h))E.settings[D]=x;return m&&E.setPersistence(m),E},[t,r,o,l,h,m]);let WC=(()=>{class n{constructor(t,r,o,l,h,m,E,D,x,P,H,Z){const pe=new Hs.x,ke=gt(void 0).pipe((0,VC.Q)(h.outsideAngular),vr(()=>l.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,4087)))),(0,Dt.U)(()=>(0,To.on)(t,l,r)),(0,Dt.U)(tt=>bM(tt,l,m,D,x,P,E,H)),WS({bufferSize:1,refCount:!1}));if(tr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{ke.pipe(d()).subscribe();const Zt=ke.pipe(vr(It=>It.getRedirectResult().then(Ht=>Ht,()=>null)),wr.iC,WS({bufferSize:1,refCount:!1})),ct=ke.pipe(vr(It=>new gn.y(Ht=>({unsubscribe:l.runOutsideAngular(()=>It.onAuthStateChanged(Gt=>Ht.next(Gt),Gt=>Ht.error(Gt),()=>Ht.complete()))})))),wn=ke.pipe(vr(It=>new gn.y(Ht=>({unsubscribe:l.runOutsideAngular(()=>It.onIdTokenChanged(Gt=>Ht.next(Gt),Gt=>Ht.error(Gt),()=>Ht.complete()))}))));this.authState=Zt.pipe(ZS(ct),(0,_T.R)(h.outsideAngular),(0,VC.Q)(h.insideAngular)),this.user=Zt.pipe(ZS(wn),(0,_T.R)(h.outsideAngular),(0,VC.Q)(h.insideAngular)),this.idToken=this.user.pipe(vr(It=>It?(0,Mn.D)(It.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(vr(It=>It?(0,Mn.D)(It.getIdTokenResult()):gt(null))),this.credential=(0,LO.T)(Zt,pe,this.authState.pipe(ls(It=>!It))).pipe((0,Dt.U)(It=>(null==It?void 0:It.user)?It:null),(0,_T.R)(h.outsideAngular),(0,VC.Q)(h.insideAngular))}return(0,To.pX)(this,ke,l,{spy:{apply:(tt,Zt,ct)=>{(tt.startsWith("signIn")||tt.startsWith("createUser"))&&ct.then(wn=>pe.next(wn))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(To.Dh),f.LFG(To.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(wr.HU),f.LFG(_M,8),f.LFG(vM,8),f.LFG(wM,8),f.LFG(EM,8),f.LFG(CM,8),f.LFG(IM,8),f.LFG(kT,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LP=(()=>{class n{constructor(){LT.Z.registerVersion("angularfire",wr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[WC]}),n})();function DM(n,e){return function VP(n,e=v_.z){return new gn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function VT(n,e){return DM(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function ZC(n,e){return VT(n,e).pipe(wd(void 0),qg(),(0,Dt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const E=o.find(x=>x.doc.ref.isEqual(h.ref)),D=null==t?void 0:t.payload.docs.find(x=>x.ref.isEqual(h.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(h.metadata)||!E&&D&&JSON.stringify(D.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function TM(n,e,t){return ZC(n,t).pipe(Eo((r,o)=>function BP(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function jP(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return UT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return UT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return UT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),function gw(n,e=us.y){return n=null!=n?n:mw,(0,bi.e)((t,r)=>{let o,l=!0;t.subscribe((0,mn.x)(r,h=>{const m=e(h);(l||!n(o,m))&&(l=!1,o=m,r.next(h))}))})}(),(0,Dt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function UT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function AM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class SM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ZC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(wd(void 0),qg(),ls(([r,o])=>o.length>0||!r),(0,Dt.U)(([r,o])=>o),wr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Eo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AM(e);return TM(this.query,t,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(e={}){return VT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),wr.iC)}get(e){return(0,Mn.D)(this.query.get(e)).pipe(wr.iC)}add(e){return this.ref.add(e)}doc(e){return new MM(this.ref.doc(e),this.afs)}}class MM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=PM(r,t);return new SM(o,l,this.afs)}snapshotChanges(){return function UP(n,e){return DM(n,e).pipe(wd(void 0),qg(),(0,Dt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Mn.D)(this.ref.get(e)).pipe(wr.iC)}}class $P{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ZC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ls(t=>t.length>0),wr.iC):ZC(this.query,this.afs.schedulers.outsideAngular).pipe(wr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Eo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AM(e);return TM(this.query,t,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(e={}){return VT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),wr.iC)}get(e){return(0,Mn.D)(this.query.get(e)).pipe(wr.iC)}}const xM=new f.OlP("angularfire2.enableFirestorePersistence"),OM=new f.OlP("angularfire2.firestore.persistenceSettings"),HP=new f.OlP("angularfire2.firestore.settings"),GP=new f.OlP("angularfire2.firestore.use-emulator");function PM(n,e=(t=>t)){return{query:e(n),ref:n}}let BT=(()=>{class n{constructor(t,r,o,l,h,m,E,D,x,P,H,Z,pe,ke,tt,Zt,ct){this.schedulers=E;const wn=(0,To.on)(t,m,r),It=x;P&&bM(wn,m,H,pe,ke,tt,Z,Zt),[this.firestore,this.persistenceEnabled$]=(0,To.cc)(`${wn.name}.firestore`,"AngularFirestore",wn.name,()=>{const Ht=m.runOutsideAngular(()=>wn.firestore());if(l&&Ht.settings(l),It&&Ht.useEmulator(...It),o&&!tr(h)){const Gt=()=>{try{return(0,Mn.D)(Ht.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(Ku){return"undefined"!=typeof console&&console.warn(Ku),gt(!1)}};return[Ht,m.runOutsideAngular(Gt)]}return[Ht,gt(!1)]},[l,It,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=PM(o,r),m=this.schedulers.ngZone.run(()=>l);return new SM(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new $P(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new MM(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(To.Dh),f.LFG(To.xv,8),f.LFG(xM,8),f.LFG(HP,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(wr.HU),f.LFG(OM,8),f.LFG(GP,8),f.LFG(WC,8),f.LFG(_M,8),f.LFG(vM,8),f.LFG(wM,8),f.LFG(EM,8),f.LFG(CM,8),f.LFG(IM,8),f.LFG(kT,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qP=(()=>{class n{constructor(){LT.Z.registerVersion("angularfire",wr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:xM,useValue:!0},{provide:OM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[BT]}),n})(),p0=(()=>{class n{constructor(t,r){this.authF=t,this.firestore=r,this.auth=LT.Z.auth,this.chats=[],this.itemsCollection=null}loginGoogle(){var t=this;return(0,ce.Z)(function*(){try{return yield t.authF.signInWithPopup(new t.auth.GoogleAuthProvider)}catch(r){return console.log(r),null}})()}login(t,r){var o=this;return(0,ce.Z)(function*(){try{return yield o.authF.createUserWithEmailAndPassword(t,r)}catch(l){return console.log(l),null}})()}getUser(){return this.authF.authState}logout(){this.authF.signOut()}cargarMensajes(){return this.firestore.collection("chats",t=>t.orderBy("fecha","asc")).valueChanges()}agregarMensaje(t){this.firestore.collection("chats").add(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(WC),f.LFG(BT))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jT=(()=>{class n{constructor(t,r,o){this.firestore=t,this.service=r,this.route=o,this.form=new wa({correo:new Tl,pass:new Tl}),this.items=this.firestore.collection("chats",l=>l.orderBy("fecha","asc")).valueChanges(),this.items.subscribe(l=>{console.log(l)})}ngOnInit(){}onEmail(){var t=this;return(0,ce.Z)(function*(){try{const{correo:r,pass:o}=t.form.value;t.service.login(r,o),t.route.navigate(["home"])}catch(r){console.log(r)}})()}onGoogle(){var t=this;return(0,ce.Z)(function*(){try{yield t.service.loginGoogle(),t.route.navigate(["home"])}catch(r){console.log(r)}})()}logout(){this.service.logout(),this.service.getUser().subscribe(t=>{null==t&&console.log("no esta logeado")})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(BT),f.Y36(p0),f.Y36(ci))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-inicio-sesion"]],decls:26,vars:1,consts:[[1,"login"],[2,"margin-left","1em","margin-top","0.5em"],[1,"main"],[1,"sec1"],["src","https://userscontent2.emaze.com/images/7a6e5ada-72e3-4768-b987-333967d70618/b5dda26949f641f98e6fb56da507ccda.png","alt","PUCELANT"],[1,"sec2"],[3,"formGroup"],[1,"input-group","mb-3","inp"],["id","basic-addon1",1,"input-group-text",2,"border","1px solid black"],["formControlName","correo","type","text","placeholder","Username","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",2,"border","1px solid black"],[1,"input-group","mb-3","inp2"],["formControlName","pass","type","password","placeholder","Username","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",2,"border","1px solid black"],[1,"btn"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"h1",1),f._uU(2,"PUCELANT"),f.qZA(),f.TgZ(3,"div",2)(4,"div",3),f._UZ(5,"img",4),f.qZA(),f.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"span",8),f._uU(10,"Email"),f.qZA(),f._UZ(11,"input",9),f.qZA(),f.TgZ(12,"div",10)(13,"span",8),f._uU(14,"Contrasena"),f.qZA(),f._UZ(15,"input",11),f.qZA(),f.TgZ(16,"div",12)(17,"div",12)(18,"button",13),f.NdJ("click",function(){return r.onEmail()}),f._uU(19,"Ingresar"),f.qZA()(),f.TgZ(20,"div",12)(21,"button",13),f.NdJ("click",function(){return r.onGoogle()}),f._uU(22,"Google"),f.qZA()(),f.TgZ(23,"div",12)(24,"button",13),f.NdJ("click",function(){return r.logout()}),f._uU(25,"Facebook"),f.qZA()()()()()()()),2&t&&(f.xp6(7),f.Q6J("formGroup",r.form))},directives:[Ol,Oi,cd,ho,gu,ef],styles:["*[_ngcontent-%COMP%]{margin:0}.login[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#4affde 0%,#5d9dff 40%,#d06bff 60%,#ff34d2 100%);background-size:200% 200%;animation:gradiente 5s linear infinite alternate;position:absolute;width:100%;height:100%}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;justify-content:space-around}img[_ngcontent-%COMP%]{height:40em}.sec2[_ngcontent-%COMP%]{border-radius:10px;width:30%;height:20em;background-color:#f0f8ff;display:flex;justify-content:center;align-items:center}.inp[_ngcontent-%COMP%]{margin-top:10%}.inp2[_ngcontent-%COMP%]{margin-top:5%}.btn[_ngcontent-%COMP%]{margin-top:2%;display:flex;justify-content:center;align-items:center}@keyframes gradiente{0%{background-position:0 0}to{background-position:100% 100%}}"]}),n})();function zP(n,e){1&n&&f._UZ(0,"app-inicio-sesion")}let $T=(()=>{class n{constructor(t,r){this.service=t,this.router=r,this.title="pucelant",this.logeado=!1,this.service.getUser().subscribe(o=>{null!=o&&(this.router.navigate(["home"]),this.logeado=!0)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(p0),f.Y36(ci))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(f._UZ(0,"router-outlet"),f.YNc(1,zP,1,0,"app-inicio-sesion",0)),2&t&&(f.xp6(1),f.Q6J("ngIf",!r.logeado))},directives:[Sg,Fr,jT],styles:[""]}),n})(),RM=(()=>{class n{constructor(t,r){this.service=t,this.componente=r}ngOnInit(){}logout(){this.service.logout(),this.componente.logeado=!1}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(p0),f.Y36($T))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-menuprincipal"]],decls:13,vars:0,consts:[[1,"nlinks","d-flex","align-items-center","mt-3","mt-md-0"],[1,"menuprincipal"],["href",""],["href","#","routerLink","/home",1,"nav-link"],["href","#","routerLink","/inicio",1,"nav-link"],["href","#","routerLink","/",1,"nav-link",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),f._uU(3,"PUCELANT"),f.qZA()(),f.TgZ(4,"li",1)(5,"a",3),f._uU(6,"PERFIL"),f.qZA()(),f.TgZ(7,"li",1)(8,"a",4),f._uU(9,"INICIO"),f.qZA()(),f.TgZ(10,"li",1)(11,"a",5),f.NdJ("click",function(){return r.logout()}),f._uU(12,"CERRAR SESION"),f.qZA()()())},directives:[Ws],styles:[".menuprincipal[_ngcontent-%COMP%]{list-style:none}"]}),n})();function WP(n,e){if(1&n&&(f.TgZ(0,"p",10),f._uU(1),f.qZA()),2&n){const t=e.$implicit,r=f.oxw(2);f.Q6J("ngClass",r.usuarioLogeado.uid==t.emisor?"enviado":"recibido"),f.xp6(1),f.hij(" ",t.texto," ")}}const ZP=function(){return{standalone:!0}};function KP(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",1)(1,"div",2),f._uU(2," Chat "),f.qZA(),f.TgZ(3,"div",3)(4,"div",4),f.YNc(5,WP,2,2,"p",5),f.qZA()(),f.TgZ(6,"form",6),f.NdJ("ngSubmit",function(){return f.CHM(t),f.oxw().enviarMensaje()}),f.TgZ(7,"input",7),f.NdJ("ngModelChange",function(o){return f.CHM(t),f.oxw().nuevoMensaje=o}),f.qZA(),f.TgZ(8,"span",8),f.NdJ("click",function(){return f.CHM(t),f.oxw().send()}),f._UZ(9,"i",9),f.qZA()()()}if(2&n){const t=f.oxw();f.xp6(5),f.Q6J("ngForOf",t.mensajes),f.xp6(2),f.Q6J("ngModel",t.nuevoMensaje)("ngModelOptions",f.DdM(3,ZP))}}let NM=(()=>{class n{constructor(t,r){this.service=t,this.componente=r,this.nuevoMensaje="",this.mensajes=[],this.service.cargarMensajes().subscribe(o=>{this.mensajes=o})}ngOnInit(){this.service.getUser().subscribe(t=>{this.usuarioLogeado=t})}enviarMensaje(){let t={emisor:this.usuarioLogeado.uid,texto:this.nuevoMensaje,fecha:(new Date).getTime()};this.service.agregarMensaje(t),this.nuevoMensaje=""}send(){let t={emisor:this.usuarioLogeado.uid,texto:this.nuevoMensaje,fecha:(new Date).getTime()};this.service.agregarMensaje(t),this.nuevoMensaje=""}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(p0),f.Y36($T))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-chat"]],decls:1,vars:1,consts:[["class","card text-center cardContainer",4,"ngIf"],[1,"card","text-center","cardContainer"],[1,"card-header"],[1,"card-body"],[1,"contenedorMensajes"],["class","p-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","input-group",3,"ngSubmit"],["type","text","placeholder","Ingrese su mensaje",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["id","basic-addon2",1,"input-group-text",3,"click"],[1,"enviar","fa-solid","fa-paper-plane"],[1,"p-2",3,"ngClass"]],template:function(t,r){1&t&&f.YNc(0,KP,10,4,"div",0),2&t&&f.Q6J("ngIf",r.usuarioLogeado)},directives:[Fr,er,Ds,Ol,Oi,ad,ho,gu,ud],styles:[".cardContainer[_ngcontent-%COMP%]{width:300px;height:500px;position:fixed;right:.5rem;bottom:.5rem}.card-header[_ngcontent-%COMP%]{background-color:#4a4aec;color:#fff;font-weight:700}.card-body[_ngcontent-%COMP%]{padding:.5rem}.enviar[_ngcontent-%COMP%]:active{transform:scale(.9)}.enviar[_ngcontent-%COMP%]:hover{cursor:pointer}.enviado[_ngcontent-%COMP%]{display:block;float:right;background-color:#04f;color:#fff;min-width:50.01%;border-radius:10px}.recibido[_ngcontent-%COMP%]{display:block;float:left;background-color:#676470;color:#fff;min-width:50.01%;border-radius:10px}.contenedorMensajes[_ngcontent-%COMP%]{overflow:scroll;padding:.3rem}.contenedorMensajes[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}a[_ngcontent-%COMP%]{cursor:pointer}"]}),n})(),kM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-inicio"]],decls:46,vars:0,consts:[["id","snippetContent"],["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"],[1,"container"],[1,"profile-page","tx-13"],[1,"row"],[1,"col-12","grid-margin"],[1,"profile-header"],[1,"col-md-8","col-xl-6","middle-wrapper"],[1,"col-md-12","grid-margin"],[1,"card","rounded"],[1,"card-header"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],["src","https://bootdey.com/img/Content/avatar/avatar6.png","alt","",1,"img-xs","rounded-circle"],[1,"ml-2"],[1,"tx-11","text-muted"],[1,"dropdown"],[1,"card-body"],[1,"mb-3","tx-14"],["src","https://bootdey.com/img/Content/avatar/avatar6.png","alt","",1,"img-fluid"],[1,"card-footer"],[1,"d-flex","post-actions"],["href","javascript:;",1,"d-flex","align-items-center","text-muted","mr-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-heart","icon-md"],["d","M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"],[1,"d-none","d-md-block","ml-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-message-square","icon-md"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],["href","javascript:;",1,"d-flex","align-items-center","text-muted"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-share","icon-md"],["d","M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"],["points","16 6 12 2 8 6"],["x1","12","y1","2","x2","12","y2","15"]],template:function(t,r){1&t&&(f._UZ(0,"app-menuprincipal"),f.TgZ(1,"div",0),f._UZ(2,"link",1),f.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",4)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12),f._UZ(15,"img",13),f.TgZ(16,"div",14)(17,"p"),f._uU(18,"Mike Popescu"),f.qZA(),f.TgZ(19,"p",15),f._uU(20,"1 min ago"),f.qZA()()(),f._UZ(21,"div",16),f.qZA(),f.TgZ(22,"div",17)(23,"p",18),f._uU(24,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusamus minima delectus nemo unde quae recusandae assumenda."),f.qZA(),f._UZ(25,"img",19),f.qZA(),f.TgZ(26,"div",20)(27,"div",21)(28,"a",22),f.O4$(),f.TgZ(29,"svg",23),f._UZ(30,"path",24),f.qZA(),f.kcU(),f.TgZ(31,"p",25),f._uU(32,"Like"),f.qZA()(),f.TgZ(33,"a",22),f.O4$(),f.TgZ(34,"svg",26),f._UZ(35,"path",27),f.qZA(),f.kcU(),f.TgZ(36,"p",25),f._uU(37,"Comment"),f.qZA()(),f.TgZ(38,"a",28),f.O4$(),f.TgZ(39,"svg",29),f._UZ(40,"path",30)(41,"polyline",31)(42,"line",32),f.qZA(),f.kcU(),f.TgZ(43,"p",25),f._uU(44,"Share"),f.qZA()()()()()()()()()()(),f._UZ(45,"app-chat"),f.qZA()()()())},directives:[RM,NM],styles:["body[_ngcontent-%COMP%]{background-color:#f9fafb;margin-top:20px}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{box-shadow:0 0 10px #b7c0ce33;border:1px solid #f2f4f9}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{position:relative;border-radius:.25rem .25rem 0 0}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin-bottom:0}@media (max-width: 767px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:110px;overflow:hidden}}@media (min-width: 2400px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:280px;overflow:hidden}}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:.25rem .25rem 0 0;width:100%}@media (max-width: 767px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(2);margin-top:15px}}@media (min-width: 2400px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-55px}}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .gray-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background:linear-gradient(rgba(255,255,255,.1),#fff 99%)}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]{position:absolute;bottom:-20px;left:0;z-index:2;width:100%;padding:0 20px}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{border-radius:50%;width:100px}@media (max-width: 767px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:70px}}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-left:17px}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]{padding:15px;display:flex;justify-content:center;background:#fff;border-radius:0 0 .25rem .25rem}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;transition:all .2s ease}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#727cf5}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .left-wrapper[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:30px;height:30px}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:3px;padding-right:3px}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{transition:all .3s ease-in-out;margin-bottom:6px}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]:hover{transform:scale(1.06)}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:.25rem}.rtl[_ngcontent-%COMP%]   .profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin-left:0;margin-right:17px}.img-xs[_ngcontent-%COMP%]{width:37px;height:37px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}img[_ngcontent-%COMP%]{vertical-align:middle;border-style:none}.card-header[_ngcontent-%COMP%]:first-child{border-radius:0}.card-header[_ngcontent-%COMP%]{padding:.875rem 1.5rem;margin-bottom:0;background-color:#0000;border-bottom:1px solid #f2f4f9}.card-footer[_ngcontent-%COMP%]:last-child{border-radius:0}.card-footer[_ngcontent-%COMP%]{padding:.875rem 1.5rem;background-color:#0000;border-top:1px solid #f2f4f9}.grid-margin[_ngcontent-%COMP%]{margin-bottom:1rem}.card[_ngcontent-%COMP%]{box-shadow:0 0 10px #b7c0ce33;-webkit-box-shadow:0 0 10px 0 rgba(183,192,206,.2);-moz-box-shadow:0 0 10px 0 rgba(183,192,206,.2);-ms-box-shadow:0 0 10px 0 rgba(183,192,206,.2)}.rounded[_ngcontent-%COMP%]{border-radius:.25rem!important}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid #f2f4f9;border-radius:.25rem}"]}),n})(),FM=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-publicaciones"]],decls:110,vars:0,consts:[["id","snippetContent"],["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"],[1,"container"],[1,"profile-page","tx-13"],[1,"row"],[1,"col-12","grid-margin"],[1,"profile-header"],[1,"cover"],[1,"gray-shade"],["src","https://bootdey.com/img/Content/bg1.jpg","alt","profile cover",1,"img-fluid"],[1,"cover-body","d-flex","justify-content-between","align-items-center"],["src","https://bootdey.com/img/Content/avatar/avatar6.png","alt","profile",1,"profile-pic"],[1,"profile-name"],[1,"header-links"],[1,"links","d-flex","align-items-center","mt-3","mt-md-0"],[1,"header-link-item","ml-3","pl-3","border-left","d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-users","mr-1","icon-md"],["d","M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M23 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],["href","#",1,"pt-1px","d-none","d-md-block"],[1,"text-muted","tx-12"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-image","mr-1","icon-md"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["cx","8.5","cy","8.5","r","1.5"],["points","21 15 16 10 5 21"],[1,"row","profile-body"],[1,"d-none","d-md-block","col-md-4","col-xl-3","left-wrapper"],[1,"card","rounded"],[1,"card-body"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"card-title","mb-0"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","p-0"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-more-horizontal","icon-lg","text-muted","pb-3px"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],[1,"mt-3"],[1,"tx-11","font-weight-bold","mb-0","text-uppercase"],[1,"text-muted"],[1,"col-md-8","col-xl-6","middle-wrapper"],[1,"col-md-12","grid-margin"],[1,"card-header"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],["src","https://bootdey.com/img/Content/avatar/avatar6.png","alt","",1,"img-xs","rounded-circle"],[1,"ml-2"],[1,"tx-11","text-muted"],[1,"mb-3","tx-14"],["src","https://bootdey.com/img/Content/avatar/avatar6.png","alt","",1,"img-fluid"],[1,"card-footer"],[1,"d-flex","post-actions"],["href","javascript:;",1,"d-flex","align-items-center","text-muted","mr-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-heart","icon-md"],["d","M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"],[1,"d-none","d-md-block","ml-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-message-square","icon-md"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],["href","javascript:;",1,"d-flex","align-items-center","text-muted"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-share","icon-md"],["d","M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"],["points","16 6 12 2 8 6"],["x1","12","y1","2","x2","12","y2","15"]],template:function(t,r){1&t&&(f._UZ(0,"app-menuprincipal"),f.TgZ(1,"div",0),f._UZ(2,"link",1),f.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),f._UZ(9,"div",8),f.TgZ(10,"figure"),f._UZ(11,"img",9),f.qZA(),f.TgZ(12,"div",10)(13,"div"),f._UZ(14,"img",11),f.TgZ(15,"span",12),f._uU(16,"Amiah Burton"),f.qZA()()()(),f._UZ(17,"br"),f.TgZ(18,"div",13)(19,"ul",14)(20,"li",15),f.O4$(),f.TgZ(21,"svg",16),f._UZ(22,"path",17)(23,"circle",18)(24,"path",19)(25,"path",20),f.qZA(),f.kcU(),f.TgZ(26,"a",21),f._uU(27,"Friends "),f.TgZ(28,"span",22),f._uU(29,"3,765"),f.qZA()()(),f.TgZ(30,"li",15),f.O4$(),f.TgZ(31,"svg",23),f._UZ(32,"rect",24)(33,"circle",25)(34,"polyline",26),f.qZA(),f.kcU(),f.TgZ(35,"a",21),f._uU(36,"Media"),f.qZA()()()()()()(),f.TgZ(37,"div",27)(38,"div",28)(39,"div",29)(40,"div",30)(41,"div",31)(42,"h6",32),f._uU(43,"ACERCA DE:"),f.qZA(),f.TgZ(44,"div",33)(45,"button",34),f.O4$(),f.TgZ(46,"svg",35),f._UZ(47,"circle",36)(48,"circle",37)(49,"circle",38),f.qZA()()()(),f.kcU(),f.TgZ(50,"p"),f._uU(51,"Hi! I'm Amiah the Senior UI Designer at Vibrant. We hope you enjoy the design and quality of Social."),f.qZA(),f.TgZ(52,"div",39)(53,"label",40),f._uU(54,"Joined:"),f.qZA(),f.TgZ(55,"p",41),f._uU(56,"November 15, 2015"),f.qZA()(),f.TgZ(57,"div",39)(58,"label",40),f._uU(59,"Lives:"),f.qZA(),f.TgZ(60,"p",41),f._uU(61,"New York, USA"),f.qZA()(),f.TgZ(62,"div",39)(63,"label",40),f._uU(64,"Email:"),f.qZA(),f.TgZ(65,"p",41),f._uU(66,"me@nobleui.com"),f.qZA()(),f.TgZ(67,"div",39)(68,"label",40),f._uU(69,"Website:"),f.qZA(),f.TgZ(70,"p",41),f._uU(71,"www.nobleui.com"),f.qZA()()()()(),f.TgZ(72,"div",42)(73,"div",4)(74,"div",43)(75,"div",29)(76,"div",44)(77,"div",45)(78,"div",46),f._UZ(79,"img",47),f.TgZ(80,"div",48)(81,"p"),f._uU(82,"Mike Popescu"),f.qZA(),f.TgZ(83,"p",49),f._uU(84,"1 min ago"),f.qZA()()(),f._UZ(85,"div",33),f.qZA(),f.TgZ(86,"div",30)(87,"p",50),f._uU(88,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusamus minima delectus nemo unde quae recusandae assumenda."),f.qZA(),f._UZ(89,"img",51),f.qZA(),f.TgZ(90,"div",52)(91,"div",53)(92,"a",54),f.O4$(),f.TgZ(93,"svg",55),f._UZ(94,"path",56),f.qZA(),f.kcU(),f.TgZ(95,"p",57),f._uU(96,"Like"),f.qZA()(),f.TgZ(97,"a",54),f.O4$(),f.TgZ(98,"svg",58),f._UZ(99,"path",59),f.qZA(),f.kcU(),f.TgZ(100,"p",57),f._uU(101,"Comment"),f.qZA()(),f.TgZ(102,"a",60),f.O4$(),f.TgZ(103,"svg",61),f._UZ(104,"path",62)(105,"polyline",63)(106,"line",64),f.qZA(),f.kcU(),f.TgZ(107,"p",57),f._uU(108,"Share"),f.qZA()()()()()()()()()()(),f._UZ(109,"app-chat"),f.qZA()())},directives:[RM,NM],styles:["body[_ngcontent-%COMP%]{background-color:#f9fafb;margin-top:20px}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{box-shadow:0 0 10px #b7c0ce33;border:1px solid #f2f4f9}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{position:relative;border-radius:.25rem .25rem 0 0}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin-bottom:0}@media (max-width: 767px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:110px;overflow:hidden}}@media (min-width: 2400px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:280px;overflow:hidden}}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:.25rem .25rem 0 0;width:100%}@media (max-width: 767px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(2);margin-top:15px}}@media (min-width: 2400px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-55px}}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .gray-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background:linear-gradient(rgba(255,255,255,.1),#fff 99%)}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]{position:absolute;bottom:-20px;left:0;z-index:2;width:100%;padding:0 20px}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{border-radius:50%;width:100px}@media (max-width: 767px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:70px}}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-left:17px}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]{padding:15px;display:flex;justify-content:center;background:#fff;border-radius:0 0 .25rem .25rem}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;transition:all .2s ease}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#727cf5}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .left-wrapper[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:30px;height:30px}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:3px;padding-right:3px}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{transition:all .3s ease-in-out;margin-bottom:6px}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]:hover{transform:scale(1.06)}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:.25rem}.rtl[_ngcontent-%COMP%]   .profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin-left:0;margin-right:17px}.img-xs[_ngcontent-%COMP%]{width:37px;height:37px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}img[_ngcontent-%COMP%]{vertical-align:middle;border-style:none}.card-header[_ngcontent-%COMP%]:first-child{border-radius:0}.card-header[_ngcontent-%COMP%]{padding:.875rem 1.5rem;margin-bottom:0;background-color:#0000;border-bottom:1px solid #f2f4f9}.card-footer[_ngcontent-%COMP%]:last-child{border-radius:0}.card-footer[_ngcontent-%COMP%]{padding:.875rem 1.5rem;background-color:#0000;border-top:1px solid #f2f4f9}.grid-margin[_ngcontent-%COMP%]{margin-bottom:1rem}.card[_ngcontent-%COMP%]{box-shadow:0 0 10px #b7c0ce33;-webkit-box-shadow:0 0 10px 0 rgba(183,192,206,.2);-moz-box-shadow:0 0 10px 0 rgba(183,192,206,.2);-ms-box-shadow:0 0 10px 0 rgba(183,192,206,.2)}.rounded[_ngcontent-%COMP%]{border-radius:.25rem!important}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid #f2f4f9;border-radius:.25rem}"]}),n})();const YP=[{path:"*",component:jT},{path:"home",component:FM},{path:"inicio",component:kM}];let QP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[hw.forRoot(YP)],hw]}),n})();const LM_firebase={projectId:"pucelant",appId:"1:619266595534:web:64b1218210e58a195f4e9f",databaseURL:"https://pucelant-default-rtdb.firebaseio.com",storageBucket:"pucelant.appspot.com",locationId:"us-central",apiKey:"AIzaSyC4Ajx_F7DPo03U2HpDEMnVpY8EVqhZupM",authDomain:"pucelant.firebaseapp.com",messagingSenderId:"619266595534",measurementId:"G-KPQ1Z6V7YF"};let JP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[$T]}),n.\u0275inj=f.cJS({providers:[p0],imports:[[ca,QP,b0,To.hO.initializeApp(LM_firebase),qP,LP,I0]]}),n})();(0,f.G48)(),ol().bootstrapModule(JP).catch(n=>console.error(n))},5867:(nt,De,N)=>{N.d(De,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=N(9681);(0,f.registerVersion)("firebase","9.6.10","app")},127:(nt,De,N)=>{N.d(De,{Z:()=>f.Z});var f=N(3942);f.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(nt,De,N)=>{N.r(De);var f=N(5861),K=N(3942),R=N(2090),oe=N(9681),J=N(655),ge=N(1877),ie=N(4859);const xe=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new ge.Yd("@firebase/auth");function Ge(y,...d){Ke.logLevel<=ge.in.ERROR&&Ke.error(`Auth (${oe.SDK_VERSION}): ${y}`,...d)}function Ie(y,...d){throw Be(y,...d)}function _e(y,...d){return Be(y,...d)}function ve(y,d,g){const v=Object.assign(Object.assign({},Ne()),{[d]:g});return new R.LL("auth","Firebase",v).create(d,{appName:y.name})}function je(y,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&Ie(y,"argument-error"),ve(y,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(y,...d){if("string"!=typeof y){const g=d[0],v=[...d.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(g,...v)}return he.create(y,...d)}function ee(y,d,...g){if(!y)throw Be(d,...g)}function q(y){const d="INTERNAL ASSERTION FAILED: "+y;throw Ge(d),new Error(d)}function te(y,d){y||q(d)}const me=new Map;function ne(y){te(y instanceof Function,"Expected a class definition");let d=me.get(y);return d?(te(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,me.set(y,d),d)}function vt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Kt(){return"http:"===Tn()||"https:"===Tn()}function Tn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class sn{constructor(d,g){this.shortDelay=d,this.longDelay=g,te(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function rt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function on(y,d){te(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class yi{static initialize(d,g,v){this.fetchImpl=d,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Hi=new sn(3e4,6e4);function Yt(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function Lt(y,d,g,v){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,f.Z)(function*(y,d,g,v,T={}){return ei(y,T,(0,f.Z)(function*(){let O={},G={};v&&("GET"===d?G=v:O={body:JSON.stringify(v)});const re=(0,R.xO)(Object.assign({key:y.config.apiKey},G)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),yi.fetch()(Tr(y,y.config.apiHost,g,re),Object.assign({method:d,headers:Le,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function ei(y,d,g){return Es.apply(this,arguments)}function Es(){return(Es=(0,f.Z)(function*(y,d,g){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},Xt),d);try{const T=new Gi(y),O=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const G=yield O.json();if("needConfirmation"in G)throw qi(y,"account-exists-with-different-credential",G);if(O.ok&&!("errorMessage"in G))return G;{const re=O.ok?G.errorMessage:G.error.message,[Le,Ye]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw qi(y,"credential-already-in-use",G);if("EMAIL_EXISTS"===Le)throw qi(y,"email-already-in-use",G);const ft=v[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ye)throw ve(y,ft,Ye);Ie(y,ft)}}catch(T){if(T instanceof R.ZR)throw T;Ie(y,"network-request-failed")}})).apply(this,arguments)}function Dr(y,d,g,v){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,f.Z)(function*(y,d,g,v,T={}){const O=yield Lt(y,d,g,v,T);return"mfaPendingCredential"in O&&Ie(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Tr(y,d,g,v){const T=`${d}${g}?${v}`;return y.config.emulator?on(y.config,T):`${y.config.apiScheme}://${T}`}class Gi{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(_e(this.auth,"network-request-failed")),Hi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qi(y,d,g){const v={appName:y.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const T=_e(y,d,v);return T.customData._tokenResponse=g,T}function kr(){return(kr=(0,f.Z)(function*(y,d){return Lt(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function $n(y,d){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,f.Z)(function*(y,d){return Lt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ti(y,d){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,f.Z)(function*(y,d){return Lt(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function hn(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function ta(){return(ta=(0,f.Z)(function*(y,d=!1){const g=(0,R.m9)(y),v=yield g.getIdToken(d),T=et(v);ee(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const O="object"==typeof T.firebase?T.firebase:void 0,G=null==O?void 0:O.sign_in_provider;return{claims:T,token:v,authTime:hn(Vt(T.auth_time)),issuedAtTime:hn(Vt(T.iat)),expirationTime:hn(Vt(T.exp)),signInProvider:G||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Vt(y){return 1e3*Number(y)}function et(y){const[d,g,v]=y.split(".");if(void 0===d||void 0===g||void 0===v)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,R.tV)(g);return T?JSON.parse(T):(Ge("Failed to decode base64 JWT payload"),null)}catch(T){return Ge("Caught error parsing JWT payload as JSON",T),null}}function Qn(y,d){return Si.apply(this,arguments)}function Si(){return(Si=(0,f.Z)(function*(y,d,g=!1){if(g)return d;try{return yield d}catch(v){throw v instanceof R.ZR&&kt(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}function kt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Qs{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(d);this.timerId=setTimeout((0,f.Z)(function*(){yield g.iteration()}),v)}iteration(){var d=this;return(0,f.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&d.schedule(!0))}d.schedule()})()}}class lr{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=hn(this.lastLoginAt),this.creationTime=hn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jn(y){return at.apply(this,arguments)}function at(){return(at=(0,f.Z)(function*(y){var d;const g=y.auth,v=yield y.getIdToken(),T=yield Qn(y,ti(g,{idToken:v}));ee(null==T?void 0:T.users.length,g,"internal-error");const O=T.users[0];y._notifyReloadListener(O);const G=(null===(d=O.providerUserInfo)||void 0===d?void 0:d.length)?be(O.providerUserInfo):[],re=ze(y.providerData,G),ft=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==re?void 0:re.length)),it={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:re,metadata:new lr(O.createdAt,O.lastLoginAt),isAnonymous:ft};Object.assign(y,it)})).apply(this,arguments)}function Pt(){return(Pt=(0,f.Z)(function*(y){const d=(0,R.m9)(y);yield Jn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function ze(y,d){return[...y.filter(v=>!d.some(T=>T.providerId===v.providerId)),...d]}function be(y){return y.map(d=>{var{providerId:g}=d,v=(0,J._T)(d,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function ut(){return(ut=(0,f.Z)(function*(y,d){const g=yield ei(y,{},(0,f.Z)(function*(){const v=(0,R.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:T,apiKey:O}=y.config,G=Tr(y,T,"/v1/token",`key=${O}`),re=yield y._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",yi.fetch()(G,{method:"POST",headers:re,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ee(d.idToken,"internal-error"),ee(void 0!==d.idToken,"internal-error"),ee(void 0!==d.refreshToken,"internal-error");const g="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function mt(y){const d=et(y);return ee(d,"internal-error"),ee(void 0!==d.exp,"internal-error"),ee(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var v=this;return(0,f.Z)(function*(){return ee(!v.accessToken||v.refreshToken,d,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(d,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var v=this;return(0,f.Z)(function*(){const{accessToken:T,refreshToken:O,expiresIn:G}=yield function Ze(y,d){return ut.apply(this,arguments)}(d,g);v.updateTokensAndExpiration(T,O,Number(G))})()}updateTokensAndExpiration(d,g,v){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(d,g){const{refreshToken:v,accessToken:T,expirationTime:O}=g,G=new Rt;return v&&(ee("string"==typeof v,"internal-error",{appName:d}),G.refreshToken=v),T&&(ee("string"==typeof T,"internal-error",{appName:d}),G.accessToken=T),O&&(ee("number"==typeof O,"internal-error",{appName:d}),G.expirationTime=O),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Rt,this.toJSON())}_performRefresh(){return q("not implemented")}}function Mt(y,d){ee("string"==typeof y||void 0===y,"internal-error",{appName:d})}class U{constructor(d){var{uid:g,auth:v,stsTokenManager:T}=d,O=(0,J._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new lr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,f.Z)(function*(){const v=yield Qn(g,g.stsTokenManager.getToken(g.auth,d));return ee(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(d){return function Cs(y){return ta.apply(this,arguments)}(this,d)}reload(){return function cr(y){return Pt.apply(this,arguments)}(this)}_assign(d){this!==d&&(ee(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new U(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var v=this;return(0,f.Z)(function*(){let T=!1;d.idToken&&d.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(d),T=!0),g&&(yield Jn(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var d=this;return(0,f.Z)(function*(){const g=yield d.getIdToken();return yield Qn(d,function st(y,d){return kr.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var v,T,O,G,re,Le,Ye,ft;const it=null!==(v=g.displayName)&&void 0!==v?v:void 0,bn=null!==(T=g.email)&&void 0!==T?T:void 0,ki=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,Eu=null!==(G=g.photoURL)&&void 0!==G?G:void 0,Vl=null!==(re=g.tenantId)&&void 0!==re?re:void 0,Ul=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,mf=null!==(Ye=g.createdAt)&&void 0!==Ye?Ye:void 0,Ny=null!==(ft=g.lastLoginAt)&&void 0!==ft?ft:void 0,{uid:jo,emailVerified:Bl,isAnonymous:Ot,providerData:yf,stsTokenManager:Io}=g;ee(jo&&Io,d,"internal-error");const mg=Rt.fromJSON(this.name,Io);ee("string"==typeof jo,d,"internal-error"),Mt(it,d.name),Mt(bn,d.name),ee("boolean"==typeof Bl,d,"internal-error"),ee("boolean"==typeof Ot,d,"internal-error"),Mt(ki,d.name),Mt(Eu,d.name),Mt(Vl,d.name),Mt(Ul,d.name),Mt(mf,d.name),Mt(Ny,d.name);const jl=new U({uid:jo,auth:d,email:bn,emailVerified:Bl,displayName:it,isAnonymous:Ot,photoURL:Eu,phoneNumber:ki,tenantId:Vl,stsTokenManager:mg,createdAt:mf,lastLoginAt:Ny});return yf&&Array.isArray(yf)&&(jl.providerData=yf.map(ky=>Object.assign({},ky))),Ul&&(jl._redirectEventId=Ul),jl}static _fromIdTokenResponse(d,g,v=!1){return(0,f.Z)(function*(){const T=new Rt;T.updateFromServerResponse(g);const O=new U({uid:g.localId,auth:d,stsTokenManager:T,isAnonymous:v});return yield Jn(O),O})()}}const $=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(g,v){var T=this;return(0,f.Z)(function*(){T.storage[g]=v})()}_get(g){var v=this;return(0,f.Z)(function*(){const T=v.storage[g];return void 0===T?null:T})()}_remove(g){var v=this;return(0,f.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return y.type="NONE",y})();function le(y,d,g){return`firebase:${y}:${d}:${g}`}class Y{constructor(d,g,v){this.persistence=d,this.auth=g,this.userKey=v;const{config:T,name:O}=this.auth;this.fullUserKey=le(this.userKey,T.apiKey,O),this.fullPersistenceKey=le("persistence",T.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,f.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?U._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,f.Z)(function*(){if(g.persistence===d)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,v="authUser"){return(0,f.Z)(function*(){if(!g.length)return new Y(ne($),d,v);const T=(yield Promise.all(g.map(function(){var Ye=(0,f.Z)(function*(ft){if(yield ft._isAvailable())return ft});return function(ft){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let O=T[0]||ne($);const G=le(v,d.config.apiKey,d.name);let re=null;for(const Ye of g)try{const ft=yield Ye._get(G);if(ft){const it=U._fromJSON(d,ft);Ye!==O&&(re=it),O=Ye;break}}catch(ft){}const Le=T.filter(Ye=>Ye._shouldAllowMigration);return O._shouldAllowMigration&&Le.length?(O=Le[0],re&&(yield O._set(G,re.toJSON())),yield Promise.all(g.map(function(){var Ye=(0,f.Z)(function*(ft){if(ft!==O)try{yield ft._remove(G)}catch(it){}});return function(ft){return Ye.apply(this,arguments)}}())),new Y(O,d,v)):new Y(O,d,v)})()}}function Fe(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Ut(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ht(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Tt(d))return"Blackberry";if(an(d))return"Webos";if(qt(d))return"Safari";if((d.includes("chrome/")||dr(d))&&!d.includes("edge/"))return"Chrome";if(En(d))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function ht(y=(0,R.z$)()){return/firefox\//i.test(y)}function qt(y=(0,R.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function dr(y=(0,R.z$)()){return/crios\//i.test(y)}function Ut(y=(0,R.z$)()){return/iemobile/i.test(y)}function En(y=(0,R.z$)()){return/android/i.test(y)}function Tt(y=(0,R.z$)()){return/blackberry/i.test(y)}function an(y=(0,R.z$)()){return/webos/i.test(y)}function Gn(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)}function zi(y=(0,R.z$)()){return Gn(y)||En(y)||an(y)||Tt(y)||/windows phone/i.test(y)||Ut(y)}function ra(y,d=[]){let g;switch(y){case"Browser":g=Fe((0,R.z$)());break;case"Worker":g=`${Fe((0,R.z$)())}-${y}`;break;default:g=y}const v=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${oe.SDK_VERSION}/${v}`}class ni{constructor(d,g,v){this.app=d,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new St(this),this.idTokenSubscription=new St(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(d,g){var v=this;return g&&(this._popupRedirectResolver=ne(g)),this._initializationPromise=this.queue((0,f.Z)(function*(){var T,O;if(!v._deleted&&(v.persistenceManager=yield Y.create(v,d),!v._deleted)){if(null===(T=v._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(G){}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(O=v.currentUser)||void 0===O?void 0:O.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,f.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g)}})()}initializeCurrentUser(d){var g=this;return(0,f.Z)(function*(){var v;let T=yield g.assertedPersistence.getCurrentUser();if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const O=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,G=null==T?void 0:T._redirectEventId,re=yield g.tryRedirectSignIn(d);(!O||O===G)&&(null==re?void 0:re.user)&&(T=re.user)}return T?T._redirectEventId?(ee(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)):g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var g=this;return(0,f.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch(T){yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,f.Z)(function*(){try{yield Jn(d)}catch(v){if("auth/network-request-failed"!==v.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function dt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,f.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,f.Z)(function*(){const v=d?(0,R.m9)(d):null;return v&&ee(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(d){var g=this;return(0,f.Z)(function*(){if(!g._deleted)return d&&ee(g.tenantId===d.tenantId,g,"tenant-id-mismatch"),g.queue((0,f.Z)(function*(){yield g.directlySetCurrentUser(d),g.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,f.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var g=this;return this.queue((0,f.Z)(function*(){yield g.assertedPersistence.setPersistence(ne(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new R.LL("auth","Firebase",d())}onAuthStateChanged(d,g,v){return this.registerStateListener(this.authStateSubscription,d,g,v)}onIdTokenChanged(d,g,v){return this.registerStateListener(this.idTokenSubscription,d,g,v)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var v=this;return(0,f.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(g);return null===d?T.removeCurrentUser():T.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,f.Z)(function*(){if(!g.redirectPersistenceManager){const v=d&&ne(d)||g._popupRedirectResolver;ee(v,g,"argument-error"),g.redirectPersistenceManager=yield Y.create(g,[ne(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,f.Z)(function*(){var v,T;return g._isInitialized&&(yield g.queue((0,f.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===d?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,f.Z)(function*(){if(d===g.currentUser)return g.queue((0,f.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,v,T){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),G=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(G,this,"internal-error"),G.then(()=>O(this.currentUser)),"function"==typeof g?d.addObserver(g,v,T):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,f.Z)(function*(){g.currentUser&&g.currentUser!==d&&(g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh()),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=ra(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,f.Z)(function*(){var g;const v={"X-Client-Version":d.clientVersion};d.app.options.appId&&(v["X-Firebase-gmpid"]=d.app.options.appId);const T=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return T&&(v["X-Firebase-Client"]=T),v})()}}function Oe(y){return(0,R.m9)(y)}class St{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xn(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function xn(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class en{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return q("not implemented")}_getIdTokenResponse(d){return q("not implemented")}_linkToIdToken(d,g){return q("not implemented")}_getReauthenticationResolver(d){return q("not implemented")}}function An(y,d){return bs.apply(this,arguments)}function bs(){return(bs=(0,f.Z)(function*(y,d){return Lt(y,"POST","/v1/accounts:resetPassword",Yt(y,d))})).apply(this,arguments)}function bt(y,d){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,f.Z)(function*(y,d){return Lt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ds(y,d){return ia.apply(this,arguments)}function ia(){return(ia=(0,f.Z)(function*(y,d){return Lt(y,"POST","/v1/accounts:update",Yt(y,d))})).apply(this,arguments)}function er(){return(er=(0,f.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithPassword",Yt(y,d))})).apply(this,arguments)}function Wi(y,d){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,f.Z)(function*(y,d){return Lt(y,"POST","/v1/accounts:sendOobCode",Yt(y,d))})).apply(this,arguments)}function Fr(y,d){return tn.apply(this,arguments)}function tn(){return(tn=(0,f.Z)(function*(y,d){return Wi(y,d)})).apply(this,arguments)}function Ga(y,d){return qa.apply(this,arguments)}function qa(){return(qa=(0,f.Z)(function*(y,d){return Wi(y,d)})).apply(this,arguments)}function _i(y,d){return ri.apply(this,arguments)}function ri(){return(ri=(0,f.Z)(function*(y,d){return Wi(y,d)})).apply(this,arguments)}function Rc(y,d){return As.apply(this,arguments)}function As(){return(As=(0,f.Z)(function*(y,d){return Wi(y,d)})).apply(this,arguments)}function Lr(){return(Lr=(0,f.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,d))})).apply(this,arguments)}function Nc(){return(Nc=(0,f.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,d))})).apply(this,arguments)}class Wa extends en{constructor(d,g,v,T=null){super("password",v),this._email=d,this._password=g,this._tenantId=T}static _fromEmailAndPassword(d,g){return new Wa(d,g,"password")}static _fromEmailAndCode(d,g,v=null){return new Wa(d,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,f.Z)(function*(){switch(g.signInMethod){case"password":return function Ts(y,d){return er.apply(this,arguments)}(d,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function za(y,d){return Lr.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:Ie(d,"internal-error")}})()}_linkToIdToken(d,g){var v=this;return(0,f.Z)(function*(){switch(v.signInMethod){case"password":return bt(d,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Nh(y,d){return Nc.apply(this,arguments)}(d,{idToken:g,email:v._email,oobCode:v._password});default:Ie(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function On(y,d){return kc.apply(this,arguments)}function kc(){return(kc=(0,f.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithIdp",Yt(y,d))})).apply(this,arguments)}class Ki extends en{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new Ki(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:T}=g,O=(0,J._T)(g,["providerId","signInMethod"]);if(!v||!T)return null;const G=new Ki(v,T);return G.idToken=O.idToken||void 0,G.accessToken=O.accessToken||void 0,G.secret=O.secret,G.nonce=O.nonce,G.pendingToken=O.pendingToken||null,G}_getIdTokenResponse(d){return On(d,this.buildRequest())}_linkToIdToken(d,g){const v=this.buildRequest();return v.idToken=g,On(d,v)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,On(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,R.xO)(g)}return d}}function $p(y,d){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,f.Z)(function*(y,d){return Lt(y,"POST","/v1/accounts:sendVerificationCode",Yt(y,d))})).apply(this,arguments)}function Ss(){return(Ss=(0,f.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,d))})).apply(this,arguments)}function Lc(){return(Lc=(0,f.Z)(function*(y,d){const g=yield Dr(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,d));if(g.temporaryProof)throw qi(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Gp={USER_NOT_FOUND:"user-not-found"};function Vc(){return(Vc=(0,f.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Gp)})).apply(this,arguments)}class xo extends en{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new xo({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new xo({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function Yu(y,d){return Ss.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function Hp(y,d){return Lc.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function qp(y,d){return Vc.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:v,verificationCode:T}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:v,code:T}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:v,phoneNumber:T,temporaryProof:O}=d;return v||g||T||O?new xo({verificationId:g,verificationCode:v,phoneNumber:T,temporaryProof:O}):null}}class Xs{constructor(d){var g,v,T,O,G,re;const Le=(0,R.zd)((0,R.pd)(d)),Ye=null!==(g=Le.apiKey)&&void 0!==g?g:null,ft=null!==(v=Le.oobCode)&&void 0!==v?v:null,it=function yy(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Le.mode)&&void 0!==T?T:null);ee(Ye&&ft&&it,"argument-error"),this.apiKey=Ye,this.operation=it,this.code=ft,this.continueUrl=null!==(O=Le.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(G=Le.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(re=Le.tenantId)&&void 0!==re?re:null}static parseLink(d){const g=function Za(y){const d=(0,R.zd)((0,R.pd)(y)).link,g=d?(0,R.zd)((0,R.pd)(d)).deep_link_id:null,v=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(v?(0,R.zd)((0,R.pd)(v)).link:null)||v||g||d||y}(d);try{return new Xs(g)}catch(v){return null}}}let Qu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,v){return Wa._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const T=Xs.parseLink(v);return ee(T,"argument-error"),Wa._fromEmailAndCode(g,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ms{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Vr extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Oo extends Vr{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return ee("providerId"in g&&"signInMethod"in g,"argument-error"),Ki._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ee(d.idToken||d.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Oo.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Oo.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:O,nonce:G,providerId:re}=d;if(!v&&!T&&!g&&!O||!re)return null;try{return new Oo(re)._credential({idToken:g,accessToken:v,nonce:G,pendingToken:O})}catch(Le){return null}}}let eo=(()=>{class y extends Vr{constructor(){super("facebook.com")}static credential(g){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(v){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),sa=(()=>{class y extends Vr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:T}=g;if(!v&&!T)return null;try{return y.credential(v,T)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Uc=(()=>{class y extends Vr{constructor(){super("github.com")}static credential(g){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(v){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Po extends en{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return On(d,this.buildRequest())}_linkToIdToken(d,g){const v=this.buildRequest();return v.idToken=g,On(d,v)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,On(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:T,pendingToken:O}=g;return v&&T&&O&&v===T?new Po(v,O):null}static _create(d,g){return new Po(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ii extends Ms{constructor(d){ee(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return ii.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return ii.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=Po.fromJSON(d);return ee(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:v}=d;if(!g||!v)return null;try{return Po._create(v,g)}catch(T){return null}}}let Ka=(()=>{class y extends Vr{constructor(){super("twitter.com")}static credential(g,v){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=g;if(!v||!T)return null;try{return y.credential(v,T)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ya(y,d){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,f.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signUp",Yt(y,d))})).apply(this,arguments)}class tr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,v,T=!1){return(0,f.Z)(function*(){const O=yield U._fromIdTokenResponse(d,v,T),G=Fh(v);return new tr({user:O,providerId:G,_tokenResponse:v,operationType:g})})()}static _forOperation(d,g,v){return(0,f.Z)(function*(){yield d._updateTokensIfNecessary(v,!0);const T=Fh(v);return new tr({user:d,providerId:T,_tokenResponse:v,operationType:g})})()}}function Fh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Bc(){return(Bc=(0,f.Z)(function*(y){var d;const g=Oe(y);if(yield g._initializationPromise,null===(d=g.currentUser)||void 0===d?void 0:d.isAnonymous)return new tr({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield Ya(g,{returnSecureToken:!0}),T=yield tr._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ja extends R.ZR{constructor(d,g,v,T){var O;super(g.code,g.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,Ja.prototype),this.customData={appName:d.name,tenantId:null!==(O=d.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(d,g,v,T){return new Ja(d,g,v,T)}}function Xa(y,d,g,v){return("reauthenticate"===d?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Ja._fromErrorAndOperation(y,O,d,v):O})}function Yi(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function Ju(){return(Ju=(0,f.Z)(function*(y,d){const g=(0,R.m9)(y);yield Os(!0,g,d);const{providerUserInfo:v}=yield $n(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),T=Yi(v||[]);return g.providerData=g.providerData.filter(O=>T.has(O.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function cn(y,d){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,f.Z)(function*(y,d,g=!1){const v=yield Qn(y,d._linkToIdToken(y.auth,yield y.getIdToken()),g);return tr._forOperation(y,"link",v)})).apply(this,arguments)}function Os(y,d,g){return nn.apply(this,arguments)}function nn(){return(nn=(0,f.Z)(function*(y,d,g){yield Jn(d);const T=!1===y?"provider-already-linked":"no-such-provider";ee(Yi(d.providerData).has(g)===y,d.auth,T)})).apply(this,arguments)}function jc(y,d){return to.apply(this,arguments)}function to(){return(to=(0,f.Z)(function*(y,d,g=!1){const{auth:v}=y,T="reauthenticate";try{const O=yield Qn(y,Xa(v,T,d,y),g);ee(O.idToken,v,"internal-error");const G=et(O.idToken);ee(G,v,"internal-error");const{sub:re}=G;return ee(y.uid===re,v,"user-mismatch"),tr._forOperation(y,T,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Ie(v,"user-mismatch"),O}})).apply(this,arguments)}function no(y,d){return hr.apply(this,arguments)}function hr(){return(hr=(0,f.Z)(function*(y,d,g=!1){const v="signIn",T=yield Xa(y,v,d),O=yield tr._fromIdTokenResponse(y,v,T);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Sn(y,d){return aa.apply(this,arguments)}function aa(){return(aa=(0,f.Z)(function*(y,d){return no(Oe(y),d)})).apply(this,arguments)}function vi(y,d){return fr.apply(this,arguments)}function fr(){return(fr=(0,f.Z)(function*(y,d){const g=(0,R.m9)(y);return yield Os(!1,g,d.providerId),cn(g,d)})).apply(this,arguments)}function Ps(y,d){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,f.Z)(function*(y,d){return jc((0,R.m9)(y),d)})).apply(this,arguments)}function eu(y,d){return Br.apply(this,arguments)}function Br(){return(Br=(0,f.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithCustomToken",Yt(y,d))})).apply(this,arguments)}function Ns(){return(Ns=(0,f.Z)(function*(y,d){const g=Oe(y),v=yield eu(g,{token:d,returnSecureToken:!0}),T=yield tr._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class lt{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?tu._fromServerResponse(d,g):Ie(d,"internal-error")}}class tu extends lt{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new tu(g)}}function ua(y,d,g){var v;ee((null===(v=g.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),ee(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ee(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(ee(g.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function ru(){return(ru=(0,f.Z)(function*(y,d,g){const v=(0,R.m9)(y),T={requestType:"PASSWORD_RESET",email:d};g&&ua(v,T,g),yield Ga(v,T)})).apply(this,arguments)}function Xu(){return(Xu=(0,f.Z)(function*(y,d,g){yield An((0,R.m9)(y),{oobCode:d,newPassword:g})})).apply(this,arguments)}function Ce(){return(Ce=(0,f.Z)(function*(y,d){yield Ds((0,R.m9)(y),{oobCode:d})})).apply(this,arguments)}function xt(y,d){return tl.apply(this,arguments)}function tl(){return(tl=(0,f.Z)(function*(y,d){const g=(0,R.m9)(y),v=yield An(g,{oobCode:d}),T=v.requestType;switch(ee(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(v.mfaInfo,g,"internal-error");default:ee(v.email,g,"internal-error")}let O=null;return v.mfaInfo&&(O=lt._fromServerResponse(Oe(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:O},operation:T}})).apply(this,arguments)}function No(){return(No=(0,f.Z)(function*(y,d){const{data:g}=yield xt((0,R.m9)(y),d);return g.email})).apply(this,arguments)}function jr(){return(jr=(0,f.Z)(function*(y,d,g){const v=Oe(y),T=yield Ya(v,{returnSecureToken:!0,email:d,password:g}),O=yield tr._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(O.user),O})).apply(this,arguments)}function $c(){return($c=(0,f.Z)(function*(y,d,g){const v=(0,R.m9)(y),T={requestType:"EMAIL_SIGNIN",email:d};ee(g.handleCodeInApp,v,"argument-error"),g&&ua(v,T,g),yield _i(v,T)})).apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(y,d,g){const v=(0,R.m9)(y),T=Qu.credentialWithLink(d,g||vt());return ee(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Sn(v,T)})).apply(this,arguments)}function nr(y,d){return si.apply(this,arguments)}function si(){return(si=(0,f.Z)(function*(y,d){return Lt(y,"POST","/v1/accounts:createAuthUri",Yt(y,d))})).apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(y,d){const v={identifier:d,continueUri:Kt()?vt():"http://localhost"},{signinMethods:T}=yield nr((0,R.m9)(y),v);return T||[]})).apply(this,arguments)}function sl(){return(sl=(0,f.Z)(function*(y,d){const g=(0,R.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&ua(g.auth,T,d);const{email:O}=yield Fr(g.auth,T);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function uu(){return(uu=(0,f.Z)(function*(y,d,g){const v=(0,R.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};g&&ua(v.auth,O,g);const{email:G}=yield Rc(v.auth,O);G!==y.email&&(yield y.reload())})).apply(this,arguments)}function ol(y,d){return la.apply(this,arguments)}function la(){return(la=(0,f.Z)(function*(y,d){return Lt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function al(){return(al=(0,f.Z)(function*(y,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const v=(0,R.m9)(y),O={idToken:yield v.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},G=yield Qn(v,ol(v.auth,O));v.displayName=G.displayName||null,v.photoURL=G.photoUrl||null;const re=v.providerData.find(({providerId:Le})=>"password"===Le);re&&(re.displayName=v.displayName,re.photoURL=v.photoURL),yield v._updateTokensIfNecessary(G)})).apply(this,arguments)}function ll(y,d,g){return ro.apply(this,arguments)}function ro(){return(ro=(0,f.Z)(function*(y,d,g){const{auth:v}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(O.email=d),g&&(O.password=g);const G=yield Qn(y,bt(v,O));yield y._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class io{constructor(d,g,v={}){this.isNewUser=d,this.providerId=g,this.profile=v}}class qc extends io{constructor(d,g,v,T){super(d,g,v),this.username=T}}class zc extends io{constructor(d,g){super(d,"facebook.com",g)}}class so extends qc{constructor(d,g){super(d,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Ls extends io{constructor(d,g){super(d,"google.com",g)}}class cl extends qc{constructor(d,g,v){super(d,"twitter.com",g,v)}}function pr(y){const{user:d,_tokenResponse:g}=y;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Gc(y){var d,g;if(!y)return null;const{providerId:v}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&(null==y?void 0:y.idToken)){const G=null===(g=null===(d=et(y.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(G)return new io(O,"anonymous"!==G&&"custom"!==G?G:null)}if(!v)return null;switch(v){case"facebook.com":return new zc(O,T);case"github.com":return new so(O,T);case"google.com":return new Ls(O,T);case"twitter.com":return new cl(O,T,y.screenName||null);case"custom":case"anonymous":return new io(O,null);default:return new io(O,v,T)}}(g)}class Ji{constructor(d,g){this.type=d,this.credential=g}static _fromIdtoken(d){return new Ji("enroll",d)}static _fromMfaPendingCredential(d){return new Ji("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,v;if(null==d?void 0:d.multiFactorSession){if(null===(g=d.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Ji._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(v=d.multiFactorSession)||void 0===v?void 0:v.idToken)return Ji._fromIdtoken(d.multiFactorSession.idToken)}return null}}class da{constructor(d,g,v){this.session=d,this.hints=g,this.signInResolver=v}static _fromError(d,g){const v=Oe(d),T=g.customData._serverResponse,O=(T.mfaInfo||[]).map(re=>lt._fromServerResponse(v,re));ee(T.mfaPendingCredential,v,"internal-error");const G=Ji._fromMfaPendingCredential(T.mfaPendingCredential);return new da(G,O,function(){var re=(0,f.Z)(function*(Le){const Ye=yield Le._process(v,G);delete T.mfaInfo,delete T.mfaPendingCredential;const ft=Object.assign(Object.assign({},T),{idToken:Ye.idToken,refreshToken:Ye.refreshToken});switch(g.operationType){case"signIn":const it=yield tr._fromIdTokenResponse(v,g.operationType,ft);return yield v._updateCurrentUser(it.user),it;case"reauthenticate":return ee(g.user,v,"internal-error"),tr._forOperation(g.user,g.operationType,ft);default:Ie(v,"internal-error")}});return function(Le){return re.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,f.Z)(function*(){return g.signInResolver(d)})()}}function Pn(y,d){return Lt(y,"POST","/v2/accounts/mfaEnrollment:start",Yt(y,d))}class Xi{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>lt._fromServerResponse(d.auth,v)))})}static _fromUser(d){return new Xi(d)}getSession(){var d=this;return(0,f.Z)(function*(){return Ji._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,g){var v=this;return(0,f.Z)(function*(){const T=d,O=yield v.getSession(),G=yield Qn(v.user,T._process(v.user.auth,O,g));return yield v.user._updateTokensIfNecessary(G),v.user.reload()})()}unenroll(d){var g=this;return(0,f.Z)(function*(){const v="string"==typeof d?d:d.uid,T=yield g.user.getIdToken(),O=yield Qn(g.user,function Wp(y,d){return Lt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(y,d))}(g.user.auth,{idToken:T,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:G})=>G!==v),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(G){if("auth/user-token-expired"!==G.code)throw G}})()}}const Fo=new WeakMap,fl="__sak";class oo{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(fl,"1"),this.storage.removeItem(fl),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const gn=(()=>{class y extends oo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yc(){const y=(0,R.z$)();return qt(y)||Gn(y)}()&&function kn(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=zi(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),O=this.localCache[v];T!==O&&g(v,O,T)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((re,Le,Ye)=>{this.notifyListeners(re,Ye)});const T=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(T);if(g.newValue!==re)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!v)return}const O=()=>{const re=this.storage.getItem(T);!v&&this.localCache[T]===re||this.notifyListeners(T,re)},G=this.storage.getItem(T);!function na(){return(0,R.w1)()&&10===document.documentMode}()||G===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,v){this.localCache[g]=v;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var T=()=>super._set,O=this;return(0,f.Z)(function*(){yield T().call(O,g,v),O.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,T=this;return(0,f.Z)(function*(){const O=yield v().call(T,g);return T.localCache[g]=JSON.stringify(O),O})()}_remove(g){var v=()=>super._remove,T=this;return(0,f.Z)(function*(){yield v().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),es=(()=>{class y extends oo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return y.type="SESSION",y})();let ha=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(O=>O.isListeningto(g));if(v)return v;const T=new y(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,f.Z)(function*(){const T=g,{eventId:O,eventType:G,data:re}=T.data,Le=v.handlersMap[G];if(!(null==Le?void 0:Le.size))return;T.ports[0].postMessage({status:"ack",eventId:O,eventType:G});const Ye=Array.from(Le).map(function(){var it=(0,f.Z)(function*(bn){return bn(T.origin,re)});return function(bn){return it.apply(this,arguments)}}()),ft=yield function gl(y){return Promise.all(y.map(function(){var d=(0,f.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return d.apply(this,arguments)}}()))}(Ye);T.ports[0].postMessage({status:"done",eventId:O,eventType:G,response:ft})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ao(y="",d=10){let g="";for(let v=0;v<d;v++)g+=Math.floor(10*Math.random());return y+g}class Qc{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,v=50){var T=this;return(0,f.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let G,re;return new Promise((Le,Ye)=>{const ft=ao("",20);O.port1.start();const it=setTimeout(()=>{Ye(new Error("unsupported_event"))},v);re={messageChannel:O,onMessage(bn){const ki=bn;if(ki.data.eventId===ft)switch(ki.data.status){case"ack":clearTimeout(it),G=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),Le(ki.data.response);break;default:clearTimeout(it),clearTimeout(G),Ye(new Error("invalid_response"))}}},T.handlers.add(re),O.port1.addEventListener("message",re.onMessage),T.target.postMessage({eventType:d,eventId:ft,data:g},[O.port2])}).finally(()=>{re&&T.removeMessageHandler(re)})})()}}function Qt(){return window}function mn(){return void 0!==Qt().WorkerGlobalScope&&"function"==typeof Qt().importScripts}function Us(){return(Us=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const cu="firebaseLocalStorageDb",uo="firebaseLocalStorage",oi="fbase_key";class Fn{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Vo(y,d){return y.transaction([uo],d?"readwrite":"readonly").objectStore(uo)}function lo(){const y=indexedDB.open(cu,1);return new Promise((d,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(uo,{keyPath:oi})}catch(T){g(T)}}),y.addEventListener("success",(0,f.Z)(function*(){const v=y.result;v.objectStoreNames.contains(uo)?d(v):(v.close(),yield function $r(){const y=indexedDB.deleteDatabase(cu);return new Fn(y).toPromise()}(),d(yield lo()))}))})}function yl(y,d,g){return co.apply(this,arguments)}function co(){return(co=(0,f.Z)(function*(y,d,g){const v=Vo(y,!0).put({[oi]:d,value:g});return new Fn(v).toPromise()})).apply(this,arguments)}function ai(){return(ai=(0,f.Z)(function*(y,d){const g=Vo(y,!1).get(d),v=yield new Fn(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Bs(y,d){const g=Vo(y,!0).delete(d);return new Fn(g).toPromise()}const ts=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,f.Z)(function*(){return g.db||(g.db=yield lo()),g.db})()}_withRetries(g){var v=this;return(0,f.Z)(function*(){let T=0;for(;;)try{const O=yield v._openDb();return yield g(O)}catch(O){if(T++>3)throw O;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,f.Z)(function*(){return mn()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,f.Z)(function*(){g.receiver=ha._getInstance(function ml(){return mn()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,f.Z)(function*(T,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(T,O){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,f.Z)(function*(T,O){return["keyChanged"]});return function(T,O){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,f.Z)(function*(){var v,T;if(g.activeServiceWorker=yield function Dt(){return Us.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Qc(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(v=O[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=O[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,f.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Kp(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const g=yield lo();return yield yl(g,fl,"1"),yield Bs(g,fl),!0}catch(g){}return!1})()}_withPendingWrite(g){var v=this;return(0,f.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var T=this;return(0,f.Z)(function*(){return T._withPendingWrite((0,f.Z)(function*(){return yield T._withRetries(O=>yl(O,g,v)),T.localCache[g]=v,T.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,f.Z)(function*(){const T=yield v._withRetries(O=>function ho(y,d){return ai.apply(this,arguments)}(O,g));return v.localCache[g]=T,T})()}_remove(g){var v=this;return(0,f.Z)(function*(){return v._withPendingWrite((0,f.Z)(function*(){return yield v._withRetries(T=>Bs(T,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,f.Z)(function*(){const v=yield g._withRetries(G=>{const re=Vo(G,!1).getAll();return new Fn(re).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const T=[],O=new Set;for(const{fbase_key:G,value:re}of v)O.add(G),JSON.stringify(g.localCache[G])!==JSON.stringify(re)&&(g.notifyListeners(G,re),T.push(G));for(const G of Object.keys(g.localCache))g.localCache[G]&&!O.has(G)&&(g.notifyListeners(G,null),T.push(G));return T})()}notifyListeners(g,v){this.localCache[g]=v;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Jc(y,d){return Lt(y,"POST","/v2/accounts/mfaSignIn:start",Yt(y,d))}function Ei(){return(Ei=(0,f.Z)(function*(y){return(yield Lt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function po(y){return new Promise((d,g)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=d,v.onerror=T=>{const O=_e("internal-error");O.customData=T,g(O)},v.type="text/javascript",v.charset="UTF-8",function wl(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(v)})}function pa(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ui=1e12;class Xc{constructor(d){this.auth=d,this.counter=ui,this._widgets=new Map}render(d,g){const v=this.counter;return this._widgets.set(v,new du(d,this.auth.name,g||{})),this.counter++,v}reset(d){var g;const v=d||ui;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(d){var g;return(null===(g=this._widgets.get(d||ui))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,f.Z)(function*(){var v;return null===(v=g._widgets.get(d||ui))||void 0===v||v.execute(),""})()}}class du{constructor(d,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof d?document.getElementById(d):d;ee(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function go(y){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hu=pa("rcb"),Uh=new sn(3e4,6e4);class ed{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Qt().grecaptcha}load(d,g=""){return ee(function Yp(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),d,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Qt().grecaptcha):new Promise((v,T)=>{const O=Qt().setTimeout(()=>{T(_e(d,"network-request-failed"))},Uh.get());Qt()[hu]=()=>{Qt().clearTimeout(O),delete Qt()[hu];const re=Qt().grecaptcha;if(!re)return void T(_e(d,"internal-error"));const Le=re.render;re.render=(Ye,ft)=>{const it=Le(Ye,ft);return this.counter++,it},this.hostLanguage=g,v(re)},po(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:hu,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),T(_e(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!Qt().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class td{load(d){return(0,f.Z)(function*(){return new Xc(d)})()}clearedOneInstance(){}}const El="recaptcha",nd={theme:"light",type:"image"};class Bh{constructor(d,g=Object.assign({},nd),v){this.parameters=g,this.type=El,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oe(v),this.isInvisible="invisible"===this.parameters.size,ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof d?document.getElementById(d):d;ee(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new td:new ed,this.validateStartingState()}verify(){var d=this;return(0,f.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),v=d.getAssertedRecaptcha();return v.getResponse(g)||new Promise(O=>{const G=re=>{!re||(d.tokenChangeListeners.delete(G),O(re))};d.tokenChangeListeners.add(G),d.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof d)d(g);else if("string"==typeof d){const v=Qt()[d];"function"==typeof v&&v(g)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,f.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,f.Z)(function*(){ee(Kt()&&!mn(),d.auth,"internal-error"),yield function rd(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function vl(y){return Ei.apply(this,arguments)}(d.auth);ee(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xi{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=xo._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function yn(){return(yn=(0,f.Z)(function*(y,d,g){const v=Oe(y),T=yield Sr(v,d,(0,R.m9)(g));return new xi(T,O=>Sn(v,O))})).apply(this,arguments)}function Hr(){return(Hr=(0,f.Z)(function*(y,d,g){const v=(0,R.m9)(y);yield Os(!1,v,"phone");const T=yield Sr(v.auth,d,(0,R.m9)(g));return new xi(T,O=>vi(v,O))})).apply(this,arguments)}function pu(){return(pu=(0,f.Z)(function*(y,d,g){const v=(0,R.m9)(y),T=yield Sr(v.auth,d,(0,R.m9)(g));return new xi(T,O=>Ps(v,O))})).apply(this,arguments)}function Sr(y,d,g){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,f.Z)(function*(y,d,g){var v;const T=yield g.verify();try{let O;if(ee("string"==typeof T,y,"argument-error"),ee(g.type===El,y,"argument-error"),O="string"==typeof d?{phoneNumber:d}:d,"session"in O){const G=O.session;if("phoneNumber"in O)return ee("enroll"===G.type,y,"internal-error"),(yield Pn(y,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ee("signin"===G.type,y,"internal-error");const re=(null===(v=O.multiFactorHint)||void 0===v?void 0:v.uid)||O.multiFactorUid;return ee(re,y,"missing-multi-factor-info"),(yield Jc(y,{mfaPendingCredential:G.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield $p(y,{phoneNumber:O.phoneNumber,recaptchaToken:T});return G}}finally{g._reset()}})).apply(this,arguments)}function Oi(){return(Oi=(0,f.Z)(function*(y,d){yield cn((0,R.m9)(y),d)})).apply(this,arguments)}let Gr=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Oe(g)}verifyPhoneNumber(g,v){return Sr(this.auth,g,(0,R.m9)(v))}static credential(g,v){return xo._fromVerification(g,v)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:T}=g;return v&&T?xo._fromTokenResponse(v,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function qr(y,d){return d?ne(d):(ee(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ga extends en{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return On(d,this._buildIdpRequest())}_linkToIdToken(d,g){return On(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return On(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function ma(y){return no(y.auth,new ga(y),y.bypassAuthState)}function id(y){const{auth:d,user:g}=y;return ee(g,d,"internal-error"),jc(g,new ga(y),y.bypassAuthState)}function $h(y){return sd.apply(this,arguments)}function sd(){return(sd=(0,f.Z)(function*(y){const{auth:d,user:g}=y;return ee(g,d,"internal-error"),cn(g,new ga(y),y.bypassAuthState)})).apply(this,arguments)}class li{constructor(d,g,v,T,O=!1){this.auth=d,this.resolver=v,this.user=T,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,f.Z)(function*(v,T){d.pendingPromise={resolve:v,reject:T};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(O){d.reject(O)}});return function(v,T){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,f.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:O,tenantId:G,error:re,type:Le}=d;if(re)return void g.reject(re);const Ye={auth:g.auth,requestUri:v,sessionId:T,tenantId:G||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(Ye))}catch(ft){g.reject(ft)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ma;case"linkViaPopup":case"linkViaRedirect":return $h;case"reauthViaPopup":case"reauthViaRedirect":return id;default:Ie(this.auth,"internal-error")}}resolve(d){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hh=new sn(2e3,1e4);function Gh(){return(Gh=(0,f.Z)(function*(y,d,g){const v=Oe(y);je(y,d,Ms);const T=qr(v,g);return new is(v,"signInViaPopup",d,T).executeNotNull()})).apply(this,arguments)}function _a(){return(_a=(0,f.Z)(function*(y,d,g){const v=(0,R.m9)(y);je(v.auth,d,Ms);const T=qr(v.auth,g);return new is(v.auth,"reauthViaPopup",d,T,v).executeNotNull()})).apply(this,arguments)}function Cl(){return(Cl=(0,f.Z)(function*(y,d,g){const v=(0,R.m9)(y);je(v.auth,d,Ms);const T=qr(v.auth,g);return new is(v.auth,"linkViaPopup",d,T,v).executeNotNull()})).apply(this,arguments)}let is=(()=>{class y extends li{constructor(g,v,T,O,G){super(g,v,O,G),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,f.Z)(function*(){const v=yield g.execute();return ee(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,f.Z)(function*(){te(1===g.filter.length,"Popup operations only handle one event");const v=ao();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,T;this.pollId=(null===(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Hh.get())};g()}}return y.currentPopupAction=null,y})();const gr=new Map;class va extends li{constructor(d,g,v=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,f.Z)(function*(){let v=gr.get(g.auth._key());if(!v){try{const O=(yield function Uo(y,d){return Il.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;v=()=>Promise.resolve(O)}catch(T){v=()=>Promise.reject(T)}gr.set(g.auth._key(),v)}return g.bypassAuthState||gr.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,v=this;return(0,f.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(v,d);if("unknown"!==d.type){if(d.eventId){const T=yield v.auth._redirectUserForId(d.eventId);if(T)return v.user=T,g().call(v,d);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Il(){return(Il=(0,f.Z)(function*(y,d){const g=b(d),v=I(y);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(g));return yield v._remove(g),T})).apply(this,arguments)}function ss(y,d){return js.apply(this,arguments)}function js(){return(js=(0,f.Z)(function*(y,d){return I(y)._set(b(d),"true")})).apply(this,arguments)}function I(y){return ne(y._redirectPersistence)}function b(y){return le("pendingRedirect",y.config.apiKey,y.name)}function z(){return(z=(0,f.Z)(function*(y,d,g){const v=Oe(y);je(y,d,Ms);const T=qr(v,g);return yield ss(T,v),T._openRedirect(v,d,"signInViaRedirect")})).apply(this,arguments)}function qe(){return(qe=(0,f.Z)(function*(y,d,g){const v=(0,R.m9)(y);je(v.auth,d,Ms);const T=qr(v.auth,g);yield ss(T,v.auth);const O=yield yo(v);return T._openRedirect(v.auth,d,"reauthViaRedirect",O)})).apply(this,arguments)}function Nt(){return(Nt=(0,f.Z)(function*(y,d,g){const v=(0,R.m9)(y);je(v.auth,d,Ms);const T=qr(v.auth,g);yield Os(!1,v,d.providerId),yield ss(T,v.auth);const O=yield yo(v);return T._openRedirect(v.auth,d,"linkViaRedirect",O)})).apply(this,arguments)}function qn(){return(qn=(0,f.Z)(function*(y,d){return yield Oe(y)._initializationPromise,_n(y,d,!1)})).apply(this,arguments)}function _n(y,d){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,f.Z)(function*(y,d,g=!1){const v=Oe(y),T=qr(v,d),G=yield new va(v,T,g).execute();return G&&!g&&(delete G.user._redirectEventId,yield v._persistUserIfCurrent(G.user),yield v._setRedirectUser(null,d)),G})).apply(this,arguments)}function yo(y){return mr.apply(this,arguments)}function mr(){return(mr=(0,f.Z)(function*(y){const d=ao(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class $s{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(d,v)&&(g=!0,this.sendToConsumer(d,v),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function od(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zh(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var v;if(d.error&&!zh(d)){const T=(null===(v=d.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,T))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const v=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&v}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(os(d))}saveEventToCache(d){this.cachedEventUids.add(os(d)),this.lastProcessedEventTime=Date.now()}}function os(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function zh({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Dl(y){return _o.apply(this,arguments)}function _o(){return(_o=(0,f.Z)(function*(y,d={}){return Lt(y,"GET","/v1/projects",d)})).apply(this,arguments)}const Wh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zh=/^https?/;function vo(){return(vo=(0,f.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield Dl(y);for(const g of d)try{if(yu(g))return}catch(v){}Ie(y,"unauthorized-domain")})).apply(this,arguments)}function yu(y){const d=vt(),{protocol:g,hostname:v}=new URL(d);if(y.startsWith("chrome-extension://")){const G=new URL(y);return""===G.hostname&&""===v?"chrome-extension:"===g&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&G.hostname===v}if(!Zh.test(g))return!1;if(Wh.test(y))return v===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const Qp=new sn(3e4,6e4);function Kh(){const y=Qt().___jsl;if(null==y?void 0:y.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let wa=null;function m0(y){return wa=wa||function Tl(y){return new Promise((d,g)=>{var v,T,O;function G(){Kh(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Kh(),g(_e(y,"network-request-failed"))},timeout:Qp.get()})}if(null===(T=null===(v=Qt().gapi)||void 0===v?void 0:v.iframes)||void 0===T?void 0:T.Iframe)d(gapi.iframes.getContext());else{if(!(null===(O=Qt().gapi)||void 0===O?void 0:O.load)){const re=pa("iframefcb");return Qt()[re]=()=>{gapi.load?G():g(_e(y,"network-request-failed"))},po(`https://apis.google.com/js/api.js?onload=${re}`).catch(Le=>g(Le))}G()}}).catch(d=>{throw wa=null,d})}(y),wa}const Ey=new sn(5e3,15e3),Sl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ml(y){const d=y.config;ee(d.authDomain,y,"auth-domain-config-required");const g=d.emulator?on(d,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,v={apiKey:d.apiKey,appName:y.name,v:oe.SDK_VERSION},T=Jp.get(y.config.apiHost);T&&(v.eid=T);const O=y._getFrameworks();return O.length&&(v.fw=O.join(",")),`${g}?${(0,R.xO)(v).slice(1)}`}function Xp(){return Xp=(0,f.Z)(function*(y){const d=yield m0(y),g=Qt().gapi;return ee(g,y,"internal-error"),d.open({where:document.body,url:Ml(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sl,dontclear:!0},v=>new Promise(function(){var T=(0,f.Z)(function*(O,G){yield v.restyle({setHideOnLeave:!1});const re=_e(y,"network-request-failed"),Le=Qt().setTimeout(()=>{G(re)},Ey.get());function Ye(){Qt().clearTimeout(Le),O(v)}v.ping(Ye).then(Ye,()=>{G(re)})});return function(O,G){return T.apply(this,arguments)}}()))}),Xp.apply(this,arguments)}const _0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ol{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function ld(y,d,g,v,T,O){ee(y.config.authDomain,y,"auth-domain-config-required"),ee(y.config.apiKey,y,"invalid-api-key");const G={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:v,v:oe.SDK_VERSION,eventId:T};if(d instanceof Ms){d.setDefaultLanguage(y.languageCode),G.providerId=d.providerId||"",(0,R.xb)(d.getCustomParameters())||(G.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Le,Ye]of Object.entries(O||{}))G[Le]=Ye}if(d instanceof Vr){const Le=d.getScopes().filter(Ye=>""!==Ye);Le.length>0&&(G.scopes=Le.join(","))}y.tenantId&&(G.tid=y.tenantId);const re=G;for(const Le of Object.keys(re))void 0===re[Le]&&delete re[Le];return`${function Iy({config:y}){return y.emulator?on(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(re).slice(1)}`}const as="webStorageSupport";class rg extends class ng{constructor(d){this.factorId=d}_process(d,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,v);case"signin":return this._finalizeSignIn(d,g.credential);default:return q("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new rg(d)}_finalizeEnroll(d,g,v){return function Zc(y,d){return Lt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(y,d))}(d,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function fa(y,d){return Lt(y,"POST","/v2/accounts/mfaSignIn:finalize",Yt(y,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let by=(()=>{class y{constructor(){}static assertion(g){return rg._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Dy="@firebase/auth",cd="0.19.11";class ig{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,f.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(v=>{var T;d((null===(T=v)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);!g||(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Bo(){return window}function _u(){return(_u=(0,f.Z)(function*(y,d,g){var v;const{BuildInfo:T}=Bo();te(d.sessionId,"AuthEvent did not contain a session ID");const O=yield E0(d.sessionId),G={};return Gn()?G.ibi=T.packageName:En()?G.apn=T.packageName:Ie(y,"operation-not-supported-in-this-environment"),T.displayName&&(G.appDisplayName=T.displayName),G.sessionId=O,ld(y,g,d.type,void 0,null!==(v=d.eventId)&&void 0!==v?v:void 0,G)})).apply(this,arguments)}function Ri(){return(Ri=(0,f.Z)(function*(y){const{BuildInfo:d}=Bo(),g={};Gn()?g.iosBundleId=d.packageName:En()?g.androidPackageName=d.packageName:Ie(y,"operation-not-supported-in-this-environment"),yield Dl(y,g)})).apply(this,arguments)}function dd(){return(dd=(0,f.Z)(function*(y,d,g){const{cordova:v}=Bo();let T=()=>{};try{yield new Promise((O,G)=>{let re=null;function Le(){var it;O();const bn=null===(it=v.plugins.browsertab)||void 0===it?void 0:it.close;"function"==typeof bn&&bn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Ye(){re||(re=window.setTimeout(()=>{G(_e(y,"redirect-cancelled-by-user"))},2e3))}function ft(){"visible"===(null==document?void 0:document.visibilityState)&&Ye()}d.addPassiveListener(Le),document.addEventListener("resume",Ye,!1),En()&&document.addEventListener("visibilitychange",ft,!1),T=()=>{d.removePassiveListener(Le),document.removeEventListener("resume",Ye,!1),document.removeEventListener("visibilitychange",ft,!1),re&&window.clearTimeout(re)}})}finally{T()}})).apply(this,arguments)}function E0(y){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,f.Z)(function*(y){const d=ag(y),g=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ag(y){if(te(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const d=new ArrayBuffer(y.length),g=new Uint8Array(d);for(let v=0;v<y.length;v++)g[v]=y.charCodeAt(v);return g}!function Ty(y){(0,oe._registerComponent)(new ie.wA("auth",(d,{options:g})=>{const v=d.getProvider("app").getImmediate(),T=d.getProvider("heartbeat"),{apiKey:O,authDomain:G}=v.options;return((re,Le)=>{ee(O&&!O.includes(":"),"invalid-api-key",{appName:re.name}),ee(!(null==G?void 0:G.includes(":")),"argument-error",{appName:re.name});const Ye={apiKey:O,authDomain:G,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ra(y)},ft=new ni(re,Le,Ye);return function se(y,d){const g=(null==d?void 0:d.persistence)||[],v=(Array.isArray(g)?g:[g]).map(ne);(null==d?void 0:d.errorMap)&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(v,null==d?void 0:d.popupRedirectResolver)}(ft,g),ft})(v,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,v)=>{d.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new ie.wA("auth-internal",d=>{const g=Oe(d.getProvider("auth").getImmediate());return new ig(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(Dy,cd,function Xh(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,oe.registerVersion)(Dy,cd,"esm2017")}("Browser");class hd extends $s{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(d)),super.onEvent(d)}initialized(){var d=this;return(0,f.Z)(function*(){yield d.initPromise})()}}function Ca(y){return fd.apply(this,arguments)}function fd(){return(fd=(0,f.Z)(function*(y){const d=yield pd()._get(of(y));return d&&(yield pd()._remove(of(y))),d})).apply(this,arguments)}function My(){const y=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*d.length);y.push(d.charAt(v))}return y.join("")}function pd(){return ne(gn)}function of(y){return le("authEvent",y.config.apiKey,y.name)}function Rl(y){if(!(null==y?void 0:y.includes("?")))return{};const[d,...g]=y.split("?");return(0,R.zd)(g.join("?"))}function uf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function lf(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Oy(y=(0,R.z$)()){return!("file:"!==lf()&&"ionic:"!==lf()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function zr(){try{const y=self.localStorage,d=ao();if(y)return y.setItem(d,"1"),y.removeItem(d),!function md(y=(0,R.z$)()){return function I0(){return(0,R.w1)()&&11===(null==document?void 0:document.documentMode)}()||function b0(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch(y){return yd()&&(0,R.hl)()}return!1}function yd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function gt(){return(function C0(){return"http:"===lf()||"https:"===lf()}()||(0,R.ru)()||Oy())&&!function fg(){return(0,R.b$)()||(0,R.UG)()}()&&zr()&&!yd()}function Hs(){return Oy()&&"undefined"!=typeof document}function us(){return(us=(0,f.Z)(function*(){return!!Hs()&&new Promise(y=>{const d=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),y(!0)})})})).apply(this,arguments)}const Ii={LOCAL:"local",NONE:"none",SESSION:"session"},Nl=ee,_d="persistence";function Ia(y){return hf.apply(this,arguments)}function hf(){return(hf=(0,f.Z)(function*(y){yield y._initializationPromise;const d=Fl(),g=le(_d,y.config.apiKey,y.name);d&&d.setItem(g,y._getPersistence())})).apply(this,arguments)}function Fl(){var y;try{return(null===(y=function cf(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(d){return null}}const Py=ee;class Ni{constructor(){this.browserResolver=ne(class Pl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=es,this._completeRedirectFn=_n}_openPopup(d,g,v,T){var O=this;return(0,f.Z)(function*(){var G;te(null===(G=O.eventManagers[d._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const re=ld(d,g,v,vt(),T);return function eg(y,d,g,v=500,T=600){const O=Math.max((window.screen.availHeight-T)/2,0).toString(),G=Math.max((window.screen.availWidth-v)/2,0).toString();let re="";const Le=Object.assign(Object.assign({},_0),{width:v.toString(),height:T.toString(),top:O,left:G}),Ye=(0,R.z$)().toLowerCase();g&&(re=dr(Ye)?"_blank":g),ht(Ye)&&(d=d||"http://localhost",Le.scrollbars="yes");const ft=Object.entries(Le).reduce((bn,[ki,Eu])=>`${bn}${ki}=${Eu},`,"");if(function Ha(y=(0,R.z$)()){var d;return Gn(y)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(Ye)&&"_self"!==re)return function tg(y,d){const g=document.createElement("a");g.href=y,g.target=d;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(d||"",re),new Ol(null);const it=window.open(d||"",re,ft);ee(it,y,"popup-blocked");try{it.focus()}catch(bn){}return new Ol(it)}(d,re,ao())})()}_openRedirect(d,g,v,T){var O=this;return(0,f.Z)(function*(){return yield O._originValidation(d),function Lo(y){Qt().location.href=y}(ld(d,g,v,vt(),T)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:T,promise:O}=this.eventManagers[g];return T?Promise.resolve(T):(te(O,"If manager is not set, promise should be"),O)}const v=this.initAndGetManager(d);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(d){var g=this;return(0,f.Z)(function*(){const v=yield function y0(y){return Xp.apply(this,arguments)}(d),T=new $s(d);return v.register("authEvent",O=>(ee(null==O?void 0:O.authEvent,d,"invalid-auth-event"),{status:T.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:T},g.iframes[d._key()]=v,T})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(as,{type:as},T=>{var O;const G=null===(O=null==T?void 0:T[0])||void 0===O?void 0:O[as];void 0!==G&&g(!!G),Ie(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function wy(y){return vo.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return zi()||qt()||Gn()}}),this.cordovaResolver=ne(class cg{constructor(){this._redirectPersistence=es,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_n}_initialize(d){var g=this;return(0,f.Z)(function*(){const v=d._key();let T=g.eventManagers.get(v);return T||(T=new hd(d),g.eventManagers.set(v,T),g.attachCallbackListeners(d,T)),T})()}_openPopup(d){Ie(d,"operation-not-supported-in-this-environment")}_openRedirect(d,g,v,T){var O=this;return(0,f.Z)(function*(){!function nf(y){var d,g,v,T,O,G,re,Le,Ye,ft;const it=Bo();ee("function"==typeof(null===(d=null==it?void 0:it.universalLinks)||void 0===d?void 0:d.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(void 0!==(null===(g=null==it?void 0:it.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(O=null===(T=null===(v=null==it?void 0:it.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Le=null===(re=null===(G=null==it?void 0:it.cordova)||void 0===G?void 0:G.plugins)||void 0===re?void 0:re.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(ft=null===(Ye=null==it?void 0:it.cordova)||void 0===Ye?void 0:Ye.InAppBrowser)||void 0===ft?void 0:ft.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const G=yield O._initialize(d);yield G.initialized(),G.resetRedirect(),function bl(){gr.clear()}(),yield O._originValidation(d);const re=function sf(y,d,g=null){return{type:d,eventId:g,urlResponse:null,sessionId:My(),postBody:null,tenantId:y.tenantId,error:_e(y,"no-auth-event")}}(d,v,T);yield function Sy(y,d){return pd()._set(of(y),d)}(d,re);const Le=yield function ef(y,d,g){return _u.apply(this,arguments)}(d,re,g),Ye=yield function Ea(y){const{cordova:d}=Bo();return new Promise(g=>{d.plugins.browsertab.isAvailable(v=>{let T=null;v?d.plugins.browsertab.openUrl(y):T=d.InAppBrowser.open(y,function Js(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Le);return function og(y,d,g){return dd.apply(this,arguments)}(d,G,Ye)})()}_isIframeWebStorageSupported(d,g){throw new Error("Method not implemented.")}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function tf(y){return Ri.apply(this,arguments)}(d)),this.originValidationPromises[g]}attachCallbackListeners(d,g){const{universalLinks:v,handleOpenURL:T,BuildInfo:O}=Bo(),G=setTimeout((0,f.Z)(function*(){yield Ca(d),g.onEvent(uf())}),500),re=function(){var ft=(0,f.Z)(function*(it){clearTimeout(G);const bn=yield Ca(d);let ki=null;bn&&(null==it?void 0:it.url)&&(ki=function ug(y,d){var g,v;const T=function vu(y){const d=Rl(y),g=d.link?decodeURIComponent(d.link):void 0,v=Rl(g).link,T=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Rl(T).link||T||v||g||y}(d);if(T.includes("/__/auth/callback")){const O=Rl(T),G=O.firebaseError?function lg(y){try{return JSON.parse(y)}catch(d){return null}}(decodeURIComponent(O.firebaseError)):null,re=null===(v=null===(g=null==G?void 0:G.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Le=re?_e(re):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(bn,it.url)),g.onEvent(ki||uf())});return function(bn){return ft.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,re);const Le=T,Ye=`${O.packageName.toLowerCase()}://`;Bo().handleOpenURL=function(){var ft=(0,f.Z)(function*(it){if(it.toLowerCase().startsWith(Ye)&&re({url:it}),"function"==typeof Le)try{Le(it)}catch(bn){console.error(bn)}});return function(it){return ft.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=es,this._completeRedirectFn=_n}_initialize(d){var g=this;return(0,f.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,g,v,T){var O=this;return(0,f.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(d,g,v,T)})()}_openRedirect(d,g,v,T){var O=this;return(0,f.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(d,g,v,T)})()}_isIframeWebStorageSupported(d,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,g)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Hs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Py(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,f.Z)(function*(){if(d.underlyingResolver)return;const g=yield function fn(){return us.apply(this,arguments)}();d.underlyingResolver=g?d.cordovaResolver:d.browserResolver})()}}function ff(y){return y.unwrap()}function vd(y){return pf(y)}function pf(y){const{_tokenResponse:d}=y instanceof R.ZR?y.customData:y;if(!d)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Gr.credentialFromResult(y);const g=d.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=sa;break;case"facebook.com":v=eo;break;case"github.com":v=Uc;break;case"twitter.com":v=Ka;break;default:const{oauthIdToken:T,oauthAccessToken:O,oauthTokenSecret:G,pendingToken:re,nonce:Le}=d;return O||G||T||re?re?g.startsWith("saml.")?Po._create(g,re):Ki._fromParams({providerId:g,signInMethod:g,pendingToken:re,idToken:T,accessToken:O}):new Oo(g).credential({idToken:T,accessToken:O,rawNonce:Le}):null}return y instanceof R.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function _r(y,d){return d.catch(g=>{throw g instanceof R.ZR&&function bi(y,d){var g;const v=null===(g=d.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new wd(y,function lu(y,d){var g;const v=(0,R.m9)(y),T=d;return ee(d.customData.operationType,v,"argument-error"),ee(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),da._fromError(v,T)}(y,d));else if(v){const T=pf(d),O=d;T&&(O.credential=T,O.tenantId=v.tenantId||void 0,O.email=v.email||void 0,O.phoneNumber=v.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:vd(g),additionalUserInfo:pr(g),user:wo.getOrCreate(T)}})}function vr(y,d){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,f.Z)(function*(y,d){const g=yield d;return{verificationId:g.verificationId,confirm:v=>_r(y,g.confirm(v))}})).apply(this,arguments)}class wd{constructor(d,g){this.resolver=g,this.auth=function wu(y){return y.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return _r(ff(this.auth),this.resolver.resolveSignIn(d))}}class wo{constructor(d){this._delegate=d,this.multiFactor=function Kc(y){const d=(0,R.m9)(y);return Fo.has(d)||Fo.set(d,Xi._fromUser(d)),Fo.get(d)}(d)}static getOrCreate(d){return wo.USER_MAP.has(d)||wo.USER_MAP.set(d,new wo(d)),wo.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var g=this;return(0,f.Z)(function*(){return _r(g.auth,vi(g._delegate,d))})()}linkWithPhoneNumber(d,g){var v=this;return(0,f.Z)(function*(){return vr(v.auth,function fu(y,d,g){return Hr.apply(this,arguments)}(v._delegate,d,g))})()}linkWithPopup(d){var g=this;return(0,f.Z)(function*(){return _r(g.auth,function qh(y,d,g){return Cl.apply(this,arguments)}(g._delegate,d,Ni))})()}linkWithRedirect(d){var g=this;return(0,f.Z)(function*(){return yield Ia(Oe(g.auth)),function Qe(y,d,g){return function yt(y,d,g){return Nt.apply(this,arguments)}(y,d,g)}(g._delegate,d,Ni)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var g=this;return(0,f.Z)(function*(){return _r(g.auth,Ps(g._delegate,d))})()}reauthenticateWithPhoneNumber(d,g){return vr(this.auth,function Ar(y,d,g){return pu.apply(this,arguments)}(this._delegate,d,g))}reauthenticateWithPopup(d){return _r(this.auth,function mo(y,d,g){return _a.apply(this,arguments)}(this._delegate,d,Ni))}reauthenticateWithRedirect(d){var g=this;return(0,f.Z)(function*(){return yield Ia(Oe(g.auth)),function X(y,d,g){return function Se(y,d,g){return qe.apply(this,arguments)}(y,d,g)}(g._delegate,d,Ni)})()}sendEmailVerification(d){return function wi(y,d){return sl.apply(this,arguments)}(this._delegate,d)}unlink(d){var g=this;return(0,f.Z)(function*(){return yield function oa(y,d){return Ju.apply(this,arguments)}(g._delegate,d),g})()}updateEmail(d){return function ul(y,d){return ll((0,R.m9)(y),d,null)}(this._delegate,d)}updatePassword(d){return function Hc(y,d){return ll((0,R.m9)(y),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function gu(y,d){return Oi.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function ca(y,d){return al.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,g){return function au(y,d,g){return uu.apply(this,arguments)}(this._delegate,d,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wo.USER_MAP=new WeakMap;const Eo=ee;let ls=(()=>{class y{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;Eo(T,"invalid-api-key",{appName:g.name}),Eo(T,"invalid-api-key",{appName:g.name});const O="undefined"!=typeof window?Ni:void 0;this._delegate=v.initialize({options:{persistence:Mr(T,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function un(y,d,g){const v=Oe(y);ee(v._canInitEmulator,v,"emulator-config-failed"),ee(/^https?:\/\//.test(d),v,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),O=Xn(d),{host:G,port:re}=function Is(y){const d=Xn(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const O=T[1];return{host:O,port:xn(v.substr(O.length+1))}}{const[O,G]=v.split(":");return{host:O,port:xn(G)}}}(d);v.config.emulator={url:`${O}//${G}${null===re?"":`:${re}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:G,port:re,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Mi(){function y(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,v)}applyActionCode(g){return function el(y,d){return Ce.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return xt(this._delegate,g)}confirmPasswordReset(g,v){return function iu(y,d,g){return Xu.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var T=this;return(0,f.Z)(function*(){return _r(T._delegate,function ko(y,d,g){return jr.apply(this,arguments)}(T._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ou(y,d){return Fs.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function il(y,d){const g=Xs.parseLink(d);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,f.Z)(function*(){Eo(gt(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function _t(y,d){return qn.apply(this,arguments)}(g._delegate,Ni);return v?_r(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function xy(y,d){Oe(y)._logFramework(d)}(this._delegate,g)}onAuthStateChanged(g,v,T){const{next:O,error:G,complete:re}=Co(g,v,T);return this._delegate.onAuthStateChanged(O,G,re)}onIdTokenChanged(g,v,T){const{next:O,error:G,complete:re}=Co(g,v,T);return this._delegate.onIdTokenChanged(O,G,re)}sendSignInLinkToEmail(g,v){return function rl(y,d,g){return $c.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function nu(y,d,g){return ru.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,f.Z)(function*(){let T;switch(function df(y,d){Nl(Object.values(Ii).includes(d),y,"invalid-persistence-type"),(0,R.b$)()?Nl(d!==Ii.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?Nl(d===Ii.NONE,y,"unsupported-persistence-type"):yd()?Nl(d===Ii.NONE||d===Ii.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):Nl(d===Ii.NONE||zr(),y,"unsupported-persistence-type")}(v._delegate,g),g){case Ii.SESSION:T=es;break;case Ii.LOCAL:T=(yield ne(ts)._isAvailable())?ts:gn;break;case Ii.NONE:T=$;break;default:return Ie("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return _r(this._delegate,function Qa(y){return Bc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return _r(this._delegate,Sn(this._delegate,g))}signInWithCustomToken(g){return _r(this._delegate,function Rs(y,d){return Ns.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return _r(this._delegate,function nl(y,d,g){return Sn((0,R.m9)(y),Qu.credential(d,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return _r(this._delegate,function su(y,d,g){return ks.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return vr(this._delegate,function jh(y,d,g){return yn.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,f.Z)(function*(){return Eo(gt(),v._delegate,"operation-not-supported-in-this-environment"),_r(v._delegate,function ya(y,d,g){return Gh.apply(this,arguments)}(v._delegate,g,Ni))})()}signInWithRedirect(g){var v=this;return(0,f.Z)(function*(){return Eo(gt(),v._delegate,"operation-not-supported-in-this-environment"),yield Ia(v._delegate),function M(y,d,g){return function F(y,d,g){return z.apply(this,arguments)}(y,d,g)}(v._delegate,g,Ni)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function pn(y,d){return No.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ii,y})();function Co(y,d,g){let v=y;"function"!=typeof y&&({next:v,error:d,complete:g}=y);const T=v;return{next:G=>T(G&&wo.getOrCreate(G)),error:d,complete:g}}function Mr(y,d){const g=function kl(y,d){const g=Fl();if(!g)return[];const v=le(_d,y,d);switch(g.getItem(v)){case Ii.NONE:return[$];case Ii.LOCAL:return[ts,es];case Ii.SESSION:return[es];default:return[]}}(y,d);if("undefined"!=typeof self&&!g.includes(ts)&&g.push(ts),"undefined"!=typeof window)for(const v of[gn,es])g.includes(v)||g.push(v);return g.includes($)||g.push($),g}class ba{constructor(){this.providerId="phone",this._delegate=new Gr(ff(K.Z.auth()))}static credential(d,g){return Gr.credential(d,g)}verifyPhoneNumber(d,g){return this._delegate.verifyPhoneNumber(d,g)}unwrap(){return this._delegate}}ba.PHONE_SIGN_IN_METHOD=Gr.PHONE_SIGN_IN_METHOD,ba.PROVIDER_ID=Gr.PROVIDER_ID;const gf=ee;class pg{constructor(d,g,v=K.Z.app()){var T;gf(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Bh(d,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gg(y){y.INTERNAL.registerComponent(new ie.wA("auth-compat",d=>{const g=d.getProvider("app-compat").getImmediate(),v=d.getProvider("auth");return new ls(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Qu,FacebookAuthProvider:eo,GithubAuthProvider:Uc,GoogleAuthProvider:sa,OAuthProvider:Oo,SAMLAuthProvider:ii,PhoneAuthProvider:ba,PhoneMultiFactorGenerator:by,RecaptchaVerifier:pg,TwitterAuthProvider:Ka,Auth:ls,AuthCredential:en,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(K.Z)},8306:(nt,De,N)=>{N.d(De,{y:()=>B});var f=N(2961),K=N(727),R=N(8822),oe=N(4671);var ie=N(2416),de=N(576),ue=N(2806);let B=(()=>{class Te{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const he=new Te;return he.source=this,he.operator=Ne,he}subscribe(Ne,he,we){const Ke=function He(Te){return Te&&Te instanceof f.Lv||function Q(Te){return Te&&(0,de.m)(Te.next)&&(0,de.m)(Te.error)&&(0,de.m)(Te.complete)}(Te)&&(0,K.Nn)(Te)}(Ne)?Ne:new f.Hp(Ne,he,we);return(0,ue.x)(()=>{const{operator:Ge,source:Ie}=this;Ke.add(Ge?Ge.call(Ke,Ie):Ie?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(he){Ne.error(he)}}forEach(Ne,he){return new(he=j(he))((we,Ke)=>{const Ge=new f.Hp({next:Ie=>{try{Ne(Ie)}catch(_e){Ke(_e),Ge.unsubscribe()}},error:Ke,complete:we});this.subscribe(Ge)})}_subscribe(Ne){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(Ne)}[R.L](){return this}pipe(...Ne){return function ge(Te){return 0===Te.length?oe.y:1===Te.length?Te[0]:function(Ne){return Te.reduce((he,we)=>we(he),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=j(Ne))((he,we)=>{let Ke;this.subscribe(Ge=>Ke=Ge,Ge=>we(Ge),()=>he(Ke))})}}return Te.create=xe=>new Te(xe),Te})();function j(Te){var xe;return null!==(xe=null!=Te?Te:ie.v.Promise)&&void 0!==xe?xe:Promise}},7579:(nt,De,N)=>{N.d(De,{x:()=>ie});var f=N(8306),K=N(727);const oe=(0,N(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=N(8737),ge=N(2806);let ie=(()=>{class ue extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Q=new de(this,this);return Q.operator=j,Q}_throwIfClosed(){if(this.closed)throw new oe}next(j){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(j)}})}error(j){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Q}=this;for(;Q.length;)Q.shift().error(j)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Q,isStopped:He,observers:Te}=this;return Q||He?K.Lc:(this.currentObservers=null,Te.push(j),new K.w0(()=>{this.currentObservers=null,(0,J.P)(Te,j)}))}_checkFinalizedStatuses(j){const{hasError:Q,thrownError:He,isStopped:Te}=this;Q?j.error(He):Te&&j.complete()}asObservable(){const j=new f.y;return j.source=this,j}}return ue.create=(B,j)=>new de(B,j),ue})();class de extends ie{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Q||Q.call(j,B)}error(B){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Q||Q.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,Q;return null!==(Q=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==Q?Q:K.Lc}}},2961:(nt,De,N)=>{N.d(De,{Hp:()=>Ne,Lv:()=>Q});var f=N(576),K=N(727),R=N(2416),oe=N(7849);function J(){}const ge=ue("C",void 0,void 0);function ue(Ie,_e,ve){return{kind:Ie,value:_e,error:ve}}var B=N(3410),j=N(2806);class Q extends K.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,K.Nn)(_e)&&_e.add(this)):this.destination=Ge}static create(_e,ve,je){return new Ne(_e,ve,je)}next(_e){this.isStopped?Ke(function de(Ie){return ue("N",Ie,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?Ke(function ie(Ie){return ue("E",void 0,Ie)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?Ke(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Te(Ie,_e){return He.call(Ie,_e)}class xe{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:ve}=this;if(ve.next)try{ve.next(_e)}catch(je){he(je)}}error(_e){const{partialObserver:ve}=this;if(ve.error)try{ve.error(_e)}catch(je){he(je)}else he(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(ve){he(ve)}}}class Ne extends Q{constructor(_e,ve,je){let Be;if(super(),(0,f.m)(_e)||!_e)Be={next:null!=_e?_e:void 0,error:null!=ve?ve:void 0,complete:null!=je?je:void 0};else{let ee;this&&R.v.useDeprecatedNextContext?(ee=Object.create(_e),ee.unsubscribe=()=>this.unsubscribe(),Be={next:_e.next&&Te(_e.next,ee),error:_e.error&&Te(_e.error,ee),complete:_e.complete&&Te(_e.complete,ee)}):Be=_e}this.destination=new xe(Be)}}function he(Ie){R.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ie):(0,oe.h)(Ie)}function Ke(Ie,_e){const{onStoppedNotification:ve}=R.v;ve&&B.z.setTimeout(()=>ve(Ie,_e))}const Ge={closed:!0,next:J,error:function we(Ie){throw Ie},complete:J}},727:(nt,De,N)=>{N.d(De,{Lc:()=>ge,w0:()=>J,Nn:()=>ie});var f=N(576);const R=(0,N(3888).d)(ue=>function(j){ue(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Q,He)=>`${He+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var oe=N(8737);class J{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Te of j)Te.remove(this);else j.remove(this);const{initialTeardown:Q}=this;if((0,f.m)(Q))try{Q()}catch(Te){B=Te instanceof R?Te.errors:[Te]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Te of He)try{de(Te)}catch(xe){B=null!=B?B:[],xe instanceof R?B=[...B,...xe.errors]:B.push(xe)}}if(B)throw new R(B)}}add(B){var j;if(B&&B!==this)if(this.closed)de(B);else{if(B instanceof J){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,oe.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,oe.P)(j,B),B instanceof J&&B._removeParent(this)}}J.EMPTY=(()=>{const ue=new J;return ue.closed=!0,ue})();const ge=J.EMPTY;function ie(ue){return ue instanceof J||ue&&"closed"in ue&&(0,f.m)(ue.remove)&&(0,f.m)(ue.add)&&(0,f.m)(ue.unsubscribe)}function de(ue){(0,f.m)(ue)?ue():ue.unsubscribe()}},2416:(nt,De,N)=>{N.d(De,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,De,N)=>{N.d(De,{E:()=>K});const K=new(N(8306).y)(J=>J.complete())},8996:(nt,De,N)=>{N.d(De,{D:()=>_e});var f=N(8421),K=N(5363),R=N(9468),ge=N(8306),de=N(2202),ue=N(576),B=N(9672);function Q(ve,je){if(!ve)throw new Error("Iterable cannot be null");return new ge.y(Be=>{(0,B.f)(Be,je,()=>{const ee=ve[Symbol.asyncIterator]();(0,B.f)(Be,je,()=>{ee.next().then(q=>{q.done?Be.complete():Be.next(q.value)})},0,!0)})})}var He=N(3670),Te=N(8239),xe=N(1144),Ne=N(6495),he=N(2206),we=N(4532),Ke=N(3260);function _e(ve,je){return je?function Ie(ve,je){if(null!=ve){if((0,He.c)(ve))return function oe(ve,je){return(0,f.Xf)(ve).pipe((0,R.R)(je),(0,K.Q)(je))}(ve,je);if((0,xe.z)(ve))return function ie(ve,je){return new ge.y(Be=>{let ee=0;return je.schedule(function(){ee===ve.length?Be.complete():(Be.next(ve[ee++]),Be.closed||this.schedule())})})}(ve,je);if((0,Te.t)(ve))return function J(ve,je){return(0,f.Xf)(ve).pipe((0,R.R)(je),(0,K.Q)(je))}(ve,je);if((0,he.D)(ve))return Q(ve,je);if((0,Ne.T)(ve))return function j(ve,je){return new ge.y(Be=>{let ee;return(0,B.f)(Be,je,()=>{ee=ve[de.h](),(0,B.f)(Be,je,()=>{let q,te;try{({value:q,done:te}=ee.next())}catch(me){return void Be.error(me)}te?Be.complete():Be.next(q)},0,!0)}),()=>(0,ue.m)(null==ee?void 0:ee.return)&&ee.return()})}(ve,je);if((0,Ke.L)(ve))return function Ge(ve,je){return Q((0,Ke.Q)(ve),je)}(ve,je)}throw(0,we.z)(ve)}(ve,je):(0,f.Xf)(ve)}},8421:(nt,De,N)=>{N.d(De,{Xf:()=>He});var f=N(655),K=N(1144),R=N(8239),oe=N(8306),J=N(3670),ge=N(2206),ie=N(4532),de=N(6495),ue=N(3260),B=N(576),j=N(7849),Q=N(8822);function He(Ie){if(Ie instanceof oe.y)return Ie;if(null!=Ie){if((0,J.c)(Ie))return function Te(Ie){return new oe.y(_e=>{const ve=Ie[Q.L]();if((0,B.m)(ve.subscribe))return ve.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,K.z)(Ie))return function xe(Ie){return new oe.y(_e=>{for(let ve=0;ve<Ie.length&&!_e.closed;ve++)_e.next(Ie[ve]);_e.complete()})}(Ie);if((0,R.t)(Ie))return function Ne(Ie){return new oe.y(_e=>{Ie.then(ve=>{_e.closed||(_e.next(ve),_e.complete())},ve=>_e.error(ve)).then(null,j.h)})}(Ie);if((0,ge.D)(Ie))return we(Ie);if((0,de.T)(Ie))return function he(Ie){return new oe.y(_e=>{for(const ve of Ie)if(_e.next(ve),_e.closed)return;_e.complete()})}(Ie);if((0,ue.L)(Ie))return function Ke(Ie){return we((0,ue.Q)(Ie))}(Ie)}throw(0,ie.z)(Ie)}function we(Ie){return new oe.y(_e=>{(function Ge(Ie,_e){var ve,je,Be,ee;return(0,f.mG)(this,void 0,void 0,function*(){try{for(ve=(0,f.KL)(Ie);!(je=yield ve.next()).done;)if(_e.next(je.value),_e.closed)return}catch(q){Be={error:q}}finally{try{je&&!je.done&&(ee=ve.return)&&(yield ee.call(ve))}finally{if(Be)throw Be.error}}_e.complete()})})(Ie,_e).catch(ve=>_e.error(ve))})}},6451:(nt,De,N)=>{N.d(De,{T:()=>ge});var f=N(8189),K=N(8421),R=N(515),oe=N(7669),J=N(8996);function ge(...ie){const de=(0,oe.yG)(ie),ue=(0,oe._6)(ie,1/0),B=ie;return B.length?1===B.length?(0,K.Xf)(B[0]):(0,f.J)(ue)((0,J.D)(B,de)):R.E}},5403:(nt,De,N)=>{N.d(De,{x:()=>K});var f=N(2961);function K(oe,J,ge,ie,de){return new R(oe,J,ge,ie,de)}class R extends f.Lv{constructor(J,ge,ie,de,ue,B){super(J),this.onFinalize=ue,this.shouldUnsubscribe=B,this._next=ge?function(j){try{ge(j)}catch(Q){J.error(Q)}}:super._next,this._error=de?function(j){try{de(j)}catch(Q){J.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(j){J.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},4004:(nt,De,N)=>{N.d(De,{U:()=>R});var f=N(4482),K=N(5403);function R(oe,J){return(0,f.e)((ge,ie)=>{let de=0;ge.subscribe((0,K.x)(ie,ue=>{ie.next(oe.call(J,ue,de++))}))})}},8189:(nt,De,N)=>{N.d(De,{J:()=>R});var f=N(5577),K=N(4671);function R(oe=1/0){return(0,f.z)(K.y,oe)}},5577:(nt,De,N)=>{N.d(De,{z:()=>de});var f=N(4004),K=N(8421),R=N(4482),oe=N(9672),J=N(5403),ie=N(576);function de(ue,B,j=1/0){return(0,ie.m)(B)?de((Q,He)=>(0,f.U)((Te,xe)=>B(Q,Te,He,xe))((0,K.Xf)(ue(Q,He))),j):("number"==typeof B&&(j=B),(0,R.e)((Q,He)=>function ge(ue,B,j,Q,He,Te,xe,Ne){const he=[];let we=0,Ke=0,Ge=!1;const Ie=()=>{Ge&&!he.length&&!we&&B.complete()},_e=je=>we<Q?ve(je):he.push(je),ve=je=>{Te&&B.next(je),we++;let Be=!1;(0,K.Xf)(j(je,Ke++)).subscribe((0,J.x)(B,ee=>{null==He||He(ee),Te?_e(ee):B.next(ee)},()=>{Be=!0},void 0,()=>{if(Be)try{for(we--;he.length&&we<Q;){const ee=he.shift();xe?(0,oe.f)(B,xe,()=>ve(ee)):ve(ee)}Ie()}catch(ee){B.error(ee)}}))};return ue.subscribe((0,J.x)(B,_e,()=>{Ge=!0,Ie()})),()=>{null==Ne||Ne()}}(Q,He,ue,j)))}},5363:(nt,De,N)=>{N.d(De,{Q:()=>oe});var f=N(9672),K=N(4482),R=N(5403);function oe(J,ge=0){return(0,K.e)((ie,de)=>{ie.subscribe((0,R.x)(de,ue=>(0,f.f)(de,J,()=>de.next(ue),ge),()=>(0,f.f)(de,J,()=>de.complete(),ge),ue=>(0,f.f)(de,J,()=>de.error(ue),ge)))})}},3099:(nt,De,N)=>{N.d(De,{B:()=>ge});var f=N(8996),K=N(5698),R=N(7579),oe=N(2961),J=N(4482);function ge(de={}){const{connector:ue=(()=>new R.x),resetOnError:B=!0,resetOnComplete:j=!0,resetOnRefCountZero:Q=!0}=de;return He=>{let Te=null,xe=null,Ne=null,he=0,we=!1,Ke=!1;const Ge=()=>{null==xe||xe.unsubscribe(),xe=null},Ie=()=>{Ge(),Te=Ne=null,we=Ke=!1},_e=()=>{const ve=Te;Ie(),null==ve||ve.unsubscribe()};return(0,J.e)((ve,je)=>{he++,!Ke&&!we&&Ge();const Be=Ne=null!=Ne?Ne:ue();je.add(()=>{he--,0===he&&!Ke&&!we&&(xe=ie(_e,Q))}),Be.subscribe(je),Te||(Te=new oe.Hp({next:ee=>Be.next(ee),error:ee=>{Ke=!0,Ge(),xe=ie(Ie,B,ee),Be.error(ee)},complete:()=>{we=!0,Ge(),xe=ie(Ie,j),Be.complete()}}),(0,f.D)(ve).subscribe(Te))})(He)}}function ie(de,ue,...B){return!0===ue?(de(),null):!1===ue?null:ue(...B).pipe((0,K.q)(1)).subscribe(()=>de())}},9468:(nt,De,N)=>{N.d(De,{R:()=>K});var f=N(4482);function K(R,oe=0){return(0,f.e)((J,ge)=>{ge.add(R.schedule(()=>J.subscribe(ge),oe))})}},5698:(nt,De,N)=>{N.d(De,{q:()=>oe});var f=N(515),K=N(4482),R=N(5403);function oe(J){return J<=0?()=>f.E:(0,K.e)((ge,ie)=>{let de=0;ge.subscribe((0,R.x)(ie,ue=>{++de<=J&&(ie.next(ue),J<=de&&ie.complete())}))})}},8505:(nt,De,N)=>{N.d(De,{b:()=>J});var f=N(576),K=N(4482),R=N(5403),oe=N(4671);function J(ge,ie,de){const ue=(0,f.m)(ge)||ie||de?{next:ge,error:ie,complete:de}:ge;return ue?(0,K.e)((B,j)=>{var Q;null===(Q=ue.subscribe)||void 0===Q||Q.call(ue);let He=!0;B.subscribe((0,R.x)(j,Te=>{var xe;null===(xe=ue.next)||void 0===xe||xe.call(ue,Te),j.next(Te)},()=>{var Te;He=!1,null===(Te=ue.complete)||void 0===Te||Te.call(ue),j.complete()},Te=>{var xe;He=!1,null===(xe=ue.error)||void 0===xe||xe.call(ue,Te),j.error(Te)},()=>{var Te,xe;He&&(null===(Te=ue.unsubscribe)||void 0===Te||Te.call(ue)),null===(xe=ue.finalize)||void 0===xe||xe.call(ue)}))}):oe.y}},4408:(nt,De,N)=>{N.d(De,{o:()=>J});var f=N(727);class K extends f.w0{constructor(ie,de){super()}schedule(ie,de=0){return this}}const R={setInterval(ge,ie,...de){const{delegate:ue}=R;return(null==ue?void 0:ue.setInterval)?ue.setInterval(ge,ie,...de):setInterval(ge,ie,...de)},clearInterval(ge){const{delegate:ie}=R;return((null==ie?void 0:ie.clearInterval)||clearInterval)(ge)},delegate:void 0};var oe=N(8737);class J extends K{constructor(ie,de){super(ie,de),this.scheduler=ie,this.work=de,this.pending=!1}schedule(ie,de=0){if(this.closed)return this;this.state=ie;const ue=this.id,B=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(B,ue,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(B,this.id,de),this}requestAsyncId(ie,de,ue=0){return R.setInterval(ie.flush.bind(ie,this),ue)}recycleAsyncId(ie,de,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return de;R.clearInterval(de)}execute(ie,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(ie,de);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,de){let B,ue=!1;try{this.work(ie)}catch(j){ue=!0,B=j||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:ie,scheduler:de}=this,{actions:ue}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ue,this),null!=ie&&(this.id=this.recycleAsyncId(de,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,De,N)=>{N.d(De,{v:()=>R});var f=N(6063);class K{constructor(J,ge=K.now){this.schedulerActionCtor=J,this.now=ge}schedule(J,ge=0,ie){return new this.schedulerActionCtor(this,J).schedule(ie,ge)}}K.now=f.l.now;class R extends K{constructor(J,ge=K.now){super(J,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(J){const{actions:ge}=this;if(this._active)return void ge.push(J);let ie;this._active=!0;do{if(ie=J.execute(J.state,J.delay))break}while(J=ge.shift());if(this._active=!1,ie){for(;J=ge.shift();)J.unsubscribe();throw ie}}}},4986:(nt,De,N)=>{N.d(De,{z:()=>R});var f=N(4408);const R=new(N(7565).v)(f.o)},6063:(nt,De,N)=>{N.d(De,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(nt,De,N)=>{N.d(De,{z:()=>f});const f={setTimeout(K,R,...oe){const{delegate:J}=f;return(null==J?void 0:J.setTimeout)?J.setTimeout(K,R,...oe):setTimeout(K,R,...oe)},clearTimeout(K){const{delegate:R}=f;return((null==R?void 0:R.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(nt,De,N)=>{N.d(De,{h:()=>K});const K=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,De,N)=>{N.d(De,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(nt,De,N)=>{N.d(De,{_6:()=>ge,jO:()=>oe,yG:()=>J});var f=N(576);function R(ie){return ie[ie.length-1]}function oe(ie){return(0,f.m)(R(ie))?ie.pop():void 0}function J(ie){return function K(ie){return ie&&(0,f.m)(ie.schedule)}(R(ie))?ie.pop():void 0}function ge(ie,de){return"number"==typeof R(ie)?ie.pop():de}},8737:(nt,De,N)=>{function f(K,R){if(K){const oe=K.indexOf(R);0<=oe&&K.splice(oe,1)}}N.d(De,{P:()=>f})},3888:(nt,De,N)=>{function f(K){const oe=K(J=>{Error.call(J),J.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}N.d(De,{d:()=>f})},2806:(nt,De,N)=>{N.d(De,{x:()=>R,O:()=>oe});var f=N(2416);let K=null;function R(J){if(f.v.useDeprecatedSynchronousErrorHandling){const ge=!K;if(ge&&(K={errorThrown:!1,error:null}),J(),ge){const{errorThrown:ie,error:de}=K;if(K=null,ie)throw de}}else J()}function oe(J){f.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=J)}},9672:(nt,De,N)=>{function f(K,R,oe,J=0,ge=!1){const ie=R.schedule(function(){oe(),ge?K.add(this.schedule(null,J)):this.unsubscribe()},J);if(K.add(ie),!ge)return ie}N.d(De,{f:()=>f})},4671:(nt,De,N)=>{function f(K){return K}N.d(De,{y:()=>f})},1144:(nt,De,N)=>{N.d(De,{z:()=>f});const f=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(nt,De,N)=>{N.d(De,{D:()=>K});var f=N(576);function K(R){return Symbol.asyncIterator&&(0,f.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(nt,De,N)=>{function f(K){return"function"==typeof K}N.d(De,{m:()=>f})},3670:(nt,De,N)=>{N.d(De,{c:()=>R});var f=N(8822),K=N(576);function R(oe){return(0,K.m)(oe[f.L])}},6495:(nt,De,N)=>{N.d(De,{T:()=>R});var f=N(2202),K=N(576);function R(oe){return(0,K.m)(null==oe?void 0:oe[f.h])}},8239:(nt,De,N)=>{N.d(De,{t:()=>K});var f=N(576);function K(R){return(0,f.m)(null==R?void 0:R.then)}},3260:(nt,De,N)=>{N.d(De,{Q:()=>R,L:()=>oe});var f=N(655),K=N(576);function R(J){return(0,f.FC)(this,arguments,function*(){const ie=J.getReader();try{for(;;){const{value:de,done:ue}=yield(0,f.qq)(ie.read());if(ue)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(de)}}finally{ie.releaseLock()}})}function oe(J){return(0,K.m)(null==J?void 0:J.getReader)}},4482:(nt,De,N)=>{N.d(De,{A:()=>K,e:()=>R});var f=N(576);function K(oe){return(0,f.m)(null==oe?void 0:oe.lift)}function R(oe){return J=>{if(K(J))return J.lift(function(ge){try{return oe(ge,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(nt,De,N)=>{N.d(De,{h:()=>R});var f=N(2416),K=N(3410);function R(oe){K.z.setTimeout(()=>{const{onUnhandledError:J}=f.v;if(!J)throw oe;J(oe)})}},4532:(nt,De,N)=>{function f(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(De,{z:()=>f})},655:(nt,De,N)=>{function oe(q,te){var me={};for(var ne in q)Object.prototype.hasOwnProperty.call(q,ne)&&te.indexOf(ne)<0&&(me[ne]=q[ne]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(ne=Object.getOwnPropertySymbols(q);Me<ne.length;Me++)te.indexOf(ne[Me])<0&&Object.prototype.propertyIsEnumerable.call(q,ne[Me])&&(me[ne[Me]]=q[ne[Me]])}return me}function de(q,te,me,ne){return new(me||(me=Promise))(function(se,vt){function Kt(dt){try{rt(ne.next(dt))}catch(sn){vt(sn)}}function Tn(dt){try{rt(ne.throw(dt))}catch(sn){vt(sn)}}function rt(dt){dt.done?se(dt.value):function Me(se){return se instanceof me?se:new me(function(vt){vt(se)})}(dt.value).then(Kt,Tn)}rt((ne=ne.apply(q,te||[])).next())})}function he(q){return this instanceof he?(this.v=q,this):new he(q)}function we(q,te,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,ne=me.apply(q,te||[]),se=[];return Me={},vt("next"),vt("throw"),vt("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function vt(on){ne[on]&&(Me[on]=function(yi){return new Promise(function(Xt,Hi){se.push([on,yi,Xt,Hi])>1||Kt(on,yi)})})}function Kt(on,yi){try{!function Tn(on){on.value instanceof he?Promise.resolve(on.value.v).then(rt,dt):sn(se[0][2],on)}(ne[on](yi))}catch(Xt){sn(se[0][3],Xt)}}function rt(on){Kt("next",on)}function dt(on){Kt("throw",on)}function sn(on,yi){on(yi),se.shift(),se.length&&Kt(se[0][0],se[0][1])}}function Ge(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,te=q[Symbol.asyncIterator];return te?te.call(q):(q=function Q(q){var te="function"==typeof Symbol&&Symbol.iterator,me=te&&q[te],ne=0;if(me)return me.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&ne>=q.length&&(q=void 0),{value:q&&q[ne++],done:!q}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),me={},ne("next"),ne("throw"),ne("return"),me[Symbol.asyncIterator]=function(){return this},me);function ne(se){me[se]=q[se]&&function(vt){return new Promise(function(Kt,Tn){!function Me(se,vt,Kt,Tn){Promise.resolve(Tn).then(function(rt){se({value:rt,done:Kt})},vt)}(Kt,Tn,(vt=q[se](vt)).done,vt.value)})}}}N.d(De,{_T:()=>oe,mG:()=>de,qq:()=>he,FC:()=>we,KL:()=>Ge})},5e3:(nt,De,N)=>{N.d(De,{deG:()=>ed,tb:()=>qm,AFp:()=>iC,ip1:()=>Ep,CZH:()=>ps,hGG:()=>e0,z2F:()=>Qm,sBO:()=>Gu,Sil:()=>zm,_Vd:()=>Nm,EJc:()=>Gv,SBq:()=>sp,qLn:()=>_r,vpe:()=>Qo,tBr:()=>mr,XFs:()=>st,OlP:()=>In,zs3:()=>ce,ZZ4:()=>qu,aQg:()=>Ah,soG:()=>Cp,YKP:()=>Dv,h0i:()=>Bu,PXZ:()=>zb,R0b:()=>gs,FiY:()=>yr,Lbi:()=>$v,g9A:()=>$u,Qsj:()=>Vu,FYo:()=>EE,JOm:()=>re,tp0:()=>os,Rgc:()=>fh,dDg:()=>uC,q4F:()=>Yo,GfV:()=>Cv,s_b:()=>ur,ifc:()=>Vt,eFA:()=>Ip,G48:()=>Dc,Gpc:()=>j,X6Q:()=>fC,_c5:()=>nD,VLi:()=>qb,c2e:()=>br,zSh:()=>Gg,wAp:()=>pt,vHH:()=>xe,cg1:()=>Tm,kL8:()=>Wf,dqk:()=>kt,sIi:()=>Nd,CqO:()=>jd,QGY:()=>cm,F4k:()=>B_,RDi:()=>Yi,AaK:()=>de,qOj:()=>w_,TTD:()=>eo,_Bn:()=>Lu,xp6:()=>$l,uIk:()=>Mf,ekj:()=>Y_,Suo:()=>GE,Xpm:()=>Mt,lG2:()=>qt,Yz7:()=>Xt,cJS:()=>Yt,oAB:()=>Y,Yjl:()=>dr,Y36:()=>Nf,_UZ:()=>um,qZA:()=>xu,TgZ:()=>kf,EpF:()=>lm,n5z:()=>wl,LFG:()=>Qe,$8M:()=>pa,$Z:()=>Uw,NdJ:()=>Ff,CRH:()=>qE,kcU:()=>_y,O4$:()=>Wc,oxw:()=>jw,Q6J:()=>Pa,DdM:()=>fc,iGM:()=>Ov,CHM:()=>tl,LSH:()=>gd,YNc:()=>xf,_uU:()=>Zw,hij:()=>Pu});var f=N(7579),K=N(727),R=N(8306),oe=N(6451),J=N(3099);function ge(i){for(let s in i)if(i[s]===ge)return s;throw Error("Could not find renamed property on target object.")}function ie(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ue(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const B=ge({__forward_ref__:ge});function j(i){return i.__forward_ref__=j,i.toString=function(){return de(this())},i}function Q(i){return He(i)?i():i}function He(i){return"function"==typeof i&&i.hasOwnProperty(B)&&i.__forward_ref__===j}class xe extends Error{constructor(s,a){super(function Ne(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function he(i){return"string"==typeof i?i:null==i?"":String(i)}function we(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():he(i)}function _e(i,s){const a=s?` in ${s}`:"";throw new xe(-201,`No provider for ${we(i)} found${a}`)}function rt(i,s){null==i&&function dt(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function Xt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Yt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Lt(i){return Yn(i,Ai)||Yn(i,Gi)}function Yn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Dr(i){return i&&(i.hasOwnProperty(Tr)||i.hasOwnProperty(qi))?i[Tr]:null}const Ai=ge({\u0275prov:ge}),Tr=ge({\u0275inj:ge}),Gi=ge({ngInjectableDef:ge}),qi=ge({ngInjectorDef:ge});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let kr;function Nn(i){const s=kr;return kr=i,s}function ti(i,s,a){const u=Lt(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&st.Optional?null:void 0!==s?s:void _e(de(i),"Injector")}function hn(i){return{toString:i}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),Vt=(()=>{return(i=Vt||(Vt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Vt;var i})();const et="undefined"!=typeof globalThis&&globalThis,mt="undefined"!=typeof window&&window,Qn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt=et||"undefined"!=typeof global&&global||mt||Qn,Jn={},at=[],cr=ge({\u0275cmp:ge}),Pt=ge({\u0275dir:ge}),ze=ge({\u0275pipe:ge}),be=ge({\u0275mod:ge}),Ze=ge({\u0275fac:ge}),ut=ge({__NG_ELEMENT_ID__:ge});let Rt=0;function Mt(i){return hn(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||at,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Vt.Emulated,id:"c",styles:i.styles||at,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,p=i.features,_=i.pipes;return u.id+=Rt++,u.inputs=ht(i.inputs,a),u.outputs=ht(i.outputs),p&&p.forEach(w=>w(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(L):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map($):null,u})}function L(i){return Ut(i)||function En(i){return i[Pt]||null}(i)}function $(i){return function Tt(i){return i[ze]||null}(i)}const le={};function Y(i){return hn(()=>{const s={type:i.type,bootstrap:i.bootstrap||at,declarations:i.declarations||at,imports:i.imports||at,exports:i.exports||at,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(le[i.id]=i.type),s})}function ht(i,s){if(null==i)return Jn;const a={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),a[c]=u,s&&(s[c]=p)}return a}const qt=Mt;function dr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ut(i){return i[cr]||null}function an(i,s){const a=i[be]||null;if(!a&&!0===s)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return a}function _i(i){return Array.isArray(i)&&"object"==typeof i[1]}function ri(i){return Array.isArray(i)&&!0===i[1]}function Rc(i){return 0!=(8&i.flags)}function As(i){return 2==(2&i.flags)}function za(i){return 1==(1&i.flags)}function Lr(i){return null!==i.template}function Nh(i){return 0!=(512&i[2])}function Vr(i,s){return i.hasOwnProperty(Ze)?i[Ze]:null}class Oo{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function eo(){return sa}function sa(i){return i.type.prototype.ngOnChanges&&(i.setInput=zp),Uc}function Uc(){const i=xs(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Jn)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function zp(i,s,a,u){const c=xs(i)||function ii(i,s){return i[Po]=s}(i,{previous:Jn,current:null}),p=c.current||(c.current={}),_=c.previous,w=this.declaredInputs[a],C=_[w];p[w]=new Oo(C&&C.currentValue,s,_===Jn),i[u]=s}eo.ngInherit=!0;const Po="__ngSimpleChanges__";function xs(i){return i[Po]||null}let Xa;function Yi(i){Xa=i}function cn(i){return!!i.listen}const Ro={createRenderer:(i,s)=>function oa(){return void 0!==Xa?Xa:"undefined"!=typeof document?document:void 0}()};function nn(i){for(;Array.isArray(i);)i=i[0];return i}function no(i,s){return nn(s[i])}function hr(i,s){return nn(s[i.index])}function aa(i,s){return i.data[s]}function fr(i,s){const a=s[i];return _i(a)?a:a[0]}function Ps(i){return 4==(4&i[2])}function Qi(i){return 128==(128&i[2])}function Br(i,s){return null==s?null:i[s]}function Rs(i){i[18]=0}function Ns(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const lt={lFrame:io(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function iu(){return lt.bindingsEnabled}function Ce(){return lt.lFrame.lView}function xt(){return lt.lFrame.tView}function tl(i){return lt.lFrame.contextLView=i,i[8]}function pn(){let i=No();for(;null!==i&&64===i.type;)i=i.parent;return i}function No(){return lt.lFrame.currentTNode}function jr(i,s){const a=lt.lFrame;a.currentTNode=i,a.isParent=s}function nl(){return lt.lFrame.isParent}function su(){return lt.isInCheckNoChangesMode}function ks(i){lt.isInCheckNoChangesMode=i}function Fs(){return lt.lFrame.bindingIndex++}function uu(i,s){const a=lt.lFrame;a.bindingIndex=a.bindingRootIndex=i,la(s)}function la(i){lt.lFrame.currentDirectiveIndex=i}function al(){return lt.lFrame.currentQueryIndex}function ul(i){lt.lFrame.currentQueryIndex=i}function Hc(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function ll(i,s,a){if(a&st.SkipSelf){let c=s,p=i;for(;!(c=c.parent,null!==c||a&st.Host||(c=Hc(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;s=c,i=p}const u=lt.lFrame=Gc();return u.currentTNode=s,u.lView=i,!0}function ro(i){const s=Gc(),a=i[1];lt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Gc(){const i=lt.lFrame,s=null===i?null:i.child;return null===s?io(i):s}function io(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function qc(){const i=lt.lFrame;return lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const zc=qc;function so(){const i=qc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function pr(){return lt.lFrame.selectedIndex}function Vs(i){lt.lFrame.selectedIndex=i}function Cn(){const i=lt.lFrame;return aa(i.tView,i.selectedIndex)}function Wc(){lt.lFrame.currentNamespace="svg"}function _y(){!function dl(){lt.lFrame.currentNamespace=null}()}function Ji(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:A,ngOnDestroy:S}=p;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),C&&(i.viewHooks||(i.viewHooks=[])).push(-a,C),A&&((i.viewHooks||(i.viewHooks=[])).push(a,A),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,A)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(a,S)}}function da(i,s,a){Zc(i,s,3,a)}function lu(i,s,a,u){(3&i[2])===a&&Zc(i,s,a,u)}function Pn(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Zc(i,s,a,u){const p=null!=u?u:-1,_=s.length-1;let w=0;for(let C=void 0!==u?65535&i[18]:0;C<_;C++)if("number"==typeof s[C+1]){if(w=s[C],null!=u&&w>=u)break}else s[C]<0&&(i[18]+=65536),(w<p||-1==p)&&(Wp(i,a,s,C),i[18]=(4294901760&i[18])+C+2),C++}function Wp(i,s,a,u){const c=a[u]<0,p=a[u+1],w=i[c?-a[u]:a[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Fo{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function pl(i,s,a){const u=cn(i);let c=0;for(;c<a.length;){const p=a[c];if("number"==typeof p){if(0!==p)break;c++;const _=a[c++],w=a[c++],C=a[c++];u?i.setAttribute(s,w,C,_):s.setAttributeNS(_,w,C)}else{const _=p,w=a[++c];gl(_)?u&&i.setProperty(s,_,w):u?i.setAttribute(s,_,w):s.setAttribute(_,w),c++}}return c}function es(i){return 3===i||4===i||6===i}function gl(i){return 64===i.charCodeAt(0)}function ha(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?a=c:0===a||ao(i,a,c,null,-1===a||2===a?s[++u]:null)}}return i}function ao(i,s,a,u,c){let p=0,_=i.length;if(-1===s)_=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){_=-1;break}if(w>s){_=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===a){if(null===u)return void(null!==c&&(i[p+1]=c));if(u===i[p+1])return void(i[p+2]=c)}p++,null!==u&&p++,null!==c&&p++}-1!==_&&(i.splice(_,0,s),p=_+1),i.splice(p++,0,a),null!==u&&i.splice(p++,0,u),null!==c&&i.splice(p++,0,c)}function Qc(i){return-1!==i}function Qt(i){return 32767&i}function mn(i,s){let a=function Lo(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Dt=!0;function Us(i){const s=Dt;return Dt=i,s}let Vh=0;function oi(i,s){const a=Vo(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,Fn(u.data,i),Fn(s,null),Fn(u.blueprint,null));const c=$r(i,s),p=i.injectorIndex;if(Qc(c)){const _=Qt(c),w=mn(c,s),C=w[1].data;for(let A=0;A<8;A++)s[p+A]=w[_+A]|C[_+A]}return s[p+8]=c,p}function Fn(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Vo(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function $r(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,c=s;for(;null!==c;){const p=c[1],_=p.type;if(u=2===_?p.declTNode:1===_?c[6]:null,null===u)return-1;if(a++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function lo(i,s,a){!function uo(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ut)&&(u=a[ut]),null==u&&(u=a[ut]=Vh++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function co(i,s,a){if(a&st.Optional)return i;_e(s,"NodeInjector")}function ho(i,s,a,u){if(a&st.Optional&&void 0===u&&(u=null),0==(a&(st.Self|st.Host))){const c=i[9],p=Nn(void 0);try{return c?c.get(s,u,a&st.Optional):ti(s,u,a&st.Optional)}finally{Nn(p)}}return co(u,s,a)}function ai(i,s,a,u=st.Default,c){if(null!==i){const p=function Jc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ut)?i[ut]:void 0;return"number"==typeof s?s>=0?255&s:Ln:s}(a);if("function"==typeof p){if(!ll(s,i,u))return u&st.Host?co(c,a,u):ho(s,a,u,c);try{const _=p(u);if(null!=_||u&st.Optional)return _;_e(a)}finally{zc()}}else if("number"==typeof p){let _=null,w=Vo(i,s),C=-1,A=u&st.Host?s[16][6]:null;for((-1===w||u&st.SkipSelf)&&(C=-1===w?$r(i,s):s[w+8],-1!==C&&vl(u,!1)?(_=s[1],w=Qt(C),s=mn(C,s)):w=-1);-1!==w;){const S=s[1];if(fa(p,w,S.data)){const k=fo(w,s,a,_,u,A);if(k!==Bs)return k}C=s[w+8],-1!==C&&vl(u,s[1].data[w+8]===A)&&fa(p,w,s)?(_=S,w=Qt(C),s=mn(C,s)):w=-1}}}return ho(s,a,u,c)}const Bs={};function Ln(){return new Ei(pn(),Ce())}function fo(i,s,a,u,c,p){const _=s[1],w=_.data[i+8],S=_l(w,_,a,null==u?As(w)&&Dt:u!=_&&0!=(3&w.type),c&st.Host&&p===w);return null!==S?ts(s,_,S,w):Bs}function _l(i,s,a,u,c){const p=i.providerIndexes,_=s.data,w=1048575&p,C=i.directiveStart,S=p>>20,V=c?w+S:i.directiveEnd;for(let W=u?w:w+S;W<V;W++){const ye=_[W];if(W<C&&a===ye||W>=C&&ye.type===a)return W}if(c){const W=_[C];if(W&&Lr(W)&&W.type===a)return C}return null}function ts(i,s,a,u){let c=i[a];const p=s.data;if(function Kc(i){return i instanceof Fo}(c)){const _=c;_.resolving&&function Ke(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new xe(-200,`Circular dependency in DI detected for ${i}${a}`)}(we(p[a]));const w=Us(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?Nn(_.injectImpl):null;ll(i,u,st.Default);try{c=i[a]=_.factory(void 0,p,i,u),s.firstCreatePass&&a>=u.directiveStart&&function hl(i,s,a){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:p}=s.type.prototype;if(u){const _=sa(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==C&&Nn(C),Us(w),_.resolving=!1,zc()}}return c}function fa(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function vl(i,s){return!(i&st.Self||i&st.Host&&s)}class Ei{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return ai(this._tNode,this._lView,s,u,a)}}function wl(i){return hn(()=>{const s=i.prototype.constructor,a=s[Ze]||po(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const p=c[Ze]||po(c);if(p&&p!==a)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function po(i){return He(i)?()=>{const s=po(Q(i));return s&&s()}:Vr(i)}function pa(i){return function yl(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let c=0;for(;c<u;){const p=a[c];if(es(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<u&&"string"==typeof a[c];)c++;else{if(p===s)return a[c+1];c+=2}}}return null}(pn(),i)}const rs="__parameters__";function go(i,s,a){return hn(()=>{const u=function du(i){return function(...a){if(i){const u=i(...a);for(const c in u)this[c]=u[c]}}}(s);function c(...p){if(this instanceof c)return u.apply(this,p),this;const _=new c(...p);return w.annotation=_,w;function w(C,A,S){const k=C.hasOwnProperty(rs)?C[rs]:Object.defineProperty(C,rs,{value:[]})[rs];for(;k.length<=S;)k.push(null);return(k[S]=k[S]||[]).push(_),C}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class In{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Xt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ed=new In("AnalyzeForEntryComponents");function Sr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),Sr(u,s)):s!==i&&s.push(u)}return s}function Ci(i,s){i.forEach(a=>Array.isArray(a)?Ci(a,s):s(a))}function gu(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Oi(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function li(i,s,a){let u=ya(i,s);return u>=0?i[1|u]=a:(u=~u,function ma(i,s,a,u){let c=i.length;if(c==s)i.push(a,u);else if(1===c)i.push(u,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function Hh(i,s){const a=ya(i,s);if(a>=0)return i[1|a]}function ya(i,s){return function mo(i,s,a){let u=0,c=i.length>>a;for(;c!==u;){const p=u+(c-u>>1),_=i[p<<a];if(s===_)return p<<a;_>s?c=p:u=p+1}return~(c<<a)}(i,s,1)}const ss={},js="__NG_DI_FLAG__",bl="ngTempTokenPath",b=/\n/gm,F="__source",z=ge({provide:String,useValue:ge});let X;function Se(i){const s=X;return X=i,s}function qe(i,s=st.Default){if(void 0===X)throw new xe(203,"");return null===X?ti(i,void 0,s):X.get(i,s&st.Optional?null:void 0,s)}function Qe(i,s=st.Default){return(function $n(){return kr}()||qe)(Q(i),s)}const Nt=Qe;function _t(i){const s=[];for(let a=0;a<i.length;a++){const u=Q(i[a]);if(Array.isArray(u)){if(0===u.length)throw new xe(900,"");let c,p=st.Default;for(let _=0;_<u.length;_++){const w=u[_],C=_n(w);"number"==typeof C?-1===C?c=w.token:p|=C:c=w}s.push(Qe(c,p))}else s.push(Qe(u))}return s}function qn(i,s){return i[js]=s,i.prototype[js]=s,i}function _n(i){return i[js]}const mr=qn(go("Inject",i=>({token:i})),-1),yr=qn(go("Optional"),8),os=qn(go("SkipSelf"),4);class eg{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function as(i){return i instanceof eg?i.changingThisBreaksApplicationSecurity:i}const Bo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ef=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Vn=(()=>((Vn=Vn||{})[Vn.NONE=0]="NONE",Vn[Vn.HTML=1]="HTML",Vn[Vn.STYLE=2]="STYLE",Vn[Vn.SCRIPT=3]="SCRIPT",Vn[Vn.URL=4]="URL",Vn[Vn.RESOURCE_URL=5]="RESOURCE_URL",Vn))();function gd(i){const s=function md(){const i=Ce();return i&&i[12]}();return s?s.sanitize(Vn.URL,i)||"":function Pl(i,s){const a=function Jh(i){return i instanceof eg&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?as(i):function _u(i){return(i=String(i)).match(Bo)||i.match(ef)?i:"unsafe:"+i}(he(i))}const Hs="__ngContext__";function fn(i,s){i[Hs]=s}function cf(i){const s=function us(i){return i[Hs]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function vd(i){return i.ngOriginalError}function pf(i,...s){i.error(...s)}class _r{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=function bi(i){return i&&i.ngErrorLogger||pf}(s);u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&vd(s);for(;a&&vd(a);)a=vd(a);return a||null}}const pg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))();function g(i){return i instanceof Function?i():i}var re=(()=>((re=re||{})[re.Important=1]="Important",re[re.DashCase=2]="DashCase",re))();function Ye(i,s){return undefined(i,s)}function bn(i){const s=i[3];return ri(s)?s[3]:s}function Vl(i){return mf(i[13])}function Ul(i){return mf(i[4])}function mf(i){for(;null!==i&&!ri(i);)i=i[4];return i}function jo(i,s,a,u,c){if(null!=u){let p,_=!1;ri(u)?p=u:_i(u)&&(_=!0,u=u[0]);const w=nn(u);0===i&&null!==a?null==c?Vy(s,a,w):Cu(s,a,w,c||null,!0):1===i&&null!==a?Cu(s,a,w,c||null,!0):2===i?function By(i,s,a){const u=_g(i,s);u&&function M0(i,s,a,u){cn(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}(s,w,_):3===i&&s.destroyNode(w),null!=p&&function Eg(i,s,a,u,c){const p=a[7];p!==nn(a)&&jo(s,i,u,p,c);for(let w=10;w<a.length;w++){const C=a[w];bu(C[1],C,i,s,u,p)}}(s,i,p,a,c)}}function Io(i,s,a){if(cn(i))return i.createElement(s,a);{const u=null!==a?function Ja(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?i.createElement(s):i.createElementNS(u,s)}}function Fy(i,s){const a=i[9],u=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,Ns(c,-1)),a.splice(u,1)}function yg(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const c=u[17];null!==c&&c!==i&&Fy(c,u),s>0&&(i[a-1][4]=u[4]);const p=Oi(i,10+s);!function mg(i,s){bu(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const _=p[19];null!==_&&_.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Ly(i,s){if(!(256&s[2])){const a=s[11];cn(a)&&a.destroyNode&&bu(i,s,a,3,null,null),function KC(i){let s=i[13];if(!s)return D0(i[1],i);for(;s;){let a=null;if(_i(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)_i(s)&&D0(s[1],s),s=s[3];null===s&&(s=i),_i(s)&&D0(s[1],s),a=s&&s[4]}s=a}}(s)}}function D0(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Ho(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const c=s[a[u]];if(!(c instanceof Fo)){const p=a[u+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const w=c[p[_]],C=p[_+1];try{C.call(w)}finally{}}else try{p.call(c)}finally{}}}}(i,s),function Wr(i,s){const a=i.cleanup,u=s[7];let c=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],w="function"==typeof _?_(s):nn(s[_]),C=u[c=a[p+2]],A=a[p+3];"boolean"==typeof A?w.removeEventListener(a[p],C,A):A>=0?u[c=A]():u[c=-A].unsubscribe(),p+=2}else{const _=u[c=a[p+1]];a[p].call(_)}if(null!==u){for(let p=c+1;p<u.length;p++)u[p]();s[7]=null}}(i,s),1===s[1].type&&cn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&ri(s[3])){a!==s[3]&&Fy(a,s);const u=s[19];null!==u&&u.detachView(i)}}}function T0(i,s,a){return function A0(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===Vt.None||c===Vt.Emulated)return null}return hr(u,a)}(i,s.parent,a)}function Cu(i,s,a,u,c){cn(i)?i.insertBefore(s,a,u,c):s.insertBefore(a,u,c)}function Vy(i,s,a){cn(i)?i.appendChild(s,a):s.appendChild(a)}function S0(i,s,a,u,c){null!==u?Cu(i,s,a,u,c):Vy(i,s,a)}function _g(i,s){return cn(i)?i.parentNode(s):s.parentNode}let Iu=function _f(i,s,a){return 40&i.type?hr(i,a):null};function vg(i,s,a,u){const c=T0(i,u,s),p=s[11],w=function Uy(i,s,a){return Iu(i,s,a)}(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(a))for(let C=0;C<a.length;C++)S0(p,c,a[C],w,!1);else S0(p,c,a,w,!1)}function Go(i,s){if(null!==s){const a=s.type;if(3&a)return hr(s,i);if(4&a)return wg(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Go(i,u);{const c=i[s.index];return ri(c)?wg(-1,c):nn(c)}}if(32&a)return Ye(s,i)()||nn(i[s.index]);{const u=O0(i,s);return null!==u?Array.isArray(u)?u[0]:Go(bn(i[16]),u):Go(i,s.next)}}return null}function O0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function wg(i,s){const a=10+i+1;if(a<s.length){const u=s[a],c=u[1].firstChild;if(null!==c)return Go(u,c)}return s[7]}function jy(i,s,a,u,c,p,_){for(;null!=a;){const w=u[a.index],C=a.type;if(_&&0===s&&(w&&fn(nn(w),u),a.flags|=4),64!=(64&a.flags))if(8&C)jy(i,s,a.child,u,c,p,!1),jo(s,i,c,w,p);else if(32&C){const A=Ye(a,u);let S;for(;S=A();)jo(s,i,c,S,p);jo(s,i,c,w,p)}else 16&C?$y(i,s,u,a,c,p):jo(s,i,c,w,p);a=_?a.projectionNext:a.next}}function bu(i,s,a,u,c,p){jy(a,u,i.firstChild,s,c,p,!1)}function $y(i,s,a,u,c,p){const _=a[16],C=_[6].projection[u.projection];if(Array.isArray(C))for(let A=0;A<C.length;A++)jo(s,i,c,C[A],p);else jy(i,s,C,_[3],c,p,!0)}function Cg(i,s,a){cn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Cd(i,s,a){cn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Hy(i,s,a){let u=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const p=s.length;if(c+p===u||i.charCodeAt(c+p)<=32)return c}a=c+1}}const P0="ng-template";function XC(i,s,a){let u=0;for(;u<i.length;){let c=i[u++];if(a&&"class"===c){if(c=i[u],-1!==Hy(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function R0(i){return 4===i.type&&i.value!==P0}function Ig(i,s,a){return s===(4!==i.type||a?i.value:P0)}function eI(i,s,a){let u=4;const c=i.attrs||[],p=function k0(i){for(let s=0;s<i.length;s++)if(es(i[s]))return s;return i.length}(c);let _=!1;for(let w=0;w<s.length;w++){const C=s[w];if("number"!=typeof C){if(!_)if(4&u){if(u=2|1&u,""!==C&&!Ig(i,C,a)||""===C&&1===s.length){if(bo(u))return!1;_=!0}}else{const A=8&u?C:s[++w];if(8&u&&null!==i.attrs){if(!XC(i.attrs,A,a)){if(bo(u))return!1;_=!0}continue}const k=tI(8&u?"class":C,c,R0(i),a);if(-1===k){if(bo(u))return!1;_=!0;continue}if(""!==A){let V;V=k>p?"":c[k+1].toLowerCase();const W=8&u?V:null;if(W&&-1!==Hy(W,A,0)||2&u&&A!==V){if(bo(u))return!1;_=!0}}}}else{if(!_&&!bo(u)&&!bo(C))return!1;if(_&&bo(C))continue;_=!1,u=C|1&u}}return bo(u)||_}function bo(i){return 0==(1&i)}function tI(i,s,a,u){if(null===s)return-1;let c=0;if(u||!a){let p=!1;for(;c<s.length;){const _=s[c];if(_===i)return c;if(3===_||6===_)p=!0;else{if(1===_||2===_){let w=s[++c];for(;"string"==typeof w;)w=s[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=p?1:2}return-1}return function Gy(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function N0(i,s,a=!1){for(let u=0;u<s.length;u++)if(eI(i,s[u],a))return!0;return!1}function qo(i,s){return i?":not("+s.trim()+")":s}function Id(i){let s=i[0],a=1,u=2,c="",p=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&u){const w=i[++a];c+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?c+="."+_:4&u&&(c+=" "+_);else""!==c&&!bo(_)&&(s+=qo(p,c),c=""),u=_,p=p||!bo(u);a++}return""!==c&&(s+=qo(p,c)),s}const At={};function $l(i){zy(xt(),Ce(),pr()+i,su())}function zy(i,s,a,u){if(!u)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&da(s,p,a)}else{const p=i.preOrderHooks;null!==p&&lu(s,p,0,a)}Vs(a)}function Hl(i,s){return i<<17|s<<2}function Gs(i){return i>>17&32767}function wf(i){return 2|i}function Do(i){return(131068&i)>>2}function Wy(i,s){return-131069&i|s<<2}function Zy(i){return 1|i}function If(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const c=a[u],p=a[u+1];if(-1!==p){const _=i.data[p];ul(c),_.contentQueries(2,s[p],p)}}}function bf(i,s,a,u,c,p,_,w,C,A){const S=s.blueprint.slice();return S[0]=c,S[2]=140|u,Rs(S),S[3]=S[15]=i,S[8]=a,S[10]=_||i&&i[10],S[11]=w||i&&i[11],S[12]=C||i&&i[12]||null,S[9]=A||i&&i[9]||null,S[6]=p,S[16]=2==s.type?i[16]:S,S}function Ad(i,s,a,u,c){let p=i.data[s];if(null===p)p=function i_(i,s,a,u,c){const p=No(),_=nl(),C=i.data[s]=function Fg(i,s,a,u,c,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,s,u,c);return null===i.firstChild&&(i.firstChild=C),null!==p&&(_?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(i,s,a,u,c),function sl(){return lt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=c;const _=function ko(){const i=lt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return jr(p,!0),p}function Da(i,s,a,u){if(0===a)return-1;const c=s.length;for(let p=0;p<a;p++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function Sd(i,s,a){ro(s);try{const u=i.viewQuery;null!==u&&d_(1,u,a);const c=i.template;null!==c&&s_(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&If(i,s),i.staticViewQueries&&d_(2,i.viewQuery,a);const p=i.components;null!==p&&function uI(i,s){for(let a=0;a<s.length;a++)CI(i,s[a])}(s,p)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,so()}}function ql(i,s,a,u){const c=s[2];if(256==(256&c))return;ro(s);const p=su();try{Rs(s),function ou(i){return lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&s_(i,s,a,2,u);const _=3==(3&c);if(!p)if(_){const A=i.preOrderCheckHooks;null!==A&&da(s,A,null)}else{const A=i.preOrderHooks;null!==A&&lu(s,A,0,null),Pn(s,0)}if(function wI(i){for(let s=Vl(i);null!==s;s=Ul(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const c=a[u],p=c[3];0==(1024&c[2])&&Ns(p,1),c[2]|=1024}}}(s),function vI(i){for(let s=Vl(i);null!==s;s=Ul(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1];Qi(u)&&ql(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&If(i,s),!p)if(_){const A=i.contentCheckHooks;null!==A&&da(s,A)}else{const A=i.contentHooks;null!==A&&lu(s,A,1),Pn(s,1)}!function G0(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const c=a[u];if(c<0)Vs(~c);else{const p=c,_=a[++u],w=a[++u];uu(_,p),w(2,s[p])}}}finally{Vs(-1)}}(i,s);const w=i.components;null!==w&&function Pg(i,s){for(let a=0;a<s.length;a++)EI(i,s[a])}(s,w);const C=i.viewQuery;if(null!==C&&d_(2,C,u),!p)if(_){const A=i.viewCheckHooks;null!==A&&da(s,A)}else{const A=i.viewHooks;null!==A&&lu(s,A,2),Pn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Ns(s[3],-1))}finally{so()}}function Rg(i,s,a,u){const c=s[10],p=!su(),_=Ps(s);try{p&&!_&&c.begin&&c.begin(),_&&Sd(i,s,u),ql(i,s,a,u)}finally{p&&!_&&c.end&&c.end()}}function s_(i,s,a,u,c){const p=pr(),_=2&u;try{Vs(-1),_&&s.length>20&&zy(i,s,20,su()),a(u,c)}finally{Vs(p)}}function Ng(i,s,a){!iu()||(function pI(i,s,a,u){const c=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||oi(a,s),fn(u,s);const _=a.initialInputs;for(let w=c;w<p;w++){const C=i.data[w],A=Lr(C);A&&rw(s,a,C);const S=ts(s,i,w,a);fn(S,s),null!==_&&iw(0,w-c,S,C,0,_),A&&(fr(a.index,s)[8]=S)}}(i,s,a,hr(a,s)),128==(128&a.flags)&&function gI(i,s,a){const u=a.directiveStart,c=a.directiveEnd,_=a.index,w=function ol(){return lt.lFrame.currentDirectiveIndex}();try{Vs(_);for(let C=u;C<c;C++){const A=i.data[C],S=s[C];la(C),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&J0(A,S)}}finally{Vs(-1),la(w)}}(i,s,a))}function o_(i,s,a=hr){const u=s.localNames;if(null!==u){let c=s.index+1;for(let p=0;p<u.length;p+=2){const _=u[p+1],w=-1===_?a(s,i):i[_];i[c++]=w}}}function q0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=kg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function kg(i,s,a,u,c,p,_,w,C,A){const S=20+u,k=S+c,V=function lI(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:At);return a}(S,k),W="function"==typeof A?A():A;return V[1]={type:i,blueprint:V,template:a,queries:null,viewQuery:w,declTNode:s,data:V.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:W,incompleteFirstPass:!1}}function a_(i,s,a,u){const c=uw(s);null===a?c.push(u):(c.push(a),i.firstCreatePass&&ci(i).push(u,c.length-1))}function K0(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,c):a[u]=[s,c]}return a}function u_(i,s,a,u){let c=!1;if(iu()){const p=function X0(i,s,a){const u=i.directiveRegistry;let c=null;if(u)for(let p=0;p<u.length;p++){const _=u[p];N0(a,_.selectors,!1)&&(c||(c=[]),lo(oi(a,s),i,_.type),Lr(_)?(ew(i,a),c.unshift(_)):c.push(_))}return c}(i,s,a),_=null===u?null:{"":-1};if(null!==p){c=!0,tw(a,i.data.length,p.length);for(let S=0;S<p.length;S++){const k=p[S];k.providersResolver&&k.providersResolver(k)}let w=!1,C=!1,A=Da(i,s,p.length,null);for(let S=0;S<p.length;S++){const k=p[S];a.mergedAttrs=ha(a.mergedAttrs,k.hostAttrs),nw(i,a,s,A,k),yI(A,k,_),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const V=k.type.prototype;!w&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!C&&(V.ngOnChanges||V.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),C=!0),A++}!function cI(i,s){const u=s.directiveEnd,c=i.data,p=s.attrs,_=[];let w=null,C=null;for(let A=s.directiveStart;A<u;A++){const S=c[A],k=S.inputs,V=null===p||R0(s)?null:sw(k,p);_.push(V),w=K0(k,A,w),C=K0(S.outputs,A,C)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=w,s.outputs=C}(i,a)}_&&function mI(i,s,a){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const p=a[s[c+1]];if(null==p)throw new xe(-301,!1);u.push(s[c],p)}}}(a,u,_)}return a.mergedAttrs=ha(a.mergedAttrs,a.attrs),c}function Q0(i,s,a,u,c,p){const _=p.hostBindings;if(_){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const C=~s.index;(function fI(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=C&&w.push(C),w.push(u,c,_)}}function J0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function ew(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function yI(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Lr(s)&&(a[""]=i)}}function tw(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function nw(i,s,a,u,c){i.data[u]=c;const p=c.factory||(c.factory=Vr(c.type)),_=new Fo(p,Lr(c),null);i.blueprint[u]=_,a[u]=_,Q0(i,s,0,u,Da(i,a,c.hostVars,At),c)}function rw(i,s,a){const u=hr(s,i),c=q0(a),p=i[10],_=jg(i,bf(i,c,null,a.onPush?64:16,u,s,p,p.createRenderer(u,a),null,null));i[s.index]=_}function Ta(i,s,a,u,c,p){const _=hr(i,s);!function Ug(i,s,a,u,c,p,_){if(null==p)cn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const w=null==_?he(p):_(p,u||"",c);cn(i)?i.setAttribute(s,c,w,a):a?s.setAttributeNS(a,c,w):s.setAttribute(c,w)}}(s[11],_,p,i.value,a,u,c)}function iw(i,s,a,u,c,p){const _=p[s];if(null!==_){const w=u.setInput;for(let C=0;C<_.length;){const A=_[C++],S=_[C++],k=_[C++];null!==w?u.setInput(a,k,A,S):a[S]=k}}}function sw(i,s){let a=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return a}function ow(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function EI(i,s){const a=fr(s,i);if(Qi(a)){const u=a[1];80&a[2]?ql(u,a,u.template,a[8]):a[5]>0&&Bg(a)}}function Bg(i){for(let u=Vl(i);null!==u;u=Ul(u))for(let c=10;c<u.length;c++){const p=u[c];if(1024&p[2]){const _=p[1];ql(_,p,_.template,p[8])}else p[5]>0&&Bg(p)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const c=fr(a[u],i);Qi(c)&&c[5]>0&&Bg(c)}}function CI(i,s){const a=fr(s,i),u=a[1];(function l_(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),Sd(u,a,a[8])}function jg(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function c_(i){for(;i;){i[2]|=64;const s=bn(i);if(Nh(i)&&!s)return i;i=s}return null}function $g(i,s,a){const u=s[10];u.begin&&u.begin();try{ql(i,s,i.template,a)}catch(c){throw h_(s,c),c}finally{u.end&&u.end()}}function aw(i){!function Tf(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=cf(a),c=u[1];Rg(c,u,c.template,a)}}(i[8])}function d_(i,s,a){ul(0),s(i,a)}const AI=(()=>Promise.resolve(null))();function uw(i){return i[7]||(i[7]=[])}function ci(i){return i.cleanup||(i.cleanup=[])}function h_(i,s){const a=i[9],u=a?a.get(_r,null):null;u&&u.handleError(s)}function Hg(i,s,a,u,c){for(let p=0;p<a.length;){const _=a[p++],w=a[p++],C=s[_],A=i.data[_];null!==A.setInput?A.setInput(C,c,u,w):C[w]=c}}function Ws(i,s,a){const u=no(s,i);!function Ot(i,s,a){cn(i)?i.setValue(s,a):s.textContent=a}(i[11],u,a)}function Aa(i,s,a){let u=a?i.styles:null,c=a?i.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?p=w:1==p?c=ue(c,w):2==p&&(u=ue(u,w+": "+s[++_]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=c:i.classesWithoutHost=c}const f_=new In("INJECTOR",-1);class p_{get(s,a=ss){if(a===ss){const u=new Error(`NullInjectorError: No provider for ${de(s)}!`);throw u.name="NullInjectorError",u}return a}}const Gg=new In("Set Injector scope."),zl={},eA={};let Sa;function g_(){return void 0===Sa&&(Sa=new p_),Sa}function cw(i,s=null,a=null,u){const c=dw(i,s,a,u);return c._resolveInjectorDefTypes(),c}function dw(i,s=null,a=null,u){return new hw(i,a,s||g_(),u)}class hw{constructor(s,a,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Ci(a,w=>this.processProvider(w,s,a)),Ci([s],w=>this.processInjectorType(w,[],p)),this.records.set(f_,xd(void 0,this));const _=this.records.get(Gg);this.scope=null!=_?_.value:null,this.source=c||("object"==typeof s?null:de(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ss,u=st.Default){this.assertNotDestroyed();const c=Se(this),p=Nn(void 0);try{if(!(u&st.SkipSelf)){let w=this.records.get(s);if(void 0===w){const C=function tA(i){return"function"==typeof i||"object"==typeof i&&i instanceof In}(s)&&Lt(s);w=C&&this.injectableDefInScope(C)?xd(m_(s),zl):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(u&st.Self?g_():this.parent).get(s,a=u&st.Optional&&a===ss?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[bl]=_[bl]||[]).unshift(de(s)),c)throw _;return function Pi(i,s,a,u){const c=i[bl];throw s[F]&&c.unshift(s[F]),i.message=function yo(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=de(s);if(Array.isArray(s))c=s.map(de).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let w=s[_];p.push(_+":"+("string"==typeof w?JSON.stringify(w):de(w)))}c=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${c}]: ${i.replace(b,"\n  ")}`}("\n"+i.message,c,a,u),i.ngTokenPath=c,i[bl]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{Nn(p),Se(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(de(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processInjectorType(s,a,u){if(!(s=Q(s)))return!1;let c=Dr(s);const p=null==c&&s.ngModule||void 0,_=void 0===p?s:p,w=-1!==u.indexOf(_);if(void 0!==p&&(c=Dr(p)),null==c)return!1;if(null!=c.imports&&!w){let S;u.push(_);try{Ci(c.imports,k=>{this.processInjectorType(k,a,u)&&(void 0===S&&(S=[]),S.push(k))})}finally{}if(void 0!==S)for(let k=0;k<S.length;k++){const{ngModule:V,providers:W}=S[k];Ci(W,ye=>this.processProvider(ye,V,W||at))}}this.injectorDefTypes.add(_);const C=Vr(_)||(()=>new _);this.records.set(_,xd(C,zl));const A=c.providers;if(null!=A&&!w){const S=s;Ci(A,k=>this.processProvider(k,S,A))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,u){let c=Od(s=Q(s))?s:Q(s&&s.provide);const p=function PI(i,s,a){return fw(i)?xd(void 0,i.useValue):xd(y_(i),zl)}(s);if(Od(s)||!0!==s.multi)this.records.get(c);else{let _=this.records.get(c);_||(_=xd(void 0,zl,!0),_.factory=()=>_t(_.multi),this.records.set(c,_)),c=s,_.multi.push(s)}this.records.set(c,p)}hydrate(s,a){return a.value===zl&&(a.value=eA,a.value=a.factory()),"object"==typeof a.value&&a.value&&function kI(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Q(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function m_(i){const s=Lt(i),a=null!==s?s.factory:Vr(i);if(null!==a)return a;if(i instanceof In)throw new xe(204,!1);if(i instanceof Function)return function OI(i){const s=i.length;if(s>0)throw function Gr(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}(s,"?"),new xe(204,!1);const a=function ei(i){const s=i&&(i[Ai]||i[Gi]);if(s){const a=function Es(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new xe(204,!1)}function y_(i,s,a){let u;if(Od(i)){const c=Q(i);return Vr(c)||m_(c)}if(fw(i))u=()=>Q(i.useValue);else if(function __(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(..._t(i.deps||[]));else if(function RI(i){return!(!i||!i.useExisting)}(i))u=()=>Qe(Q(i.useExisting));else{const c=Q(i&&(i.useClass||i.provide));if(!function pw(i){return!!i.deps}(i))return Vr(c)||m_(c);u=()=>new c(..._t(i.deps))}return u}function xd(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function fw(i){return null!==i&&"object"==typeof i&&z in i}function Od(i){return"function"==typeof i}let ce=(()=>{class i{static create(a,u){var c;if(Array.isArray(a))return cw({name:""},u,a,"");{const p=null!==(c=a.name)&&void 0!==c?c:"";return cw({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=ss,i.NULL=new p_,i.\u0275prov=Xt({token:i,providedIn:"any",factory:()=>Qe(f_)}),i.__NG_ELEMENT_ID__=-1,i})();function Zr(i,s){Ji(cf(i)[1],pn())}function w_(i){let s=function vw(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let c;if(Lr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new xe(903,"");c=s.\u0275dir}if(c){if(a){u.push(c);const _=i;_.inputs=Zg(i.inputs),_.declaredInputs=Zg(i.declaredInputs),_.outputs=Zg(i.outputs);const w=c.hostBindings;w&&E_(i,w);const C=c.viewQuery,A=c.contentQueries;if(C&&VI(i,C),A&&Ew(i,A),ie(i.inputs,c.inputs),ie(i.declaredInputs,c.declaredInputs),ie(i.outputs,c.outputs),Lr(c)&&c.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let _=0;_<p.length;_++){const w=p[_];w&&w.ngInherit&&w(i),w===w_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function ww(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=ha(c.hostAttrs,a=ha(a,c.hostAttrs))}}(u)}function Zg(i){return i===Jn?{}:i===at?[]:i}function VI(i,s){const a=i.viewQuery;i.viewQuery=a?(u,c)=>{s(u,c),a(u,c)}:s}function Ew(i,s){const a=i.contentQueries;i.contentQueries=a?(u,c,p)=>{s(u,c,p),a(u,c,p)}:s}function E_(i,s){const a=i.hostBindings;i.hostBindings=a?(u,c)=>{s(u,c),a(u,c)}:s}let Rd=null;function rr(){if(!Rd){const i=kt.Symbol;if(i&&i.iterator)Rd=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Rd=u)}}}return Rd}function Nd(i){return!!Yg(i)&&(Array.isArray(i)||!(i instanceof Map)&&rr()in i)}function Yg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function di(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Mf(i,s,a,u){const c=Ce();return di(c,Fs(),s)&&(xt(),Ta(Cn(),c,i,s,a,u)),Mf}function xf(i,s,a,u,c,p,_,w){const C=Ce(),A=xt(),S=i+20,k=A.firstCreatePass?function UI(i,s,a,u,c,p,_,w,C){const A=s.consts,S=Ad(s,i,4,_||null,Br(A,w));u_(s,a,S,Br(A,C)),Ji(s,S);const k=S.tViews=kg(2,S,u,c,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,A);return null!==s.queries&&(s.queries.template(s,S),k.queries=s.queries.embeddedTView(S)),S}(S,A,C,s,a,u,c,p,_):A.data[S];jr(k,!1);const V=C[11].createComment("");vg(A,C,V,k),fn(V,C),jg(C,C[S]=ow(V,C,V,k)),za(k)&&Ng(A,C,k),null!=_&&o_(C,k,w)}function Nf(i,s=st.Default){const a=Ce();return null===a?Qe(i,s):ai(pn(),a,Q(i),s)}function Uw(){throw new Error("invalid")}function Pa(i,s,a){const u=Ce();return di(u,Fs(),s)&&function cs(i,s,a,u,c,p,_,w){const C=hr(s,a);let S,A=s.inputs;!w&&null!=A&&(S=A[u])?(Hg(i,a,S,u,c),As(s)&&function Df(i,s){const a=fr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function Lg(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=_?_(c,s.value||"",u):c,cn(p)?p.setProperty(C,u,c):gl(u)||(C.setProperty?C.setProperty(u,c):C[u]=c))}(xt(),Cn(),u,i,s,u[11],a,!1),Pa}function om(i,s,a,u,c){const _=c?"class":"style";Hg(i,a,s.inputs[_],_,u)}function kf(i,s,a,u){const c=Ce(),p=xt(),_=20+i,w=c[11],C=c[_]=Io(w,s,function vy(){return lt.lFrame.currentNamespace}()),A=p.firstCreatePass?function am(i,s,a,u,c,p,_){const w=s.consts,A=Ad(s,i,2,c,Br(w,p));return u_(s,a,A,Br(w,_)),null!==A.attrs&&Aa(A,A.attrs,!1),null!==A.mergedAttrs&&Aa(A,A.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,A),A}(_,p,c,0,s,a,u):p.data[_];jr(A,!0);const S=A.mergedAttrs;null!==S&&pl(w,C,S);const k=A.classes;null!==k&&Cd(w,C,k);const V=A.styles;return null!==V&&Cg(w,C,V),64!=(64&A.flags)&&vg(p,c,C,A),0===function ua(){return lt.lFrame.elementDepthCount}()&&fn(C,c),function nu(){lt.lFrame.elementDepthCount++}(),za(A)&&(Ng(p,c,A),function Md(i,s,a){if(Rc(s)){const c=s.directiveEnd;for(let p=s.directiveStart;p<c;p++){const _=i.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}(p,A,c)),null!==u&&o_(c,A),kf}function xu(){let i=pn();nl()?function rl(){lt.lFrame.isParent=!1}():(i=i.parent,jr(i,!1));const s=i;!function ru(){lt.lFrame.elementDepthCount--}();const a=xt();return a.firstCreatePass&&(Ji(a,i),Rc(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Lh(i){return 0!=(16&i.flags)}(s)&&om(a,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Zp(i){return 0!=(32&i.flags)}(s)&&om(a,s,Ce(),s.stylesWithoutHost,!1),xu}function um(i,s,a,u){return kf(i,s,a,u),xu(),um}function lm(){return Ce()}function cm(i){return!!i&&"function"==typeof i.then}function B_(i){return!!i&&"function"==typeof i.subscribe}const jd=B_;function Ff(i,s,a,u){const c=Ce(),p=xt(),_=pn();return function Lf(i,s,a,u,c,p,_,w){const C=za(u),S=i.firstCreatePass&&ci(i),k=s[8],V=uw(s);let W=!0;if(3&u.type||w){const Ue=hr(u,s),We=w?w(Ue):Ue,Ee=V.length,ot=w?$t=>w(nn($t[u.index])):u.index;if(cn(a)){let $t=null;if(!w&&C&&($t=function j_(i,s,a,u){const c=i.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const _=c[p];if(_===a&&c[p+1]===u){const w=s[7],C=c[p+2];return w.length>C?w[C]:null}"string"==typeof _&&(p+=2)}return null}(i,s,c,u.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=p,$t.__ngLastListenerFn__=p,W=!1;else{p=hm(u,s,k,p,!1);const ln=a.listen(We,c,p);V.push(p,ln),S&&S.push(c,ot,Ee,Ee+1)}}else p=hm(u,s,k,p,!0),We.addEventListener(c,p,_),V.push(p),S&&S.push(c,ot,Ee,_)}else p=hm(u,s,k,p,!1);const ye=u.outputs;let Re;if(W&&null!==ye&&(Re=ye[c])){const Ue=Re.length;if(Ue)for(let We=0;We<Ue;We+=2){const ys=s[Re[We]][Re[We+1]].subscribe(p),Ac=V.length;V.push(p,ys),S&&S.push(c,u.index,Ac,-(Ac+1))}}}(p,c,c[11],_,i,s,!!a,u),Ff}function $d(i,s,a,u){try{return!1!==a(u)}catch(c){return h_(i,c),!1}}function hm(i,s,a,u,c){return function p(_){if(_===Function)return u;const w=2&i.flags?fr(i.index,s):s;0==(32&s[2])&&c_(w);let C=$d(s,0,u,_),A=p.__ngNextListenerFn__;for(;A;)C=$d(s,0,A,_)&&C,A=A.__ngNextListenerFn__;return c&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function jw(i=1){return function Ls(i){return(lt.lFrame.contextLView=function cl(i,s){for(;i>0;)s=s[15],i--;return s}(i,lt.lFrame.contextLView))[8]}(i)}function mm(i,s,a,u,c){const p=i[a+1],_=null===s;let w=u?Gs(p):Do(p),C=!1;for(;0!==w&&(!1===C||_);){const S=i[w+1];nc(i[w],s)&&(C=!0,i[w+1]=u?Zy(S):wf(S)),w=u?Gs(S):Do(S)}C&&(i[a+1]=u?wf(p):Zy(p))}function nc(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ya(i,s)>=0}function Y_(i,s){return function Or(i,s,a,u){const c=Ce(),p=xt(),_=function wi(i){const s=lt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);p.firstUpdatePass&&function J_(i,s,a,u){const c=i.data;if(null===c[a+1]){const p=c[pr()],_=function Q_(i,s){return s>=i.expandoStartIndex}(i,a);(function Ww(i,s){return 0!=(i.flags&(s?16:32))})(p,u)&&null===s&&!_&&(s=!1),s=function Wd(i,s,a,u){const c=function ca(i){const s=lt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(a=Zd(a=X_(null,i,s,a,u),s.attrs,u),p=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==c)if(a=X_(c,i,s,a,u),null===p){let C=function WI(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Do(u))return i[Gs(u)]}(i,s,u);void 0!==C&&Array.isArray(C)&&(C=X_(null,i,s,C[1],u),C=Zd(C,s.attrs,u),function ZI(i,s,a,u){i[Gs(a?s.classBindings:s.styleBindings)]=u}(i,s,u,C))}else p=function qw(i,s,a){let u;const c=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<c;p++)u=Zd(u,i[p].hostAttrs,a);return Zd(u,s.attrs,a)}(i,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),a}(c,p,s,u),function W_(i,s,a,u,c,p){let _=p?s.classBindings:s.styleBindings,w=Gs(_),C=Do(_);i[u]=a;let S,A=!1;if(Array.isArray(a)){const k=a;S=k[1],(null===S||ya(k,S)>0)&&(A=!0)}else S=a;if(c)if(0!==C){const V=Gs(i[w+1]);i[u+1]=Hl(V,w),0!==V&&(i[V+1]=Wy(i[V+1],u)),i[w+1]=function U0(i,s){return 131071&i|s<<17}(i[w+1],u)}else i[u+1]=Hl(w,0),0!==w&&(i[w+1]=Wy(i[w+1],u)),w=u;else i[u+1]=Hl(C,0),0===w?w=u:i[C+1]=Wy(i[C+1],u),C=u;A&&(i[u+1]=wf(i[u+1])),mm(i,S,u,!0),mm(i,S,u,!1),function qd(i,s,a,u,c){const p=c?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&ya(p,s)>=0&&(a[u+1]=Zy(a[u+1]))}(s,S,i,u,p),_=Hl(w,C),p?s.classBindings=_:s.styleBindings=_}(c,p,s,a,_,u)}}(p,i,_,u),s!==At&&di(c,_,s)&&function tv(i,s,a,u,c,p,_,w){if(!(3&s.type))return;const C=i.data,A=C[w+1];Kd(function bd(i){return 1==(1&i)}(A)?nv(C,s,a,c,Do(A),_):void 0)||(Kd(p)||function bg(i){return 2==(2&i)}(A)&&(p=nv(C,null,a,c,w,_)),function QC(i,s,a,u,c){const p=cn(i);if(s)c?p?i.addClass(a,u):a.classList.add(u):p?i.removeClass(a,u):a.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:re.DashCase;if(null==c)p?i.removeStyle(a,u,_):a.style.removeProperty(u);else{const w="string"==typeof c&&c.endsWith("!important");w&&(c=c.slice(0,-10),_|=re.Important),p?i.setStyle(a,u,c,_):a.style.setProperty(u,c,w?"important":"")}}}(u,_,no(pr(),a),c,p))}(p,p.data[pr()],c,c[11],i,c[_+1]=function KI(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=de(as(i)))),i}(s,a),u,_)}(i,s,null,!0),Y_}function X_(i,s,a,u,c){let p=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(p=s[w],u=Zd(u,p.hostAttrs,c),p!==i);)w++;return null!==i&&(a.directiveStylingLast=w),u}function Zd(i,s,a){const u=a?1:2;let c=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?c=_:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),li(i,_,!!a||s[++p]))}return void 0===i?null:i}function nv(i,s,a,u,c,p){const _=null===s;let w;for(;c>0;){const C=i[c],A=Array.isArray(C),S=A?C[1]:C,k=null===S;let V=a[c+1];V===At&&(V=k?at:void 0);let W=k?Hh(V,u):S===u?V:void 0;if(A&&!Kd(W)&&(W=Hh(C,u)),Kd(W)&&(w=W,_))return w;const ye=i[c+1];c=_?Gs(ye):Do(ye)}if(null!==s){let C=p?s.residualClasses:s.residualStyles;null!=C&&(w=Hh(C,u))}return w}function Kd(i){return void 0!==i}function Zw(i,s=""){const a=Ce(),u=xt(),c=i+20,p=u.firstCreatePass?Ad(u,c,1,s,null):u.data[c],_=a[c]=function Bl(i,s){return cn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);vg(u,a,_,p),jr(p,!1)}function Pu(i,s,a){const u=Ce(),c=function kd(i,s,a,u){return di(i,Fs(),a)?s+he(a)+u:At}(u,i,s,a);return c!==At&&Ws(u,pr(),c),Pu}const Ru=void 0;var ic=["en",[["a","p"],["AM","PM"],Ru],[["AM","PM"],Ru,Ru],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ru,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ru,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ru,"{1} 'at' {0}",Ru],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iE(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let sc={};function Tm(i){const s=function Xd(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Vi(s);if(a)return a;const u=s.split("-")[0];if(a=Vi(u),a)return a;if("en"===u)return ic;throw new Error(`Missing locale data for the locale "${i}".`)}function Wf(i){return Tm(i)[pt.PluralCase]}function Vi(i){return i in sc||(sc[i]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[i]),sc[i]}var pt=(()=>((pt=pt||{})[pt.LocaleId=0]="LocaleId",pt[pt.DayPeriodsFormat=1]="DayPeriodsFormat",pt[pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",pt[pt.DaysFormat=3]="DaysFormat",pt[pt.DaysStandalone=4]="DaysStandalone",pt[pt.MonthsFormat=5]="MonthsFormat",pt[pt.MonthsStandalone=6]="MonthsStandalone",pt[pt.Eras=7]="Eras",pt[pt.FirstDayOfWeek=8]="FirstDayOfWeek",pt[pt.WeekendRange=9]="WeekendRange",pt[pt.DateFormat=10]="DateFormat",pt[pt.TimeFormat=11]="TimeFormat",pt[pt.DateTimeFormat=12]="DateTimeFormat",pt[pt.NumberSymbols=13]="NumberSymbols",pt[pt.NumberFormats=14]="NumberFormats",pt[pt.CurrencyCode=15]="CurrencyCode",pt[pt.CurrencySymbol=16]="CurrencySymbol",pt[pt.CurrencyName=17]="CurrencyName",pt[pt.Currencies=18]="Currencies",pt[pt.Directionality=19]="Directionality",pt[pt.PluralCase=20]="PluralCase",pt[pt.ExtraData=21]="ExtraData",pt))();const eh="en-US";let sE=eh;function ah(i,s,a,u,c){if(i=Q(i),Array.isArray(i))for(let p=0;p<i.length;p++)ah(i[p],s,a,u,c);else{const p=xt(),_=Ce();let w=Od(i)?i:Q(i.provide),C=y_(i);const A=pn(),S=1048575&A.providerIndexes,k=A.directiveStart,V=A.providerIndexes>>20;if(Od(i)||!i.multi){const W=new Fo(C,c,Nf),ye=wv(w,s,c?S:S+V,k);-1===ye?(lo(oi(A,_),p,w),cc(p,i,s.length),s.push(w),A.directiveStart++,A.directiveEnd++,c&&(A.providerIndexes+=1048576),a.push(W),_.push(W)):(a[ye]=W,_[ye]=W)}else{const W=wv(w,s,S+V,k),ye=wv(w,s,S,S+V),Re=W>=0&&a[W],Ue=ye>=0&&a[ye];if(c&&!Ue||!c&&!Re){lo(oi(A,_),p,w);const We=function wE(i,s,a,u,c){const p=new Fo(i,a,Nf);return p.multi=[],p.index=s,p.componentProviders=0,vv(p,c,u&&!a),p}(c?mb:La,a.length,c,u,C);!c&&Ue&&(a[ye].providerFactory=We),cc(p,i,s.length,0),s.push(w),A.directiveStart++,A.directiveEnd++,c&&(A.providerIndexes+=1048576),a.push(We),_.push(We)}else cc(p,i,W>-1?W:ye,vv(a[c?ye:W],C,!c&&u));!c&&u&&Ue&&a[ye].componentProviders++}}}function cc(i,s,a,u){const c=Od(s),p=function NI(i){return!!i.useClass}(s);if(c||p){const C=(p?Q(s.useClass):s).prototype.ngOnDestroy;if(C){const A=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const S=A.indexOf(a);-1===S?A.push(a,[u,C]):A[S+1].push(u,C)}else A.push(a,C)}}}function vv(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function wv(i,s,a,u){for(let c=a;c<u;c++)if(s[c]===i)return c;return-1}function La(i,s,a,u){return Ev(this.multi,[])}function mb(i,s,a,u){const c=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=ts(a,a[1],this.providerFactory.index,u);p=w.slice(0,_),Ev(c,p);for(let C=_;C<w.length;C++)p.push(w[C])}else p=[],Ev(c,p);return p}function Ev(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Lu(i,s=[]){return a=>{a.providersResolver=(u,c)=>function oh(i,s,a){const u=xt();if(u.firstCreatePass){const c=Lr(i);ah(a,u.data,u.blueprint,c,!0),ah(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class uh{}class _b{resolveComponentFactory(s){throw function Rm(i){const s=Error(`No component factory found for ${de(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Nm=(()=>{class i{}return i.NULL=new _b,i})();function vb(){return dc(pn(),Ce())}function dc(i,s){return new sp(hr(i,s))}let sp=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=vb,i})();function wb(i){return i instanceof sp?i.nativeElement:i}class EE{}let Vu=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Eb(){const i=Ce(),a=fr(pn().index,i);return function lh(i){return i[11]}(_i(a)?a:i)}(),i})(),CE=(()=>{class i{}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:()=>null}),i})();class Cv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Yo=new Cv("13.2.6"),km={};function Va(i,s,a,u,c=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&u.push(nn(p)),ri(p))for(let w=10;w<p.length;w++){const C=p[w],A=C[1].firstChild;null!==A&&Va(C[1],C,A,u)}const _=a.type;if(8&_)Va(i,s,a.child,u);else if(32&_){const w=Ye(a,s);let C;for(;C=w();)u.push(C)}else if(16&_){const w=O0(s,a);if(Array.isArray(w))u.push(...w);else{const C=bn(s[16]);Va(C[1],C,w,u,!0)}}a=c?a.projectionNext:a.next}return u}class Uu{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Va(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ri(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(yg(s,u),Oi(a,u))}this._attachedToViewContainer=!1}Ly(this._lView[1],this._lView)}onDestroy(s){a_(this._lView[1],this._lView,null,s)}markForCheck(){c_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$g(this._lView[1],this._lView,this.context)}checkNoChanges(){!function bI(i,s,a){ks(!0);try{$g(i,s,a)}finally{ks(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ky(i,s){bu(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new xe(902,"");this._appRef=s}}class Fm extends Uu{constructor(s){super(s),this._view=s}detectChanges(){aw(this._view)}checkNoChanges(){!function DI(i){ks(!0);try{aw(i)}finally{ks(!1)}}(this._view)}get context(){return null}}class Lm extends Nm{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Ut(s);return new Ui(a,this.ngModule)}}function Vm(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Ui extends uh{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function F0(i){return i.map(Id).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Vm(this.componentDef.inputs)}get outputs(){return Vm(this.componentDef.outputs)}create(s,a,u,c){const p=(c=c||this.ngModule)?function ch(i,s){return{get:(a,u,c)=>{const p=i.get(a,km,c);return p!==km||u===km?p:s.get(a,u,c)}}}(s,c.injector):s,_=p.get(EE,Ro),w=p.get(CE,null),C=_.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",S=u?function Z0(i,s,a){if(cn(i))return i.selectRootElement(s,a===Vt.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(C,u,this.componentDef.encapsulation):Io(_.createRenderer(null,this.componentDef),A,function Iv(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(A)),k=this.componentDef.onPush?576:528,V=function Sf(i,s){return{components:[],scheduler:i||pg,clean:AI,playerHandler:s||null,flags:0}}(),W=kg(0,null,null,1,0,null,null,null,null,null),ye=bf(null,W,V,k,null,null,_,C,w,p);let Re,Ue;ro(ye);try{const We=function _w(i,s,a,u,c,p){const _=a[1];a[20]=i;const C=Ad(_,20,2,"#host",null),A=C.mergedAttrs=s.hostAttrs;null!==A&&(Aa(C,A,!0),null!==i&&(pl(c,i,A),null!==C.classes&&Cd(c,i,C.classes),null!==C.styles&&Cg(c,i,C.styles)));const S=u.createRenderer(i,s),k=bf(a,q0(s),null,s.onPush?64:16,a[20],C,u,S,p||null,null);return _.firstCreatePass&&(lo(oi(C,a),_,s.type),ew(_,C),tw(C,a.length,1)),jg(a,k),a[20]=k}(S,this.componentDef,ye,_,C);if(S)if(u)pl(C,S,["ng-version",Yo.full]);else{const{attrs:Ee,classes:ot}=function L0(i){const s=[],a=[];let u=1,c=2;for(;u<i.length;){let p=i[u];if("string"==typeof p)2===c?""!==p&&s.push(p,i[++u]):8===c&&a.push(p);else{if(!bo(c))break;c=p}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ee&&pl(C,S,Ee),ot&&ot.length>0&&Cd(C,S,ot.join(" "))}if(Ue=aa(W,20),void 0!==a){const Ee=Ue.projection=[];for(let ot=0;ot<this.ngContentSelectors.length;ot++){const $t=a[ot];Ee.push(null!=$t?Array.from($t):null)}}Re=function xr(i,s,a,u,c){const p=a[1],_=function hI(i,s,a){const u=pn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),nw(i,u,s,Da(i,s,1,null),a));const c=ts(s,i,u.directiveStart,u);fn(c,s);const p=hr(u,s);return p&&fn(p,s),c}(p,a,s);if(u.components.push(_),i[8]=_,c&&c.forEach(C=>C(_,s)),s.contentQueries){const C=pn();s.contentQueries(1,_,C.directiveStart)}const w=pn();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Vs(w.index),Q0(a[1],w,0,w.directiveStart,w.directiveEnd,s),J0(s,_)),_}(We,this.componentDef,ye,V,[Zr]),Sd(W,ye,null)}finally{so()}return new bE(this.componentType,Re,dc(Ue,ye),ye,Ue)}}class bE extends class yb{}{constructor(s,a,u,c,p){super(),this.location=u,this._rootLView=c,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Fm(c),this.componentType=s}get injector(){return new Ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Bu{}class Dv{}const hc=new Map;class TE extends Bu{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Lm(this);const u=an(s);this._bootstrapComponents=g(u.bootstrap),this._r3Injector=dw(s,a,[{provide:Bu,useValue:this},{provide:Nm,useValue:this.componentFactoryResolver}],de(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=ce.THROW_IF_NOT_FOUND,u=st.Default){return s===ce||s===Bu||s===f_?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Bm extends Dv{constructor(s){super(),this.moduleType=s,null!==an(s)&&function DE(i){const s=new Set;!function a(u){const c=an(u,!0),p=c.id;null!==p&&(function Tv(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${de(s)} vs ${de(s.name)}`)}(p,hc.get(p),u),hc.set(p,u));const _=g(c.imports);for(const w of _)s.has(w)||(s.add(w),a(w))}(i)}(s)}create(s){return new TE(this.moduleType,s)}}function fc(i,s,a){const u=function nr(){const i=lt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}()+i,c=Ce();return c[u]===At?function Ao(i,s,a){return i[s]=a}(c,u,a?s.call(a):s()):function Yl(i,s){return i[s]}(c,u)}function fp(i){return s=>{setTimeout(i,void 0,s)}}const Qo=class hp extends f.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var c,p,_;let w=s,C=a||(()=>null),A=u;if(s&&"object"==typeof s){const k=s;w=null===(c=k.next)||void 0===c?void 0:c.bind(k),C=null===(p=k.error)||void 0===p?void 0:p.bind(k),A=null===(_=k.complete)||void 0===_?void 0:_.bind(k)}this.__isAsync&&(C=fp(C),w&&(w=fp(w)),A&&(A=fp(A)));const S=super.subscribe({next:w,error:C,complete:A});return s instanceof K.w0&&s.add(S),S}};function ar(){return this._results[rr()]()}class zt{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=rr(),u=zt.prototype;u[a]||(u[a]=ar)}get changes(){return this._changes||(this._changes=new Qo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const c=Sr(s);(this._changesDetected=!function pu(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],p=s[u];if(a&&(c=a(c),p=a(p)),p!==c)return!1}return!0}(u._results,c,a))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let fh=(()=>{class i{}return i.__NG_ELEMENT_ID__=Zn,i})();const FE=fh,ju=class extends FE{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=bf(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(a)),Sd(a,u,s),new Uu(u)}};function Zn(){return yc(pn(),Ce())}function yc(i,s){return 4&i.type?new ju(s,i,dc(i,s)):null}let ur=(()=>{class i{}return i.__NG_ELEMENT_ID__=Dn,i})();function Dn(){return UE(pn(),Ce())}const LE=ur,_c=class extends LE{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return dc(this._hostTNode,this._hostLView)}get injector(){return new Ei(this._hostTNode,this._hostLView)}get parentInjector(){const s=$r(this._hostTNode,this._hostLView);if(Qc(s)){const a=mn(s,this._hostLView),u=Qt(s);return new Ei(a[1].data[u+8],a)}return new Ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=VE(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const c=s.createEmbeddedView(a||{});return this.insert(c,u),c}createComponent(s,a,u,c,p){const _=s&&!function Hr(i){return"function"==typeof i}(s);let w;if(_)w=a;else{const k=a||{};w=k.index,u=k.injector,c=k.projectableNodes,p=k.ngModuleRef}const C=_?s:new Ui(Ut(s)),A=u||this.parentInjector;if(!p&&null==C.ngModule){const V=(_?A:this.parentInjector).get(Bu,null);V&&(p=V)}const S=C.create(A,c,void 0,p);return this.insert(S.hostView,w),S}insert(s,a){const u=s._lView,c=u[1];if(function eu(i){return ri(i[3])}(u)){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const k=u[3],V=new _c(k,k[6],k[3]);V.detach(V.indexOf(s))}}const p=this._adjustIndex(a),_=this._lContainer;!function YC(i,s,a,u){const c=10+u,p=a.length;u>0&&(a[c-1][4]=s),u<p-10?(s[4]=a[c],gu(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function $o(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(c,u,_,p);const w=wg(p,_),C=u[11],A=_g(C,_[7]);return null!==A&&function jl(i,s,a,u,c,p){u[0]=c,u[6]=s,bu(i,u,a,1,c,p)}(c,_[6],C,u,A,w),s.attachToViewContainerRef(),gu(Bi(_),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=VE(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=yg(this._lContainer,a);u&&(Oi(Bi(this._lContainer),a),Ly(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=yg(this._lContainer,a);return u&&null!=Oi(Bi(this._lContainer),a)?new Uu(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function VE(i){return i[8]}function Bi(i){return i[8]||(i[8]=[])}function UE(i,s){let a;const u=s[i.index];if(ri(u))a=u;else{let c;if(8&i.type)c=nn(u);else{const p=s[11];c=p.createComment("");const _=hr(i,s);Cu(p,_g(p,_),c,function x0(i,s){return cn(i)?i.nextSibling(s):s.nextSibling}(p,_),!1)}s[i.index]=a=ow(u,s,c,i),jg(s,a)}return new _c(a,i,s)}class Sv{constructor(s){this.queryList=s,this.matches=null}clone(){return new Sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class rn{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let p=0;p<u;p++){const _=a.getByIndex(p);c.push(this.queries[_.indexInDeclarationView].clone())}return new rn(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Ir(s,a).matches&&this.queries[a].setDirty()}}class BE{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class ph{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const c=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(s,c);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new ph(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class vc{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new vc(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const p=u[c];this.matchTNodeWithReadOption(s,a,gp(a,p)),this.matchTNodeWithReadOption(s,a,_l(a,s,p,!1,!1))}else u===fh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,_l(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===sp||c===ur||c===fh&&4&a.type)this.addMatch(a.index,-2);else{const p=_l(a,s,c,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function gp(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function jE(i,s,a,u){return-1===a?function $m(i,s){return 11&i.type?dc(i,s):4&i.type?yc(i,s):null}(s,i):-2===a?function $E(i,s,a){return a===sp?dc(s,i):a===fh?yc(s,i):a===ur?UE(s,i):void 0}(i,s,u):ts(i,i[1],a,s)}function Mv(i,s,a,u){const c=s[19].queries[u];if(null===c.matches){const p=i.data,_=a.matches,w=[];for(let C=0;C<_.length;C+=2){const A=_[C];w.push(A<0?null:jE(s,p[A],_[C+1],a.metadata.read))}c.matches=w}return c.matches}function xv(i,s,a,u){const c=i.queries.getByIndex(a),p=c.matches;if(null!==p){const _=Mv(i,s,c,a);for(let w=0;w<p.length;w+=2){const C=p[w];if(C>0)u.push(_[w/2]);else{const A=p[w+1],S=s[-C];for(let k=10;k<S.length;k++){const V=S[k];V[17]===V[3]&&xv(V[1],V,A,u)}if(null!==S[9]){const k=S[9];for(let V=0;V<k.length;V++){const W=k[V];xv(W[1],W,A,u)}}}}}return u}function Ov(i){const s=Ce(),a=xt(),u=al();ul(u+1);const c=Ir(a,u);if(i.dirty&&Ps(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const p=c.crossesNgTemplate?xv(a,s,u,[]):Mv(a,s,c,u);i.reset(p,wb),i.notifyOnChanges()}return!0}return!1}function GE(i,s,a,u){const c=xt();if(c.firstCreatePass){const p=pn();(function Pv(i,s,a){null===i.queries&&(i.queries=new ph),i.queries.track(new vc(s,a))})(c,new BE(s,a,u),p.index),function Tb(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function gh(i,s,a){const u=new zt(4==(4&a));a_(i,s,u,u.destroy),null===s[19]&&(s[19]=new rn),s[19].queries.push(new Sv(u))}(c,Ce(),a)}function qE(){return function Db(i,s){return i[19].queries[s].queryList}(Ce(),al())}function Ir(i,s){return i.queries.getByIndex(s)}function wp(...i){}const Ep=new In("Application Initializer");let ps=(()=>{class i{constructor(a){this.appInits=a,this.resolve=wp,this.reject=wp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(cm(p))a.push(p);else if(jd(p)){const _=new Promise((w,C)=>{p.subscribe({complete:w,error:C})});a.push(_)}}Promise.all(a).then(()=>{u()}).catch(c=>{this.reject(c)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Qe(Ep,8))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const iC=new In("AppId",{providedIn:"root",factory:function mh(){return`${jv()}${jv()}${jv()}`}});function jv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $u=new In("Platform Initializer"),$v=new In("Platform ID"),qm=new In("appBootstrapListener");let br=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();const Cp=new In("LocaleId",{providedIn:"root",factory:()=>Nt(Cp,st.Optional|st.SkipSelf)||function Hv(){return"undefined"!=typeof $localize&&$localize.locale||eh}()}),Gv=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class sC{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let zm=(()=>{class i{compileModuleSync(a){return new Bm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=g(an(a).declarations).reduce((_,w)=>{const C=Ut(w);return C&&_.push(new Ui(C)),_},[]);return new sC(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const vh=(()=>Promise.resolve(0))();function Ic(i){"undefined"==typeof Zone?vh.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class gs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qo(!1),this.onMicrotaskEmpty=new Qo(!1),this.onStable=new Qo(!1),this.onError=new Qo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&a,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function oC(){let i=kt.requestAnimationFrame,s=kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function aC(i){const s=()=>{!function Hb(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(kt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Zm(i),i.isCheckStableRunning=!0,Wm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Zm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,c,p,_,w)=>{try{return Km(i),a.invokeTask(c,p,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),wh(i)}},onInvoke:(a,u,c,p,_,w,C)=>{try{return Km(i),a.invoke(c,p,_,w,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),wh(i)}},onHasTask:(a,u,c,p)=>{a.hasTask(c,p),u===c&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Zm(i),Wm(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,c,p)=>(a.handleError(c,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,c){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+c,s,qv,wp,wp);try{return p.runTask(_,a,u)}finally{p.cancelTask(_)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const qv={};function Wm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Zm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Km(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function wh(i){i._nesting--,Wm(i)}class Eh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qo,this.onMicrotaskEmpty=new Qo,this.onStable=new Qo,this.onError=new Qo}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,c){return s.apply(a,u)}}let uC=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gs.assertNotInAngularZone(),Ic(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ic(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,c){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:c})}whenStable(a,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(Qe(gs))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})(),zv=(()=>{class i{constructor(){this._applications=new Map,Wv.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Wv.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();class Gb{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function qb(i){Wv=i}let ji,Wv=new Gb;const cC=new In("AllowMultipleToken");class zb{constructor(s,a){this.name=s,this.token=a}}function Ip(i,s,a=[]){const u=`Platform: ${s}`,c=new In(u);return(p=[])=>{let _=Ih();if(!_||_.injector.get(cC,!1))if(i)i(a.concat(p).concat({provide:c,useValue:!0}));else{const w=a.concat(p).concat({provide:c,useValue:!0},{provide:Gg,useValue:"platform"});!function Zv(i){if(ji&&!ji.destroyed&&!ji.injector.get(cC,!1))throw new xe(400,"");ji=i.get(bp);const s=i.get($u,null);s&&s.forEach(a=>a())}(ce.create({providers:w,name:u}))}return function Wb(i){const s=Ih();if(!s)throw new xe(401,"");return s}()}}function Ih(){return ji&&!ji.destroyed?ji:null}let bp=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const w=function Ym(i,s){let a;return a="noop"===i?new Eh:("zone.js"===i?void 0:i)||new gs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:gs,useValue:w}];return w.run(()=>{const A=ce.create({providers:C,parent:this.injector,name:a.moduleType.name}),S=a.create(A),k=S.injector.get(_r,null);if(!k)throw new xe(402,"");return w.runOutsideAngular(()=>{const V=w.onError.subscribe({next:W=>{k.handleError(W)}});S.onDestroy(()=>{bh(this._modules,S),V.unsubscribe()})}),function dC(i,s,a){try{const u=a();return cm(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(k,w,()=>{const V=S.injector.get(ps);return V.runInitializers(),V.donePromise.then(()=>(function oE(i){rt(i,"Expected localeId to be defined"),"string"==typeof i&&(sE=i.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Cp,eh)||eh),this._moduleDoBootstrap(S),S))})})}bootstrapModule(a,u=[]){const c=Ti({},u);return function Hu(i,s,a){const u=new Bm(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(a){const u=a.injector.get(Qm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new xe(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Qe(ce))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();function Ti(i,s){return Array.isArray(s)?s.reduce(Ti,i):Object.assign(Object.assign({},i),s)}let Qm=(()=>{class i{constructor(a,u,c,p,_){this._zone=a,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new R.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),C=new R.y(A=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{gs.assertNotInAngularZone(),Ic(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{gs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{S.unsubscribe(),k.unsubscribe()}});this.isStable=(0,oe.T)(w,C.pipe((0,J.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new xe(405,"");let c;c=a instanceof uh?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const p=function lC(i){return i.isBoundToModule}(c)?void 0:this._injector.get(Bu),w=c.create(ce.NULL,[],u||c.selector,p),C=w.location.nativeElement,A=w.injector.get(uC,null),S=A&&w.injector.get(zv);return A&&S&&S.registerApplication(C,A),w.onDestroy(()=>{this.detachView(w.hostView),bh(this.components,w),S&&S.unregisterApplication(C)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new xe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;bh(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(qm,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Qe(gs),Qe(ce),Qe(_r),Qe(Nm),Qe(ps))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function bh(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let ja=!0,bc=!1;function fC(){return bc=!0,ja}function Dc(){if(bc)throw new Error("Cannot enable prod mode after platform setup.");ja=!1}let Gu=(()=>{class i{}return i.__NG_ELEMENT_ID__=Tc,i})();function Tc(i){return function Yv(i,s,a){if(As(i)&&!a){const u=fr(i.index,s);return new Uu(u,u)}return 47&i.type?new Uu(s[16],s):null}(pn(),Ce(),16==(16&i))}class iy{constructor(){}supports(s){return Nd(s)}create(s){return new Xb(s)}}const gC=(i,s)=>s;class Xb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||gC}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,c=0,p=null;for(;a||u;){const _=!u||a&&a.currentIndex<_C(u,c,p)?a:u,w=_C(_,c,p),C=_.currentIndex;if(_===u)c--,u=u._nextRemoved;else if(a=a._next,null==_.previousIndex)c++;else{p||(p=[]);const A=w-c,S=C-c;if(A!=S){for(let V=0;V<A;V++){const W=V<p.length?p[V]:p[V]=0,ye=W+V;S<=ye&&ye<A&&(p[V]=W+1)}p[_.previousIndex]=S-A}}w!==C&&s(_,w,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Nd(s))throw new xe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,p,_,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],_=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,p,_,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,w),u=!0),a=a._next}else c=0,function bw(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[rr()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,w=>{_=this._trackByFn(c,w),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,w,_,c)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,c),u=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,c){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,c)):s=this._addAfter(new mC(a,u),p,c),s}_verifyReinsertion(s,a,u,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,p=s._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new sy),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sy),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class mC{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class sy{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new yC,this.map.set(a,u)),u.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _C(i,s,a){const u=i.previousIndex;if(null===u)return u;let c=0;return a&&u<a.length&&(c=a[u]),u+s+c}class Xv{constructor(){}supports(s){return s instanceof Map||Yg(s)}create(){return new eD}}class eD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Yg(s)))throw new xe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(c,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const p=c._prev,_=c._next;return p&&(p._next=_),_&&(_._prev=p),c._next=null,c._prev=null,c}const u=new vC(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class vC{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wC(){return new qu([new iy])}let qu=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||wC()),deps:[[i,new os,new yr]]}}find(a){const u=this.factories.find(c=>c.supports(a));if(null!=u)return u;throw new xe(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:wC}),i})();function oy(){return new Ah([new Xv])}let Ah=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||oy()),deps:[[i,new os,new yr]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new xe(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:oy}),i})();const nD=Ip(null,"core",[{provide:$v,useValue:"unknown"},{provide:bp,deps:[ce]},{provide:zv,deps:[]},{provide:br,deps:[]}]);let e0=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Qe(Qm))},i.\u0275mod=Y({type:i}),i.\u0275inj=Yt({}),i})()},3942:(nt,De,N)=>{N.d(De,{Z:()=>xe});var f=N(2090),K=N(4859),R=N(9681),oe=N(1877);class J{constructor(he,we){this._delegate=he,this.firebase=we,(0,R._addComponent)(he,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(he,we=R._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(he);return!Ge.isInitialized()&&"EXPLICIT"===(null===(Ke=Ge.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:we})}_removeServiceInstance(he,we=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(we)}_addComponent(he){(0,R._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,R._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ue(){const Ne=function de(Ne){const he={},we={__esModule:!0,initializeApp:function Ie(Be,ee={}){const q=R.initializeApp(Be,ee);if((0,f.r3)(he,q.name))return he[q.name];const te=new Ne(q,we);return he[q.name]=te,te},app:Ge,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function ve(Be){const ee=Be.name,q=ee.replace("-compat","");if(R._registerComponent(Be)&&"PUBLIC"===Be.type){const te=(me=Ge())=>{if("function"!=typeof me[q])throw ie.create("invalid-app-argument",{appName:ee});return me[q]()};void 0!==Be.serviceProps&&(0,f.ZB)(te,Be.serviceProps),we[q]=te,Ne.prototype[q]=function(...me){return this._getService.bind(this,ee).apply(this,Be.multipleInstances?me:[])}}return"PUBLIC"===Be.type?we[q]:null},removeApp:function Ke(Be){delete he[Be]},useAsService:function je(Be,ee){return"serverAuth"===ee?null:ee},modularAPIs:R}};function Ge(Be){if(!(0,f.r3)(he,Be=Be||R._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Be});return he[Be]}return we.default=we,Object.defineProperty(we,"apps",{get:function _e(){return Object.keys(he).map(Be=>he[Be])}}),Ge.App=Ne,we}(J);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function he(we){(0,f.ZB)(Ne,we)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Ne}(),j=new oe.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=B;!function Te(Ne){(0,R.registerVersion)("@firebase/app-compat","0.1.21",Ne)}()},9681:(nt,De,N)=>{N.r(De),N.d(De,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Dr,_DEFAULT_ENTRY_NAME:()=>Tn,_addComponent:()=>on,_addOrOverwriteComponent:()=>yi,_apps:()=>dt,_clearComponents:()=>Lt,_components:()=>sn,_getProvider:()=>Hi,_registerComponent:()=>Xt,_removeServiceInstance:()=>Yt,deleteApp:()=>qi,getApp:()=>Tr,getApps:()=>Gi,initializeApp:()=>Ai,onLog:()=>$n,registerVersion:()=>kr,setLogLevel:()=>Nn});var f=N(5861),K=N(4859),R=N(1877),oe=N(2090);class J{constructor(be){this.container=be}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function ge(ze){const be=ze.getComponent();return"VERSION"===(null==be?void 0:be.type)}(Ze)){const ut=Ze.getImmediate();return`${ut.library}/${ut.version}`}return null}).filter(Ze=>Ze).join(" ")}}const ie="@firebase/app",ue=new R.Yd("@firebase/app"),Tn="[DEFAULT]",rt={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dt=new Map,sn=new Map;function on(ze,be){try{ze.container.addComponent(be)}catch(Ze){ue.debug(`Component ${be.name} failed to register with FirebaseApp ${ze.name}`,Ze)}}function yi(ze,be){ze.container.addOrOverwriteComponent(be)}function Xt(ze){const be=ze.name;if(sn.has(be))return ue.debug(`There were multiple attempts to register component ${be}.`),!1;sn.set(be,ze);for(const Ze of dt.values())on(Ze,ze);return!0}function Hi(ze,be){const Ze=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),ze.container.getProvider(be)}function Yt(ze,be,Ze=Tn){Hi(ze,be).clearInstance(Ze)}function Lt(){sn.clear()}const ei=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Es{constructor(be,Ze,ut){this._isDeleted=!1,this._options=Object.assign({},be),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=ut,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this.checkDestroyed(),this._automaticDataCollectionEnabled=be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(be){this._isDeleted=be}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}const Dr="9.6.10";function Ai(ze,be={}){"object"!=typeof be&&(be={name:be});const Ze=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},be),ut=Ze.name;if("string"!=typeof ut||!ut)throw ei.create("bad-app-name",{appName:String(ut)});const Rt=dt.get(ut);if(Rt){if((0,oe.vZ)(ze,Rt.options)&&(0,oe.vZ)(Ze,Rt.config))return Rt;throw ei.create("duplicate-app",{appName:ut})}const Mt=new K.H0(ut);for(const L of sn.values())Mt.addComponent(L);const U=new Es(ze,Ze,Mt);return dt.set(ut,U),U}function Tr(ze=Tn){const be=dt.get(ze);if(!be)throw ei.create("no-app",{appName:ze});return be}function Gi(){return Array.from(dt.values())}function qi(ze){return st.apply(this,arguments)}function st(){return(st=(0,f.Z)(function*(ze){const be=ze.name;dt.has(be)&&(dt.delete(be),yield Promise.all(ze.container.getProviders().map(Ze=>Ze.delete())),ze.isDeleted=!0)})).apply(this,arguments)}function kr(ze,be,Ze){var ut;let Rt=null!==(ut=rt[ze])&&void 0!==ut?ut:ze;Ze&&(Rt+=`-${Ze}`);const Mt=Rt.match(/\s|\//),U=be.match(/\s|\//);if(Mt||U){const L=[`Unable to register library "${Rt}" with version "${be}":`];return Mt&&L.push(`library name "${Rt}" contains illegal characters (whitespace or "/")`),Mt&&U&&L.push("and"),U&&L.push(`version name "${be}" contains illegal characters (whitespace or "/")`),void ue.warn(L.join(" "))}Xt(new K.wA(`${Rt}-version`,()=>({library:Rt,version:be}),"VERSION"))}function $n(ze,be){if(null!==ze&&"function"!=typeof ze)throw ei.create("invalid-log-argument");(0,R.Am)(ze,be)}function Nn(ze){(0,R.Ub)(ze)}const hn="firebase-heartbeat-store";let Hn=null;function Cs(){return Hn||(Hn=(0,oe.X3)("firebase-heartbeat-database",1,(ze,be)=>{0===be&&ze.createObjectStore(hn)}).catch(ze=>{throw ei.create("storage-open",{originalErrorMessage:ze.message})})),Hn}function Vt(){return(Vt=(0,f.Z)(function*(ze){try{return(yield Cs()).transaction(hn).objectStore(hn).get(Qn(ze))}catch(be){throw ei.create("storage-get",{originalErrorMessage:be.message})}})).apply(this,arguments)}function et(ze,be){return mt.apply(this,arguments)}function mt(){return(mt=(0,f.Z)(function*(ze,be){try{const ut=(yield Cs()).transaction(hn,"readwrite");return yield ut.objectStore(hn).put(be,Qn(ze)),ut.complete}catch(Ze){throw ei.create("storage-set",{originalErrorMessage:Ze.message})}})).apply(this,arguments)}function Qn(ze){return`${ze.name}!${ze.options.appId}`}class Qs{constructor(be){this.container=be,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new at(Ze),this._heartbeatsCachePromise=this._storage.read().then(ut=>(this._heartbeatsCache=ut,ut))}triggerHeartbeat(){var be=this;return(0,f.Z)(function*(){const ut=be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=lr();if(null===be._heartbeatsCache&&(be._heartbeatsCache=yield be._heartbeatsCachePromise),be._heartbeatsCache.lastSentHeartbeatDate!==Rt&&!be._heartbeatsCache.heartbeats.some(Mt=>Mt.date===Rt))return be._heartbeatsCache.heartbeats.push({date:Rt,agent:ut}),be._heartbeatsCache.heartbeats=be._heartbeatsCache.heartbeats.filter(Mt=>{const U=new Date(Mt.date).valueOf();return Date.now()-U<=2592e6}),be._storage.overwrite(be._heartbeatsCache)})()}getHeartbeatsHeader(){var be=this;return(0,f.Z)(function*(){if(null===be._heartbeatsCache&&(yield be._heartbeatsCachePromise),null===be._heartbeatsCache||0===be._heartbeatsCache.heartbeats.length)return"";const Ze=lr(),{heartbeatsToSend:ut,unsentEntries:Rt}=function Jn(ze,be=1024){const Ze=[];let ut=ze.slice();for(const Rt of ze){const Mt=Ze.find(U=>U.agent===Rt.agent);if(Mt){if(Mt.dates.push(Rt.date),cr(Ze)>be){Mt.dates.pop();break}}else if(Ze.push({agent:Rt.agent,dates:[Rt.date]}),cr(Ze)>be){Ze.pop();break}ut=ut.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:ut}}(be._heartbeatsCache.heartbeats),Mt=(0,oe.L)(JSON.stringify({version:2,heartbeats:ut}));return be._heartbeatsCache.lastSentHeartbeatDate=Ze,Rt.length>0?(be._heartbeatsCache.heartbeats=Rt,yield be._storage.overwrite(be._heartbeatsCache)):(be._heartbeatsCache.heartbeats=[],be._storage.overwrite(be._heartbeatsCache)),Mt})()}}function lr(){return(new Date).toISOString().substring(0,10)}class at{constructor(be){this.app=be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var be=this;return(0,f.Z)(function*(){return(yield be._canUseIndexedDBPromise)&&(yield function ta(ze){return Vt.apply(this,arguments)}(be.app))||{heartbeats:[]}})()}overwrite(be){var Ze=this;return(0,f.Z)(function*(){var ut;if(yield Ze._canUseIndexedDBPromise){const Mt=yield Ze.read();return et(Ze.app,{lastSentHeartbeatDate:null!==(ut=be.lastSentHeartbeatDate)&&void 0!==ut?ut:Mt.lastSentHeartbeatDate,heartbeats:be.heartbeats})}})()}add(be){var Ze=this;return(0,f.Z)(function*(){var ut;if(yield Ze._canUseIndexedDBPromise){const Mt=yield Ze.read();return et(Ze.app,{lastSentHeartbeatDate:null!==(ut=be.lastSentHeartbeatDate)&&void 0!==ut?ut:Mt.lastSentHeartbeatDate,heartbeats:[...Mt.heartbeats,...be.heartbeats]})}})()}}function cr(ze){return(0,oe.L)(JSON.stringify({version:2,heartbeats:ze})).length}!function Pt(ze){Xt(new K.wA("platform-logger",be=>new J(be),"PRIVATE")),Xt(new K.wA("heartbeat",be=>new Qs(be),"PRIVATE")),kr(ie,"0.7.20",ze),kr(ie,"0.7.20","esm2017"),kr("fire-js","")}("")},4859:(nt,De,N)=>{N.d(De,{wA:()=>R,H0:()=>de});var f=N(5861),K=N(2090);class R{constructor(B,j,Q){this.name=B,this.instanceFactory=j,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const oe="[DEFAULT]";class J{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const Q=new K.BH;if(this.instancesDeferred.set(j,Q),this.isInitialized(j)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:j});He&&Q.resolve(He)}catch(He){}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const Q=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),He=null!==(j=null==B?void 0:B.optional)&&void 0!==j&&j;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Te){if(He)return null;throw Te}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function ie(ue){return"EAGER"===ue.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(j){}for(const[j,Q]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(j);try{const Te=this.getOrInitializeService({instanceIdentifier:He});Q.resolve(Te)}catch(Te){}}}}clearInstance(B=oe){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,f.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...j.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=oe){return this.instances.has(B)}getOptions(B=oe){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,Q=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:Q,options:j});for(const[Te,xe]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Te)&&xe.resolve(He);return He}onInit(B,j){var Q;const He=this.normalizeInstanceIdentifier(j),Te=null!==(Q=this.onInitCallbacks.get(He))&&void 0!==Q?Q:new Set;Te.add(B),this.onInitCallbacks.set(He,Te);const xe=this.instances.get(He);return xe&&B(xe,He),()=>{Te.delete(B)}}invokeOnInitCallbacks(B,j){const Q=this.onInitCallbacks.get(j);if(Q)for(const He of Q)try{He(B,j)}catch(Te){}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let Q=this.instances.get(B);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=B,ue===oe?void 0:ue),options:j}),this.instances.set(B,Q),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(Q,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,Q)}catch(He){}var ue;return Q||null}normalizeInstanceIdentifier(B=oe){return this.component?this.component.multipleInstances?B:oe:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new J(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,De,N)=>{N.d(De,{in:()=>K,Yd:()=>ie,Ub:()=>de,Am:()=>ue});const f=[];var K=(()=>{return(B=K||(K={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",K;var B})();const R={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},oe=K.INFO,J={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},ge=(B,j,...Q)=>{if(j<B.logLevel)return;const He=(new Date).toISOString(),Te=J[j];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Te](`[${He}]  ${B.name}:`,...Q)};class ie{constructor(j){this.name=j,this._logLevel=oe,this._logHandler=ge,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in K))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?R[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...j),this._logHandler(this,K.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...j),this._logHandler(this,K.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,K.INFO,...j),this._logHandler(this,K.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,K.WARN,...j),this._logHandler(this,K.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...j),this._logHandler(this,K.ERROR,...j)}}function de(B){f.forEach(j=>{j.setLogLevel(B)})}function ue(B,j){for(const Q of f){let He=null;j&&j.level&&(He=R[j.level]),Q.userLogHandler=null===B?null:(Te,xe,...Ne)=>{const he=Ne.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(Ke){return null}}).filter(we=>we).join(" ");xe>=(null!=He?He:Te.logLevel)&&B({level:K[xe].toLowerCase(),message:he,args:Ne,type:Te.name})}}}},5861:(nt,De,N)=>{function f(R,oe,J,ge,ie,de,ue){try{var B=R[de](ue),j=B.value}catch(Q){return void J(Q)}B.done?oe(j):Promise.resolve(j).then(ge,ie)}function K(R){return function(){var oe=this,J=arguments;return new Promise(function(ge,ie){var de=R.apply(oe,J);function ue(j){f(de,ge,ie,ue,B,"next",j)}function B(j){f(de,ge,ie,ue,B,"throw",j)}ue(void 0)})}}N.d(De,{Z:()=>K})}},nt=>{nt(nt.s=9445)}]);